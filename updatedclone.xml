This file is a merged representation of a subset of the codebase, containing specifically included files, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of a subset of the repository's contents that is considered the most important context.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Only files matching these patterns are included: client/public, client/src
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
client/
  public/
    Menus/
      BackGround.png
      BurgerMeal.png
      Cappy.png
      ChickenAndBBQ.png
      ChickenAndMayo.png
      ChickenMeal.png
      Chips.png
      Coca-Cola.png
      Drinks.png
      Drinks2.png
      FishMeal.png
      Kota.jpg
      Kota.png
      KotaMeal.png
      Main Pizza131121.png
      Meals.png
      Menu.png
      mexicanChilli.png
      petter.png
      Pineapply.png
    users/
      Abram.jpg
    BackGround.png
    Carwash.png
    Central_Eatery_Logo.png
    file.svg
    globe.svg
    next.svg
    PA_Logo.png
    robots.txt
    vercel.svg
    window.svg
  src/
    app/
      about/
        components/
          CompanyDescription.tsx
          CoreValues.tsx
          KeyHighlights.tsx
          KeyLeadership.tsx
          MilestonesAndVision.tsx
          OurCommitment.tsx
          OurJourney.tsx
          OurVision.tsx
          StrengthsAndOpportunities.tsx
          WeaknessesAndThreats.tsx
          WhatMakesUsSpecial.tsx
        loading.tsx
        page.tsx
      Admin/
        carwash/
          loading.tsx
          page.tsx
        components/
          Carwash/
            BookingDetailsModal.tsx
            BookingsTable.tsx
            ConfirmDialog.tsx
          Inventory/
            InventoryTable.tsx
            ItemGroup.tsx
          Order/
            OrdersTable.tsx
            StatusBadge.tsx
        dashboard/
          components/
            CarWashOperations.tsx
            EateryOperations.tsx
            FinancialOverview.tsx
            MarketingEngagement.tsx
            OverallBusinessPerformance.tsx
          loading.tsx
          page.tsx
        inventory/
          page.tsx
        order/
          page.tsx
        seed/
          page.tsx
      api/
        user/
          route.ts
      Authentication/
        login/
          loading.tsx
          page.tsx
        register/
          loading.tsx
          page.tsx
      blog/
        components/
          BlogPostList.tsx
        loading.tsx
        page.tsx
      components/
        AboutUsSnippet.tsx
        ContactSection.tsx
        FeaturedItemsServices.tsx
        FinancialSnapshotTeaser.tsx
        HeroSection.tsx
        KeyDifferentiators.tsx
        KeyHighlights.tsx
        TargetMarketCallout.tsx
        Testimonials.tsx
      contact/
        components/
          ContactForm.tsx
          ContactInfo.tsx
          MapEmbed.tsx
          OperatingHours.tsx
        loading.tsx
        page.tsx
      gallery/
        components/
          ImageGallery.tsx
          ImageModal.tsx
        loading.tsx
        page.tsx
      menu/
        [Products]/
          [product]/
            comments/
              loading.tsx
              page.tsx
            components/
              AddtoCart.tsx
              comments.tsx
              FavoriteButton.tsx
              ProductInfo.tsx
              RelatedProducts.tsx
            loading.tsx
            page.tsx
          components/
            CommentModal.tsx
            CommentsButton.tsx
            FilterSortBar.tsx
            LikesButton.tsx
            SocialButtons.tsx
          utils/
            likesUtils.ts
          loading.tsx
          page.tsx
        cart/
          components/
            CartFooter.tsx
            CartProduct.tsx
          loading.tsx
          page.tsx
        components/
          CategoryCard.tsx
          MenuSections.tsx
          NoResults.tsx
          ProductCard.tsx
          ProductDetails.tsx
          PromotionsBanner.tsx
          SearchBar.tsx
          SpecialOffers.tsx
        layout.tsx
        loading.tsx
        page.tsx
      orders/
        [State]/
          page.tsx
        components/
          OrderItem.tsx
        layout.tsx
        page.tsx
      photo/
        page.tsx
        placeholder-images.json
        placeholderImages.ts
      privacy/
        components/
          PrivacyContent.tsx
        loading.tsx
        page.tsx
      profile/
        components/
          Elements/
            UserAddress.tsx
          AccountManagement.tsx
          LoyaltyProgramInfo.tsx
          PaymentInformation.tsx
          PersonalInformation.tsx
          Preferences.tsx
          ReferralCodeCopier.tsx
        edit/
          page.tsx
        loading.tsx
        page.tsx
      terms/
        components/
          TermsContent.tsx
        loading.tsx
        page.tsx
      favicon.ico
      globals.css
      layout.css
      layout.tsx
      loading.tsx
      page.tsx
    components/
      Navbar/
        AuthButton.tsx
        DesktopNavbar.tsx
        MobileMenu.tsx
        MobileNavbar.tsx
        Navbar.tsx
        ProfileMenu.tsx
        useMenubarToggle.ts
      shared/
        layout/
          FormField.tsx
          Main.tsx
          Section.tsx
        AddOnSelector.tsx
        Alert.tsx
        Avatar.tsx
        Button.tsx
        FormField.tsx
        Icon.tsx
        Link.tsx
        Loading.tsx
        TextInput.tsx
        TimeSlotPicker.tsx
      components.css
      ContactForm.tsx
    constant/
      Products.ts
      Stock.ts
    context/
      CartContext.tsx
      RouteGuardContext.tsx
      UserContext.tsx
    firebase/
      auth/
        logout.ts
        signIn.ts
        signUp.ts
        useAuth.ts
      carwash/
        actions.ts
        carwashAvailability.ts
        carwashBookings.ts
        carwashUtils.ts
        updateCarWashBooking.ts
      contact/
        saveContactMessage.ts
      orders/
        addOrderToFirestore.ts
        getOrderFromFirestore.ts
      products/
        seedProducts.ts
      seed/
        products.ts
        stock.ts
      stock/
        seedStock.ts
      users/
        server/
          GetServerUser.ts
        updateUser.ts
        userUtils.ts
        utils.ts
      firebaseConfig.ts
    hooks/
      Cookies/
        getdelete.ts
        setCookie.ts
        setdelete.ts
      useCarWashBookings.ts
    Images/
      BackGround.png
      Logo.jpg
    types/
      CarWashTypes.d.ts
      index.ts
      OrderTypes.d.ts
      ProductTypes.d.ts
      UserTypes.d.ts
    utils/
      dateUtils.ts
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="client/src/app/about/components/CompanyDescription.tsx">
import React from 'react';
import Icon from '@/components/shared/Icon';
import { IoBusinessSharp } from 'react-icons/io5';
import { VscSymbolStructure } from 'react-icons/vsc';
import { RxValue } from 'react-icons/rx';
import Section from '@/components/shared/layout/Section';
const CompanyDescription: React.FC = () => {
	return (
		<Section
			heading='PA Luxe Creation PTY Ltd was established in 2024 by Precious Nyathi. Precious identified a need
					in Evander for modern, affordable services that combined convenience and quality. This
					led to the concept of a dual-service establishment offering both delicious,
					budget-friendly meals and premium car care.'
			tittle='Company Description'
			Icon={IoBusinessSharp}>
			<article>
				<Icon
					icon={VscSymbolStructure}
					variant='inlineCircular'
					heading='Legal Structure'
				/>
				<p>
					PA Luxe Creation PTY Ltd is registeyellow as a Private Company (PTY) in 2023. This structure
					was chosen to provide limited liability protection to the owners, establish the business
					as a separate legal entity, and offer potential tax advantages. Registration as a PTY also
					enhances the company&apos;s cyellowibility and facilitates future fundraising efforts.
				</p>
			</article>

			<article>
				<Icon
					icon={RxValue}
					heading='Unique Value Proposition'
				/>
				<p className='text-white'>
					&ldquo;PA Luxe Creation delivers unbeatable pricing, premium service quality, and
					cutting-edge convenience through culinary excellence and industrial engineering.&rdquo;
				</p>
			</article>
		</Section>
	);
};

export default CompanyDescription;
</file>

<file path="client/src/app/about/components/CoreValues.tsx">
import { IoBulbOutline, IoShieldCheckmarkOutline, IoPeopleOutline } from 'react-icons/io5';
import Icon from '@/components/shared/Icon';
import Section from '@/components/shared/layout/Section';

const CoreValues: React.FC = () => {
	return (
		<Section tittle='Our Core Values'>
			<div className='mt-6 grid grid-cols-1 md:grid-cols-2 gap-2  text-center'>
				<article>
					<Icon
						icon={IoBulbOutline}
						heading='Innovation'
					/>
					<p>We constantly seek new ways to enhance our services and customer experience.</p>
				</article>
				<article>
					<Icon
						icon={IoShieldCheckmarkOutline}
						heading='Quality'
					/>
					<p>We are committed to providing high-quality food and exceptional car wash services.</p>
				</article>
				<article>
					<Icon
						icon={IoPeopleOutline}
						heading='Community Trust'
					/>
					<p>
						We aim to build strong relationships with our customers and contribute positively to the
						Evander community.
					</p>
				</article>
			</div>
		</Section>
	);
};

export default CoreValues;
</file>

<file path="client/src/app/about/components/KeyHighlights.tsx">
// components/KeyHighlights.tsx
import React from 'react';
import { IoBusiness, IoPricetag, IoCalendar } from 'react-icons/io5';
import Icon from '@/components/shared/Icon';
import Section from '@/components/shared/layout/Section';

const KeyHighlights = () => {
	return (
		<Section tittle='Key Highlights of PA Luxe Creation'>
			<div className='grid grid-cols-1 md:grid-cols-2  gap-2 '>
				{/* Highlight 1: Unique Combination of Services */}
				<article>
					<Icon icon={IoBusiness} />
					<h3>Unique Service Combination</h3>
					<p className=' text-center'>
						PA Luxe Creation stands out by offering a convenient combination of a car wash and an
						eatery, catering to multiple needs in one stop.
					</p>
				</article>

				{/* Highlight 2: Competitive Car Wash Pricing */}
				<article>
					<Icon icon={IoPricetag} />
					<h3>Competitive Car Wash Pricing</h3>
					<p className=' text-center'>
						We offer attractive and competitive pricing for our car wash services, providing
						excellent value for our customers.
					</p>
				</article>

				{/* Highlight 3: Advanced Booking and Modern POS */}
				<article>
					<Icon icon={IoCalendar} />
					<h3>Advanced Systems</h3>
					<p className=' text-center'>
						Utilizing an advanced booking system and modern POS integration for a seamless and
						efficient customer experience.
					</p>
				</article>
			</div>
		</Section>
	);
};

export default KeyHighlights;
</file>

<file path="client/src/app/about/components/KeyLeadership.tsx">
import { IoPeopleOutline, IoCheckmarkCircleOutline } from 'react-icons/io5';
import Icon from '@/components/shared/Icon';
import Section from '@/components/shared/layout/Section';

const KeyLeadership: React.FC = () => {
	return (
		<Section
			tittle='Key Leadership'
			Icon={IoPeopleOutline}
			heading='PA Luxe Creation is driven by a dedicated leadership team with a diverse range of expertise.
					A key asset to our team is A.E.N Nyathi, an accomplished Industrial Engineer and
					Full-Stack Designer.'>
			<article className='leading-relaxed p-4 mt-4 text-base md:text-lg'>
				<p>A.E.N Nyathi brings a wealth of knowledge and skills to PA Luxe Creation, including:</p>
				<div className='grid grid-cols-1 md:grid-cols-2 gap-4 mt-4'>
					{[
						'Graphic Design (Photoshop, Illustrator)',
						'Web Development (full stack)',
						'Accounting & Electrical Systems',
						'Operational Workflow Optimization (Fusion 360)',
						'AI Agents (n8n)',
					].map((skill) => (
						<div
							key={skill}
							className='flex items-center gap-2'>
							<Icon
								icon={IoCheckmarkCircleOutline}
								variant='inline'
								className='text-xl text-yellow-500 flex-shrink-0'
							/>
							<span>{skill}</span>
						</div>
					))}
				</div>
				<p className='mt-4'>
					This unique blend of technical and creative expertise is instrumental in driving Central
					Eatery&apos;s success, from implementing innovative technology solutions to optimizing our
					operational workflows. A.E.N Nyathi&apos;s contributions ensure that PA Luxe Creation
					remains at the forefront of convenience and quality in Evander.
				</p>
			</article>
		</Section>
	);
};

export default KeyLeadership;
</file>

<file path="client/src/app/about/components/MilestonesAndVision.tsx">
import Icon from '@/components/shared/Icon';
import Section from '@/components/shared/layout/Section';
import { IoFlag, IoRocketOutline } from 'react-icons/io5';

const MilestonesAndVision: React.FC = () => {
	return (
		<Section
			heading='Our journey began with a vision to transform convenience in Evander. Here are some key
				moments and our aspirations for the future.'
			tittle='Milestones & Future Vision'>
			<article className='mt-6'>
				<Icon
					icon={IoFlag}
					variant='inlineCircular'
					className='text-3xl text-yellow-500'
					heading='Key Milestones'
				/>

				<ul className='list-disc list-inside '>
					<li>
						<strong>2024:</strong> PA Luxe Creation PTY Ltd was established, bringing together
						affordable, high-quality meals.
					</li>
					<li>
						<strong>2025:</strong> PA Luxe Creation PTY Ltd has established a new building in Evander
						which included luxury car washes.
					</li>

					{/* Add future milestones here */}
				</ul>
			</article>

			<article className='mt-6'>
				<Icon
					icon={IoRocketOutline}
					variant='inlineCircular'
					heading='Our Future Vision'
				/>
				<p className='text-center'>
					Our vision is to become Evander&apos;s premier destination for these combined services,
					driven by innovation, quality, and community trust. We aim to continuously innovate,
					expand our offerings, and deepen our connection with the community we serve.
				</p>
			</article>
		</Section>
	);
};

export default MilestonesAndVision;
</file>

<file path="client/src/app/about/components/OurCommitment.tsx">
import Section from '@/components/shared/layout/Section';
import Image from 'next/image';
import { IoShieldCheckmark } from 'react-icons/io5';

const OurCommitment: React.FC = () => {
	return (
		<Section
			Icon={IoShieldCheckmark}
			heading='At PA Luxe Creation PTY Ltd, we are committed to providing a premium experience in both our
					food service and car care offerings. We strive to be your convenient and affordable
					destination, delivering quality meals and luxurious car washes. Our goal is to build
					community trust through innovation and exceptional service in Evander.'
			tittle='Our Commitment'>
			<Image
				alt='logo'
				height={300}
				width={300}
				src='/PA_Logo.png'
			/>
		</Section>
	);
};

export default OurCommitment;
</file>

<file path="client/src/app/about/components/OurJourney.tsx">
import Section from '@/components/shared/layout/Section';
import Image from 'next/image';

const OurJourney: React.FC = () => {
	return (
		<Section tittle='Our Journey to PA Luxe Creation'>
			<Image
				src='/PA_Logo.png'
				alt='logo'
				width={150}
				height={150}
				className='float-right'
			/>
			<p className='text-start'>
				PA Luxe Creation PTY Ltd was established in 2024 by Precious Nyathi. Nyathi identified a need in
				Evander for modern, affordable services that combined convenience and quality. This vision
				led to the concept of a dual-service establishment offering both delicious, budget-friendly
				meals and premium car care. Our journey is fueled by a commitment to providing a unique and
				valuable service to our community.
			</p>
		</Section>
	);
};

export default OurJourney;
</file>

<file path="client/src/app/about/components/OurVision.tsx">
import Icon from '@/components/shared/Icon';
import Section from '@/components/shared/layout/Section';
import { IoEye } from 'react-icons/io5';

const OurVision: React.FC = () => {
	return (
		<Section
			Icon={IoEye}
			tittle='Our Vision'>
			<article>
				<p className='text-center '>
					<strong>Our vision</strong> is to become Evander&apos;s premier destination for
					affordable, high-quality meals and competitively priced luxury car washes, driven by
					innovation, quality, and community trust.
				</p>
			</article>
		</Section>
	);
};

export default OurVision;
</file>

<file path="client/src/app/about/components/StrengthsAndOpportunities.tsx">
import Icon from '@/components/shared/Icon';
import Section from '@/components/shared/layout/Section';
import React from 'react';
import { GiMuscleUp, GiOppositeHearts } from 'react-icons/gi';

const StrengthsAndOpportunities: React.FC = () => {
	const strengths = [
		'20–30% cheaper car washes',
		'multidisciplinary leadership',
		'dual-service convenience.',
	];

	const opportunities = ['Taxi fleet bulk discounts,', 'loyalty program integration.'];

	return (
		<Section tittle='Strengths and Opportunities'>
			<div className='mt-6 grid grid-cols-1 md:grid-cols-2 gap-2   '>
				<article>
					<Icon
						icon={GiMuscleUp}
						heading='Strengths'
					/>
					<ul className='list-disc list-inside '>
						{strengths.map((strength, index) => (
							<li key={index}>{strength}</li>
						))}
					</ul>
				</article>

				<article>
					<Icon
						icon={GiOppositeHearts}
						heading='Opportunities'
					/>
					<ul className='list-disc list-inside '>
						{opportunities.map((opportunity, index) => (
							<li key={index}>{opportunity}</li>
						))}
					</ul>
				</article>
			</div>
		</Section>
	);
};

export default StrengthsAndOpportunities;
</file>

<file path="client/src/app/about/components/WeaknessesAndThreats.tsx">
import Section from '@/components/shared/layout/Section';
import React from 'react';

const WeaknessesAndThreats: React.FC = () => {
	const weaknesses = ['Reliant on local foot traffic.', 'New brand awareness.', 'Limited funding.'];

	const threats = ['Competitor price matching', 'economic downturns', 'supply chain disruptions'];

	return (
		<Section tittle='Weaknesses and Threats'>
			<div className='mt-6 grid grid-cols-1 md:grid-cols-2 gap-2   '>
				<article>
					<h3>Weaknesses</h3>
					<ul className='list-disc list-inside '>
						{weaknesses.map((weakness, index) => (
							<li key={index}>{weakness}</li>
						))}
					</ul>
				</article>
				<article>
					<h3>Threats</h3>
					<ul className='list-disc list-inside '>
						{threats.map((threat, index) => (
							<li key={index}>{threat}</li>
						))}
					</ul>
				</article>
			</div>
		</Section>
	);
};

export default WeaknessesAndThreats;
</file>

<file path="client/src/app/about/components/WhatMakesUsSpecial.tsx">
import { IoSparkles, IoCalendar, IoPeople, IoFastFood } from 'react-icons/io5';
import Icon from '@/components/shared/Icon';
import Section from '@/components/shared/layout/Section';

const WhatMakesUsSpecial: React.FC = () => {
	return (
		<Section tittle='What Makes Us Special?'>
			<div className='grid grid-cols-1 md:grid-cols-2  gap-2 gap-2 '>
				<article>
					<Icon
						icon={IoSparkles}
						heading='Modern Facilities'
					/>
					<p className='text-center'>
						Unlike competitors, PA Luxe Creation boasts up-to-date facilities for both our eatery and
						car wash, ensuring a higher standard of service and a more comfortable experience for
						our customers.
					</p>
				</article>
				<article>
					<Icon
						icon={IoCalendar}
						heading='Digital Booking System'
					/>

					<p className='text-center'>
						We offer a convenient digital booking system, allowing you to easily schedule car washes
						and potentially food orders, saving you time and providing a seamless experience that
						our competitors don&apos;t.
					</p>
				</article>
				<article>
					<Icon
						icon={IoPeople}
						heading='Multidisciplinary Expertise'
					/>
					<p className='text-center'>
						Our leadership team possesses diverse expertise, from industrial engineering to design
						and business management, enabling us to optimize operations, enhance customer
						experience, and innovate in ways our competitors cannot.
					</p>
				</article>
				<article>
					<Icon
						icon={IoFastFood}
						heading='Dual-Service Convenience'
					/>
					<p className='text-center'>
						We offer the unique convenience of a high-quality eatery and a luxury car wash in one
						location, saving you time and effort compayellow to visiting separate establishments.
					</p>
				</article>
			</div>
		</Section>
	);
};

export default WhatMakesUsSpecial;
</file>

<file path="client/src/app/Admin/components/Carwash/BookingDetailsModal.tsx">
import { format } from 'date-fns';
import Button from '@/components/shared/Button';

interface BookingDetailsModalProps {
	booking: CarWashBooking | null;
	onClose: () => void;
}

const getStatusColor = (status: string) => {
	switch (status) {
		case 'confirmed':
			return 'bg-green-500/95';
		case 'cancelled':
			return 'bg-yellow-500/95';
		case 'completed':
			return 'bg-blue-500/95';
		default:
			return 'bg-yellow-500/95';
	}
};

export function BookingDetailsModal({ booking, onClose }: BookingDetailsModalProps) {
	if (!booking) return null;

	return (
		<div className='fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50'>
			<div className='bg-gray-900 rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto'>
				<div className='flex justify-between items-center mb-4'>
					<h2 className='text-xl font-bold text-white'>Booking Details</h2>
					<button
						onClick={onClose}
						className='text-gray-400 hover:text-white'>
						✕
					</button>
				</div>

				<div className='space-y-4 text-white'>
					<div className='grid grid-cols-1 md:grid-cols-2 gap-4'>
						<div>
							<h3 className='font-semibold'>Service</h3>
							<p>{booking.service}</p>
						</div>
						<div>
							<h3 className='font-semibold'>Status</h3>
							<span
								className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusColor(
									booking.status
								)}`}>
								{booking.status}
							</span>
						</div>
						<div>
							<h3 className='font-semibold'>Date</h3>
							<p>{format(new Date(booking.date), 'PPP')}</p>
						</div>
						<div>
							<h3 className='font-semibold'>Time</h3>
							<p>{booking.time}</p>
						</div>
						<div>
							<h3 className='font-semibold'>Worker</h3>
							<p>{booking.worker || 'Not assigned'}</p>
						</div>
						{booking.vehicleDetails && (
							<div>
								<h3 className='font-semibold'>Vehicle Details</h3>
								<p>{booking.vehicleDetails}</p>
							</div>
						)}
						{booking.addOns && booking.addOns.length > 0 && (
							<div className='md:col-span-2'>
								<h3 className='font-semibold'>Add-ons</h3>
								<p>{booking.addOns.join(', ')}</p>
							</div>
						)}
					</div>

					<div className='mt-6 flex justify-end space-x-2'>
						<Button
							variant="danger"
							onClick={onClose}
						>
							Close
						</Button>
					</div>
				</div>
			</div>
		</div>
	);
}
</file>

<file path="client/src/app/Admin/components/Carwash/BookingsTable.tsx">
import { format } from 'date-fns';
import Button from '@/components/shared/Button';

interface BookingsTableProps {
	bookings: CarWashBooking[];
	onStatusChange: (
		bookingId: string,
		newStatus: 'pending' | 'confirmed' | 'cancelled' | 'completed' | 'deleted'
	) => void;
	onView: (booking: CarWashBooking) => void;
}

const getStatusColor = (status: string) => {
	switch (status) {
		case 'confirmed':
			return 'bg-green-500/95';
		case 'cancelled':
			return 'bg-yellow-500/95';
		case 'deleted':
			return 'bg-gray-700/95';
		case 'completed':
			return 'bg-blue-500/95';
		default:
			return 'bg-yellow-500/95';
	}
};

export function BookingsTable({ bookings, onStatusChange, onView }: BookingsTableProps) {
	return (
		<div className='overflow-x-auto'>
			<table className='min-w-full bg-gray-900 rounded-lg overflow-hidden'>
				<thead>
					<tr className='bg-gray-800'>
						<th className='px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider'>
							Date & Time
						</th>
						<th className='px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider'>
							Service
						</th>
						<th className='px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider'>
							Status
						</th>
						<th className='px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider'>
							Worker
						</th>
						<th className='px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider'>
							Make and Model
						</th>
						<th className='px-6 py-3 text-left text-xs font-medium text-white uppercase tracking-wider'>
							Actions
						</th>
					</tr>
				</thead>
				<tbody className='bg-gray-900 divide-y divide-gray-700'>
					{bookings.map((booking) => (
						<tr
							key={booking.id}
							className='hover:bg-gray-800'>
							<td className='px-6 py-4 whitespace-nowrap text-white'>
								<div>{format(new Date(booking.date), 'PPP')}</div>
								<div className='text-sm text-gray-400'>{booking.time}</div>
							</td>
							<td className='px-6 py-4 whitespace-nowrap text-white'>
								<div className='font-medium'>{booking.service}</div>
								{booking.addOns && booking.addOns.length > 0 && (
									<div className='text-sm text-gray-400'>Add-ons: {booking.addOns.join(', ')}</div>
								)}
							</td>
							<td className='px-6 py-4 whitespace-nowrap'>
								<span
									className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusColor(
										booking.status
									)} text-white`}>
									{booking.status}
								</span>
							</td>
							<td className='px-6 py-4 whitespace-nowrap text-white'>
								{booking.worker || 'Not assigned'}
							</td>
							<td className='px-6 py-4 whitespace-nowrap text-white'>
								{booking.vehicleDetails || 'Not assigned'}
							</td>
							<td className='px-6 py-4 whitespace-nowrap text-sm font-medium'>
								<div className='flex space-x-2'>
									<Button
										variant='primary'
										size='sm'
										onClick={() => onView(booking)}>
										View
									</Button>
									<select
										value={booking.status}
										onChange={(e) =>
											onStatusChange(
												booking.id,
												e.target.value as
													| 'pending'
													| 'confirmed'
													| 'cancelled'
													| 'completed'
													| 'deleted'
											)
										}
										className='bg-gray-800 w-full text-white text-xs p-1 rounded border border-white/20'
										onClick={(e) => e.stopPropagation()}>
										<option value='pending'>Pending</option>
										<option value='confirmed'>Confirm</option>
										<option value='cancelled'>Cancel</option>
										<option value='completed'>Complete</option>
										<option value='deleted'>Delete</option>
									</select>
								</div>
							</td>
						</tr>
					))}
				</tbody>
			</table>
		</div>
	);
}
</file>

<file path="client/src/app/Admin/components/Carwash/ConfirmDialog.tsx">
import Button from '@/components/shared/Button';

interface ConfirmDialogProps {
	isOpen: boolean;
	onClose: () => void;
	onConfirm: () => void;
	title: string;
	message: string;
}

export function ConfirmDialog({ isOpen, onClose, onConfirm, title, message }: ConfirmDialogProps) {
	if (!isOpen) return null;

	return (
		<div className='fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50'>
			<div className='bg-gray-900 rounded-lg p-6 max-w-md w-full'>
				<h2 className='text-xl font-bold text-white mb-4'>{title}</h2>
				<p className='text-white mb-6'>{message}</p>
				<div className='flex justify-end space-x-3'>
					<Button
						variant="danger"
						onClick={onClose}
					>
						Cancel
					</Button>
					<Button
						variant="primary"
						onClick={onConfirm}
					>
						Confirm
					</Button>
				</div>
			</div>
		</div>
	);
}
</file>

<file path="client/src/app/Admin/components/Inventory/InventoryTable.tsx">
'use client';

import { ItemType } from '@/constant/Stock';

interface InventoryTableProps {
    items: ItemType[];
}

const InventoryTable: React.FC<InventoryTableProps> = ({ items }) => {
    return (
        <div className='overflow-x-auto'>
            <table className='min-w-full bg-gray-800 text-white'>
                <thead>
                    <tr className='bg-gray-900'>
                        <th className='p-4 text-left'>ID</th>
                        <th className='p-4 text-left'>Name</th>
                        <th className='p-4 text-left'>Category</th>
                        <th className='p-4 text-left'>Size</th>
                    </tr>
                </thead>
                <tbody>
                    {items.map((item) => (
                        <tr key={item.id} className='border-b border-gray-700'>
                            <td className='p-4'>{item.id}</td>
                            <td className='p-4'>{item.name}</td>
                            <td className='p-4'>{item.category}</td>
                            <td className='p-4'>{item.Size || 'N/A'}</td>
                        </tr>
                    ))}
                </tbody>
            </table>
        </div>
    );
};

export default InventoryTable;
</file>

<file path="client/src/app/Admin/components/Inventory/ItemGroup.tsx">
'use client';

import { ItemGroup as ItemGroupType } from '@/constant/Stock';
import InventoryTable from './InventoryTable';

interface ItemGroupProps {
    group: ItemGroupType;
}

const ItemGroup: React.FC<ItemGroupProps> = ({ group }) => {
    return (
        <div>
            <h2 className='text-xl font-semibold text-white mb-4'>{group.name}</h2>
            <InventoryTable items={group.items} />
        </div>
    );
};

export default ItemGroup;
</file>

<file path="client/src/app/Admin/components/Order/OrdersTable.tsx">
'use client';

import StatusBadge from './StatusBadge';

interface OrdersTableProps {
	orders: Order[];
	onStatusChange: (orderId: string, newStatus: Order['status']) => void;
}

export const OrdersTable: React.FC<OrdersTableProps> = ({ orders, onStatusChange }) => {
	return (
		<div className='overflow-x-auto'>
			<table className='min-w-full bg-gray-800 text-white'>
				<thead>
					<tr className='bg-gray-900'>
						<th className='p-4 text-left'>Order ID</th>
						<th className='p-4 text-left'>Date</th>
						<th className='p-4 text-left'>Customer</th>
						<th className='p-4 text-left'>Total</th>
						<th className='p-4 text-left'>Status</th>
						<th className='p-4 text-left'>Actions</th>
					</tr>
				</thead>
				<tbody>
					{orders.map((order) => (
						<tr
							key={order.orderId}
							className='border-b border-gray-700'>
							<td className='p-4'>{order.orderId}</td>
							<td className='p-4'>{new Date(order.orderDate).toLocaleDateString()}</td>
							<td className='p-4'>{order.userId || 'N/A'}</td>
							<td className='p-4'>R{order.totalAmount.toFixed(2)}</td>
							<td className='p-4'>
								<StatusBadge status={order.status} />
							</td>
							<td className='p-4'>
								<select
									value={order.status}
									onChange={(e) => onStatusChange(order.orderId, e.target.value as Order['status'])}
									className='bg-gray-700 text-white p-2 rounded'>
									<option value='pending'>Pending</option>
									<option value='processing'>Processing</option>
									<option value='completed'>Completed</option>
									<option value='cancelled'>Cancelled</option>
								</select>
							</td>
						</tr>
					))}
				</tbody>
			</table>
		</div>
	);
};
</file>

<file path="client/src/app/Admin/components/Order/StatusBadge.tsx">
'use client';

interface StatusBadgeProps {
    status: 'pending' | 'processing' | 'completed' | 'cancelled';
}

const StatusBadge: React.FC<StatusBadgeProps> = ({ status }) => {
    const statusClasses = {
        pending: 'bg-yellow-500/95',
        processing: 'bg-blue-500/95',
        completed: 'bg-green-500/95',
        cancelled: 'bg-yellow-500/95',
    };

    return (
        <span className={`px-2 py-1 text-sm font-semibold text-white rounded-full ${statusClasses[status]}`}>
            {status.charAt(0).toUpperCase() + status.slice(1)}
        </span>
    );
};

export default StatusBadge;
</file>

<file path="client/src/app/blog/components/BlogPostList.tsx">
import React from 'react';

const posts = [
	{
		title: 'The Secret to Our Famous Kota',
		date: 'July 24, 2025',
		excerpt:
			'Discover the fresh ingyellowients and secret spices that make our Kotas the talk of the town...',
	},
	{
		title: '5 Tips for a Sparkling Clean Car',
		date: 'July 20, 2025',
		excerpt: 'Learn our top tips for maintaining a pristine car between professional washes...',
	},
	{
		title: 'Community Day at PA Luxe Creation',
		date: 'July 15, 2025',
		excerpt:
			'A look back at our recent community event, filled with good food and great company...',
	},
];

const BlogPostList: React.FC = () => {
	return (
		<div className='grid grid-cols-1 md:grid-cols-2  gap-6'>
			{posts.map((post, index) => (
				<div
					key={index}
					className='bg-black/50 p-6 rounded-md shadow-lg hover:shadow-yellow-500/50 transition-shadow duration-300'>
					<h3 className='text-xl font-bold mb-2'>{post.title}</h3>
					<p className='text-sm text-white mb-2'>{post.date}</p>
					<p className='text-white'>{post.excerpt}</p>
				</div>
			))}
		</div>
	);
};

export default BlogPostList;
</file>

<file path="client/src/app/components/AboutUsSnippet.tsx">
import Icon from '@/components/shared/Icon';
import Section from '@/components/shared/layout/Section';
import AppLink from '@/components/shared/Link';
import { IoInformationCircleOutline } from 'react-icons/io5';

const AboutUsSnippet: React.FC = () => {
	return (
		<Section
			Icon={IoInformationCircleOutline}
			tittle='About PA Luxe Creation'
			heading='	PA Luxe Creation aims to revolutionize convenience in Evander by offering both affordable, high-quality meals and competitively priced luxury car washes under one roof. Founded with a vision to be the premier destination for these combined services, we are driven by innovation, quality, and community trust.'>
			<div className='mt-6'>
				<AppLink
					variant='primary'
					href='/about'>
					Read More About Us...
				</AppLink>
			</div>
		</Section>
	);
};

export default AboutUsSnippet;
</file>

<file path="client/src/app/components/ContactSection.tsx">
import MapEmbed from '@/app/contact/components/MapEmbed';
import { IoLocationSharp, IoCall, IoChatbubblesOutline } from 'react-icons/io5';
import Icon from '@/components/shared/Icon';
import ContactInfo from '@/app/contact/components/ContactInfo';
import Section from '@/components/shared/layout/Section';

const ContactSection: React.FC = () => {
	return (
		<>
			<ContactInfo />
			<Section
				Icon={IoChatbubblesOutline}
				tittle='Visit Us Today!'>
				<div className='mt-8'>
					<MapEmbed />
				</div>
			</Section>
		</>
	);
};

export default ContactSection;
</file>

<file path="client/src/app/components/FeaturedItemsServices.tsx">
import React from 'react';
import Image from 'next/image';
import { BiSolidHeart, BiSolidComment, BiSolidShare } from 'react-icons/bi';
import Button from '@/components/shared/Button';
import Icon from '@/components/shared/Icon';
import { FaStar } from 'react-icons/fa';
import Section from '@/components/shared/layout/Section';

const FeatuyellowItemsServices: React.FC = () => {
	const featuyellowItems = [
		{
			name: 'Premium Car Wash',
			description: 'Get a luxurious clean with our premium car wash package.',
			image: '/Carwash.png',
		},
		{
			name: 'Signature Kota',
			description: 'Our famous, delicious Kota filled with tasty ingyellowients.',
			image: '/Menus/KotaMeal.png',
		},
		{
			name: 'Burger Meal',
			description:
				'A satisfying meal with a perfectly cooked burger, a 500ml drink, and extra chips.',
			image: '/Menus/BurgerMeal.png',
		},
	];

	return (
		<Section tittle='Featuyellow Items & Services'>
			<div className='grid grid-cols-1 md:grid-cols-2 gap-2 '>
				{featuyellowItems.map((item, index) => (
					<article
						key={index}
						className='overflow-hidden flex flex-col'>
						{item.image && (
							<Image
								src={item.image}
								alt={item.name}
								width={500}
								height={500}
							/>
						)}
						<div className='p-6 flex-grow text-left'>
							<h3 className='text-xl font-bold'>{item.name}</h3>
							<p className='mt-2 text-white'>{item.description}</p>
						</div>
						<div className='flex justify-around items-center p-4 border-t border-white/20 mt-auto'>
							<Button
								variant='icon'
								aria-label='Like item'>
								<BiSolidHeart
									size={24}
									className='text-white hover:text-yellow-500 transition-colors'
								/>
							</Button>
							<Button
								variant='icon'
								aria-label='Comment on item'>
								<BiSolidComment
									size={24}
									className='text-white hover:text-yellow-500 transition-colors'
								/>
							</Button>
							<Button
								variant='icon'
								aria-label='Share item'>
								<BiSolidShare
									size={24}
									className='text-white hover:text-yellow-500 transition-colors'
								/>
							</Button>
						</div>
					</article>
				))}
			</div>
		</Section>
	);
};

export default FeatuyellowItemsServices;
</file>

<file path="client/src/app/components/FinancialSnapshotTeaser.tsx">
import Section from '@/components/shared/layout/Section';
import Link from '@/components/shared/Link';
import { IoTrendingUpOutline } from 'react-icons/io5';

const FinancialSnapshotTeaser: React.FC = () => {
	return (
		<Section
			Icon={IoTrendingUpOutline}
			tittle='Building a Sustainable Future'
			heading="Since our inception, we've seen promising traction and are on a solid path toward sustainable growth. Our commitment to quality and convenience continues to drive our success.">
			<div className='mt-6'>
				<Link
					variant='button'
					href='/about#financials'>
					View Our Financial Snapshot...
				</Link>
			</div>
		</Section>
	);
};

export default FinancialSnapshotTeaser;
</file>

<file path="client/src/app/components/HeroSection.tsx">
import Image from 'next/image';
import Link from '@/components/shared/Link';
import { FaShoppingCart, FaCar } from 'react-icons/fa';
import Icon from '@/components/shared/Icon';
import Section from '@/components/shared/layout/Section';
import { BiCamera } from 'react-icons/bi';
const HeroSection: React.FC = () => {
	return (
		<Section
			tittle='Ever bite is a delight, ever wash is a luxury'
			className='flex flex-col items-center text-center'>
			<Image
				src='/PA_Logo.png'
				alt='PA Luxe Creation Logo'
				width={200}
				height={200}
				className='mb-6'
				priority
			/>
			<p className='mt-4 text-lg max-w-2xl'>
				Experience the unique convenience of delicious food and a state-of-the-art car wash, all in
				one place in Evander.
			</p>
			<div className='flex bg-transparent w-full justify-center gap-6 mt-8'>
				<Link
					variant='button'
					href='/menu'
					className='flex items-center gap-2'>
					<FaShoppingCart />
					<span>Order Food</span>
				</Link>
				<Link
					variant='button'
					href='/photo'
					className='flex items-center gap-2'>
					<BiCamera />
					<span>Book 360 phot boot</span>
				</Link>
			</div>
		</Section>
	);
};

export default HeroSection;
</file>

<file path="client/src/app/components/KeyDifferentiators.tsx">
import Icon from '@/components/shared/Icon';
import Section from '@/components/shared/layout/Section';
import React from 'react';
import { FaShoppingCart } from 'react-icons/fa';
import { GiFoodTruck, GiCarKey } from 'react-icons/gi';
import { HiHomeModern } from 'react-icons/hi2';
import { RiMoneyDollarCircleLine } from 'react-icons/ri';

const KeyDifferentiators: React.FC = () => {
	return (
		<Section tittle='What Makes PA Luxe Creation Special?'>
			<div className='grid grid-cols-1 md:grid-cols-2 gap-2'>
				{/* Unique Combination */}
				<article>
					<Icon
						icon={GiFoodTruck}
						heading='Food & Car Care in One'
					/>
					<p className='mt-2'>
						Revolutionizing convenience with delicious, affordable meals and premium car wash
						services under one roof.
					</p>
				</article>

				{/* Competitive Pricing */}
				<article>
					<Icon
						icon={RiMoneyDollarCircleLine}
						heading='Unbeatable Value'
					/>
					<p className='mt-2'>
						Enjoy competitively priced car washes (20-30% cheaper!) and high-quality,
						budget-friendly meals.
					</p>
				</article>

				{/* Modern Technology */}
				<article>
					<Icon
						icon={HiHomeModern}
						heading='Modern Convenience'
					/>
					<p className='mt-2'>
						Benefit from an advanced booking system for car washes and a modern POS system for a
						smooth experience.
					</p>
				</article>
			</div>
		</Section>
	);
};

export default KeyDifferentiators;
</file>

<file path="client/src/app/components/KeyHighlights.tsx">
import Section from '@/components/shared/layout/Section';
import { IoSparklesOutline, IoCheckmarkCircle } from 'react-icons/io5';

const KeyHighlights: React.FC = () => {
	const highlights = [
		{
			id: 1,
			text: 'Dual-Service Convenience: Enjoy a tasty meal while your car is being taken care of.',
		},
		{ id: 2, text: "Affordability: Quality food and car wash services that won't break the bank." },
		{
			id: 3,
			text: "Community-Centric: We're dedicated to serving and supporting the Evander community.",
		},
	];

	return (
		<Section
			Icon={IoSparklesOutline}
			tittle='The PA Luxe Creation Difference'>
			<div className=' grid md:grid-cols-2 gap-8'>
				{highlights.map((highlight) => (
					<div
						key={highlight.id}
						className='flex flex-col items-center'>
						<IoCheckmarkCircle className='text-4xl text-yellow-500 mb-3' />
						<p>{highlight.text}</p>
					</div>
				))}
			</div>
		</Section>
	);
};

export default KeyHighlights;
</file>

<file path="client/src/app/components/TargetMarketCallout.tsx">
import { BiBullseye } from 'react-icons/bi';
import {
	IoHomeOutline,
	IoBriefcaseOutline,
	IoCarSportOutline,
	IoBusinessOutline,
} from 'react-icons/io5';
import Icon from '@/components/shared/Icon';
import Section from '@/components/shared/layout/Section';

const TargetMarketCallout: React.FC = () => {
	const targetMarkets = [
		{
			id: 1,
			title: 'Residents of Evander',
			text: 'Catering to families, professionals, and students seeking convenient, high-quality meals and car care.',
			icon: IoHomeOutline,
		},
		{
			id: 2,
			title: 'People Who Work in the Area',
			text: 'Providing quick meal solutions and efficient car wash services for busy professionals and government workers.',
			icon: IoBriefcaseOutline,
		},
		{
			id: 3,
			title: 'Travelers Passing Through',
			text: 'A welcoming stop for travelers to rest and refresh with reliable meals and clean car wash services.',
			icon: IoCarSportOutline,
		},
		{
			id: 4,
			title: 'Local Businesses',
			text: 'Partnering with local businesses for catering services and fleet vehicle maintenance programs.',
			icon: IoBusinessOutline,
		},
	];

	return (
		<Section
			Icon={BiBullseye}
			tittle='Our Target Market'
			id='target-market'
			heading='PA Luxe Creation is dedicated to serving the diverse needs of the Evander community and those passing through.'>
			<div className='grid grid-cols-1 md:grid-cols-2  gap-2'>
				{targetMarkets.map((market) => (
					<article
						key={market.id}
						className='flex flex-col items-center'>
						<Icon icon={market.icon} />
						<h3>{market.title}</h3>
						<p className='text-yellow-100 text-center'>{market.text}</p>
					</article>
				))}
			</div>
		</Section>
	);
};

export default TargetMarketCallout;
</file>

<file path="client/src/app/components/Testimonials.tsx">
import React from 'react';
import { BiSolidLike, BiSolidComment, BiSolidShare } from 'react-icons/bi';
import { FaQuoteLeft } from 'react-icons/fa';
import Button from '@/components/shared/Button';

import Icon from '@/components/shared/Icon';
import Section from '@/components/shared/layout/Section';

const Testimonials: React.FC = () => {
	const testimonials = [
		{
			id: 1,
			text: "PA Luxe Creation offers the best Kota's in town and their car wash service is super convenient!",
			author: 'Happy Customer A',
		},
		{
			id: 2,
			text: 'I love being able to get my car washed while grabbing a quick, delicious meal. Great concept!',
			author: 'Satisfied Client B',
		},
		{
			id: 3,
			text: 'The team at PA Luxe Creation is always friendly and the service is top-notch. Highly recommended!',
			author: 'Regular Visitor C',
		},
	];

	return (
		<Section
			Icon={FaQuoteLeft}
			tittle='What Our Customers Say'>
			<div className='grid grid-cols-1 md:grid-cols-2  gap-2 '>
				{testimonials.map((testimonial) => (
					<article key={testimonial.id}>
						<div className='flex-grow'>
							<FaQuoteLeft className='text-2xl text-white/50 mb-4' />
							<p className='italic text-white mb-4'>{testimonial.text}</p>
						</div>
						<div className='mt-auto'>
							<div className='flex items-center mb-4'>
								<span className='flex-shrink-0 w-10 h-10 rounded-full bg-yellow-500 flex items-center justify-center text-white font-bold text-lg'>
									{testimonial.author.charAt(0).toUpperCase()}
								</span>
								<p className='font-semibold text-white ml-3'>{testimonial.author}</p>
							</div>
							<div className='flex justify-around items-center border-t border-white/20 pt-4'>
								<Button
									variant='icon'
									aria-label={`Like testimonial by ${testimonial.author}`}>
									<BiSolidLike
										size={20}
										className='text-white hover:text-yellow-500 transition-colors'
									/>
								</Button>
								<Button
									variant='icon'
									aria-label={`Comment on testimonial by ${testimonial.author}`}>
									<BiSolidComment
										size={20}
										className='text-white hover:text-yellow-500 transition-colors'
									/>
								</Button>
								<Button
									variant='icon'
									aria-label={`Share testimonial by ${testimonial.author}`}>
									<BiSolidShare
										size={20}
										className='text-white hover:text-yellow-500 transition-colors'
									/>
								</Button>
							</div>
						</div>
					</article>
				))}
			</div>
		</Section>
	);
};

export default Testimonials;
</file>

<file path="client/src/app/contact/components/ContactForm.tsx">
'use client';
import React, { useState } from 'react';
import Button from '@/components/shared/Button';
import TextInput from '@/components/shared/TextInput';
import { saveContactMessage } from '@/firebase/contact/saveContactMessage';
import Alert from '@/components/shared/Alert';
import { useUser } from '@/context/UserContext';
import Section from '@/components/shared/layout/Section';
import Loading from '@/components/shared/Loading';

interface SubmittedMessage {
	name: string;
	whatsapp: string;
	message: string;
}

const ContactForm: React.FC = () => {
	const { user } = useUser();
	const [name, setName] = useState(user?.displayName || '');
	const [whatsapp, setWhatsapp] = useState('');
	const [message, setMessage] = useState('');
	const [loading, setLoading] = useState(false);
	const [error, setError] = useState<string | null>(null);
	const [submittedMessage, setSubmittedMessage] = useState<SubmittedMessage | null>(null);

	const handleSubmit = async (e: React.FormEvent) => {
		e.preventDefault();
		setLoading(true);
		setError(null);

		const result = await saveContactMessage({
			name,
			whatsapp,
			message,
			userId: user ? user.uid : null,
		});

		setLoading(false);

		if (result.success) {
			setSubmittedMessage({ name, whatsapp, message });
			setName('');
			setWhatsapp('');
			setMessage('');
		} else {
			setError('Failed to send message. Please try again later.');
		}
	};

	const handleSendAnother = () => {
		setSubmittedMessage(null);
	};
	if (loading) return <Loading message='Sending your message...' />;

	if (submittedMessage) {
		return (
			<Section
				heading='	Your message has been sent successfully. We will get back to you soon.'
				tittle='Thank You!'
				className='text-center bg-black/50 p-8 rounded-md border border-white/20'>
				<div className='text-left bg-black/20 p-4 rounded-md border border-white/10 mb-6'>
					<p className='text-white/70'>
						<strong>Name:</strong> {submittedMessage.name}
					</p>
					<p className='text-white/70'>
						<strong>WhatsApp:</strong> {submittedMessage.whatsapp}
					</p>
					<p className='text-white/70 mt-2'>
						<strong>Message:</strong>
					</p>
					<blockquote className='text-white border-l-2 border-yellow-500 pl-3 italic mt-1'>
						{submittedMessage.message}
					</blockquote>
				</div>
				<Button
					onClick={handleSendAnother}
					variant='primary'
					size='lg'>
					Send Another Message
				</Button>
			</Section>
		);
	}

	return (
		<Section>
			<form
				onSubmit={handleSubmit}
				className='space-y-4'>
				<h2 className='text-lg font-semibold'>Send us a message</h2>
				<TextInput
					type='text'
					placeholder='Your Name'
					value={name}
					onChange={(e) => setName(e.target.value)}
					required
					disabled={loading}
				/>
				<TextInput
					type='tel'
					placeholder='Your WhatsApp Number'
					value={whatsapp}
					onChange={(e) => setWhatsapp(e.target.value)}
					required
					disabled={loading}
				/>
				<textarea
					placeholder='Your Message'
					value={message}
					onChange={(e) => setMessage(e.target.value)}
					required
					className='w-full p-3 bg-transparent border border-yellow-500 rounded-md mb-4 focus:outline-none focus:ring-2 focus:ring-yellow-900 text-white placeholder-white'
					rows={5}
					disabled={loading}
				/>
				<Button
					type='submit'
					variant='primary'
					size='lg'
					className='mt-4'
					disabled={loading}>
					{loading ? 'Sending...' : 'Send Message'}
				</Button>
				{error && (
					<Alert
						message={error}
						variant='danger'
					/>
				)}
			</form>
		</Section>
	);
};

export default ContactForm;
</file>

<file path="client/src/app/contact/components/ContactInfo.tsx">
import Section from '@/components/shared/layout/Section';
import { IoLocationSharp, IoCall, IoMail } from 'react-icons/io5';

const ContactInfo: React.FC = () => {
	return (
		<Section tittle='Contact Information'>
			<article className='flex items-center  gap-2 p-4 '>
			
				<IoLocationSharp className='text-white w-10 h-10  ' />
				<p>
					<strong>Address:</strong> 123 Main Street, Phalaborwa, 1390
				</p>
			</article>
			<article className='flex items-center  gap-2 p-2'>
				<IoCall className='text-white w-10 h-10  ' />
				<p>
					<strong>Phone Number:</strong> (+27) 15 781 1234
				</p>
			</article>
			<article className='flex items-center  gap-2 p-2'>
				<IoMail className='text-white w-10 h-10  ' />
				<p>
					<strong>Email Address:</strong> contact@centraleatery.co.za
				</p>
			</article>
		</Section>
	);
};

export default ContactInfo;
</file>

<file path="client/src/app/contact/components/MapEmbed.tsx">
const MapEmbed: React.FC = () => {
  return (
    <div className="w-full h-64 md:h-80 border border-white/50 rounded-md overflow-hidden">
      {/* <iframe
        width="100%"
        height="100%"
        frameBorder="0"
        style={{ border: 0 }}
        referrerPolicy="no-referrer-when-downgrade"
        src={`https://www.google.com/maps/embed/v1/view?key=YOUR_API_KEY&center=-23.9401,31.1437&zoom=15`} // Added zoom level for better view
        allowFullScreen
        aria-hidden="false"
      ></iframe> */}

  <iframe 
src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d186.1725268547972!2d31.07656385293001!3d-23.86743878213464!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMjPCsDUyJzAyLjciUyAzMcKwMDQnMzYuMSJF!5e1!3m2!1sen!2sza!4v1748643148484!5m2!1sen!2sza"  width="100%"
  height="100%"
  
  style={{ border: 0 }}
  referrerPolicy="no-referrer-when-downgrade"
  allowFullScreen
        aria-hidden="false"
      ></iframe>
      </div>
  );
};

export default MapEmbed;
</file>

<file path="client/src/app/contact/components/OperatingHours.tsx">
import Section from '@/components/shared/layout/Section';

const OperatingHours: React.FC = () => {
	return (
		<Section tittle='Operating Hours:'>
			<div className='mt-2 space-y-4'>
				<article>
					<h3 className='text-lg font-semibold'>Eatery</h3>
					<ul>
						<li>
							<strong>Monday - Friday:</strong> 8:00 AM - 8:00 PM
						</li>
						<li>
							<strong>Saturday:</strong> 8:00 AM - 9:00 PM
						</li>
						<li>
							<strong>Sunday:</strong> 8:00 AM - 8:00 PM
						</li>
					</ul>
				</article>
				<article>
					<h3 className='text-lg font-semibold'>Car Wash</h3>
					<ul>
						<li>
							<strong>Monday - Friday:</strong> 8:00 AM - 8:00 PM
						</li>
						<li>
							<strong>Saturday:</strong> 8:00 AM - 6:00 PM
						</li>
						<li>
							<strong>Sunday:</strong> Closed
						</li>
					</ul>
				</article>
			</div>
		</Section>
	);
};

export default OperatingHours;
</file>

<file path="client/src/app/gallery/components/ImageGallery.tsx">
'use client';
import React, { useState, useRef, useEffect } from 'react';
import Products from '@/constant/Products';

import Image from 'next/image';
import { FaImages } from 'react-icons/fa';
import ImageModal from './ImageModal';
import Section from '@/components/shared/layout/Section';

const ImageGallery: React.FC = () => {
	const [modalOpen, setModalOpen] = useState(false);
	const [product, setproduct] = useState<ProductType | null>(null);
	const modalRef = useRef<HTMLDivElement>(null);

	useEffect(() => {
		if (!modalOpen) return;
		const handleKeyDown = (e: KeyboardEvent) => {
			if (e.key === 'Escape') setModalOpen(false);
			if (e.key === 'Tab' && modalRef.current) {
				const focusable = modalRef.current.querySelectorAll<HTMLElement>(
					'button, [tabindex]:not([tabindex="-1"])'
				);
				if (focusable.length === 0) return;
				const first = focusable[0];
				const last = focusable[focusable.length - 1];
				if (!e.shiftKey && document.activeElement === last) {
					e.preventDefault();
					first.focus();
				} else if (e.shiftKey && document.activeElement === first) {
					e.preventDefault();
					last.focus();
				}
			}
		};
		document.addEventListener('keydown', handleKeyDown);
		return () => document.removeEventListener('keydown', handleKeyDown);
	}, [modalOpen]);

	const handleBackdropClick = (e: React.MouseEvent<HTMLDivElement>) => {
		if (e.target === e.currentTarget) setModalOpen(false);
	};

	const openModal = (product: ProductType) => {
		setproduct(product);
		setModalOpen(true);
	};

	const allProducts = Products.map((p) => p.Products).flat();

	return (
		<Section
			Icon={FaImages}
			tittle='Gallery'>
			<div className='grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 mt-6'>
				{allProducts.map(
					(product) =>
						product.Image && (
							<article
								key={product.Name}
								className='group cursor-pointer rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black/50 focus:ring-yellow-500
								relative w-full aspect-w-1 aspect-h-1 rounded-md overflow-hidden transition-transform duration-300 m-0 p-2 group-hover:scale-105'
								tabIndex={0}
								aria-label={`Show full image of ${product.Name}`}
								onClick={() => openModal(product)}
								onKeyDown={(e) => {
									if (e.key === 'Enter' || e.key === ' ') {
										e.preventDefault();
										openModal(product);
									}
								}}>
								<Image
									src={product.Image}
									alt={`${product.Name} gallery image`}
									className='object-contain transition-all duration-300 group-hover:brightness-110'
									width={500}
									height={500}
									sizes='(max-width: 640px) 50vw, (max-width: 1024px) 33vw, 20vw'
								/>
								<div className='absolute inset-0 bg-gradient-to-t from-black/70 to-transparent'></div>
								<p className='absolute bottom-2 left-2 right-2 truncate text-center bg-black/70 px-2 py-1 rounded-full text-xs font-bold text-white'>
									{product.Name}
								</p>
							</article>
						)
				)}
			</div>
			{modalOpen && product && (
				<ImageModal
					product={product}
					handleBackdropClick={handleBackdropClick}
					setModalOpen={setModalOpen}
				/>
			)}
		</Section>
	);
};

export default ImageGallery;
</file>

<file path="client/src/app/gallery/components/ImageModal.tsx">
import SocialButtons from '@/app/menu/[Products]/components/SocialButtons';

import { NextPage } from 'next';
import Image from 'next/image';

interface Props {
	handleBackdropClick: (e: React.MouseEvent<HTMLDivElement>) => void;
	product: ProductType;
	setModalOpen: React.Dispatch<React.SetStateAction<boolean>>;
}

const ImageModal: NextPage<Props> = ({ handleBackdropClick, setModalOpen, product }) => {
	return (
		<main
			className='fixed inset-0 z-50 flex items-center justify-center bg-black  animate-fadein p-4'
			onClick={handleBackdropClick}
			aria-modal='true'
			role='dialog'>
			<div className='relative max-w-4xl  w-full '>
				<button
					onClick={() => setModalOpen(false)}
					className='absolute top-3 right-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-full p-2 shadow-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-white z-10'
					aria-label='Close full image'
					autoFocus>
					<svg
						width='24'
						height='24'
						fill='none'
						viewBox='0 0 24 24'>
						<path
							stroke='currentColor'
							strokeWidth='2'
							strokeLinecap='round'
							strokeLinejoin='round'
							d='M6 6l12 12M6 18L18 6'
						/>
					</svg>
				</button>
				<article className='w-full relative m-0 p-0  flex flex-col items-center justify-center'>
					{product?.Image && (
						<div className='relative p-4 w-full max-h-[75vh] '>
							<Image
								src={product.Image}
								alt={`${product.Name} gallery image`}
								layout='responsive'
								width={500}
								height={500}
								className=' rounded-md'
								priority
							/>
						</div>
					)}
					<div className='text-white text-center text-lg font-bold'>{product.Name}</div>
					<SocialButtons product={product} />
				</article>
			</div>
		</main>
	);
};

export default ImageModal;
</file>

<file path="client/src/app/menu/[Products]/[product]/components/AddtoCart.tsx">
'use client';

import { useCart } from '@/context/CartContext';
import { useToast } from '@/context/CartContext';

import Button from '@/components/shared/Button';
import { BiSolidCartAdd } from 'react-icons/bi';
import { useRouter } from 'next/navigation';

interface AddtoCartProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
	product: ProductType;
}

const AddtoCart: React.FC<AddtoCartProps> = ({ product, ...props }) => {
	const { addItem } = useCart();
	const { showToast } = useToast();
	const router = useRouter();
	return (
		<Button
			variant='primary'
			className='w-full'
			size='sm'
			onClick={() => {
				addItem(product);
				showToast(`Added ${product.Name} (R${product.Price.toFixed(2)}) to cart!`);
				router.push('/menu/cart');
			}}
			{...props}>
			<BiSolidCartAdd
				color='white'
				size={24}
			/>
			Add to Cart
		</Button>
	);
};

export default AddtoCart;
</file>

<file path="client/src/app/menu/[Products]/components/CommentModal.tsx">
import { addDoc, collection } from 'firebase/firestore';
import { useState } from 'react';
import { firestore } from '@/firebase/firebaseConfig';

import { useUser } from '@/context/UserContext';
import { useParams, useRouter } from 'next/navigation';
interface CommentModalProps {
	product: ProductType;
	handleCloseCommentModal: () => void;
}
const CommentModal: React.FC<CommentModalProps> = ({ product, handleCloseCommentModal }) => {
	const [commentText, setCommentText] = useState('');
	const { user } = useUser();
	const route = useRouter();
	const params = useParams() as { Products: string };
	const handleSubmitComment = async () => {
		if (!product?.Name || !commentText.trim() || !user?.uid) {
			handleCloseCommentModal();
			return;
		}
		try {
			const commentsRef = collection(firestore, 'products', product.Name, 'Comments');
			await addDoc(commentsRef, {
				userId: user.uid,
				userName: user.displayName || 'Anonymous', // Use display name or fallback
				comment: commentText.trim(),
				timestamp: new Date(),
			});
			setCommentText('');
			handleCloseCommentModal();
			route.push(`/menu/${params.Products}/${product.Name.toLowerCase().replace(/\s+/g, '-')}`);
		} catch (error) {
			console.error('Error adding comment:', error);
			alert('Failed to add comment. Please try again.');
		}
	};
	return (
		<main className='fixed inset-0 bg-black flex items-center justify-center z-50 p-4'>
			<div className='bg-black/50 p-6 rounded-md shadow-lg w-full max-w-md text-white'>
				<h2>Add a Comment</h2>
				<textarea
					className='w-full p-3 bg-transparent border border-white rounded-md mb-4 focus:outline-none focus:ring-2 focus:ring-white text-white placeholder-white/70'
					rows={4}
					placeholder='Enter your comment...'
					value={commentText}
					onChange={(e) => setCommentText(e.target.value)}></textarea>
				<div className='flex justify-end gap-2'>
					<button
						className='px-4 py-2 bg-yellow-700 rounded-md hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-white'
						onClick={handleCloseCommentModal}>
						Cancel
					</button>
					<button
						className='px-4 py-2 bg-yellow-700 text-white rounded-md hover:bg-yellow-800 focus:outline-none focus:ring-2 focus:ring-white'
						onClick={handleSubmitComment}>
						Submit Comment
					</button>
				</div>
			</div>
		</main>
	);
};

export default CommentModal;
</file>

<file path="client/src/app/menu/[Products]/components/CommentsButton.tsx">
'use client';

import React, { useState, useEffect } from 'react';
import { BiSolidComment } from 'react-icons/bi';
import Button from '@/components/shared/Button';
import { doc, onSnapshot, collection } from 'firebase/firestore';
import { auth, firestore } from '@/firebase/firebaseConfig';

import CommentModal from './CommentModal';

interface CommentsButtonsProps {
	product: ProductType;
}

const CommentsButton: React.FC<CommentsButtonsProps> = ({ product }) => {
	const [commentCount, setCommentCount] = useState(0);
	const [showCommentModal, setShowCommentModal] = useState(false);
	const [loading, setLoading] = useState(true);
	const userId = auth.currentUser?.uid;

	const commentsRef = collection(firestore, 'products', product.Name, 'Comments');
	const docRef = doc(firestore, 'products', product.Name);

	const handleCommentClick = () => {
		if (!userId) {
			alert('Please login to comment');
			return;
		}
		setShowCommentModal(true);
	};

	const handleCloseCommentModal = () => {
		setShowCommentModal(false);
	};
	useEffect(() => {
		const unsubscribe = onSnapshot(commentsRef, (docSnap) => {
			if (!docSnap.empty) {
				setCommentCount(docSnap.size);
				setLoading(false);
			} else {
				setLoading(false);
			}
		});
		return () => unsubscribe(); // Unsubscribe when the component unmounts
	}, [product.ProductID, docRef, userId]);

	if (showCommentModal) {
		return (
			<CommentModal
				handleCloseCommentModal={handleCloseCommentModal}
				product={product}
			/>
		);
	}

	return (
		<Button
			disabled={loading}
			loading={loading}
			variant='icon'
			onClick={handleCommentClick}
			className='text-white'>
			<BiSolidComment size={20} />
			<span className='text-xs text-center truncate'>
				{commentCount} Comment{commentCount !== 1 ? 's' : ''}
			</span>
		</Button>
	);
};

export default CommentsButton;
</file>

<file path="client/src/app/menu/[Products]/components/FilterSortBar.tsx">
'use client';

import React, { useState, useEffect } from 'react';
import { FaSort, FaFilter } from 'react-icons/fa';
import Button from '@/components/shared/Button';

interface FilterSortBarProps {
	onSortChange: (sortType: string) => void;
	onPriceFilterChange: (minPrice: number, maxPrice: number) => void;
	currentSort: string;
	currentMinPrice: number;
	currentMaxPrice: number;
}

const FilterSortBar: React.FC<FilterSortBarProps> = ({
	onSortChange,
	onPriceFilterChange,
	currentSort,
	currentMinPrice,
	currentMaxPrice,
}) => {
	const [showFilters, setShowFilters] = useState(false);
	const [localMinPrice, setLocalMinPrice] = useState(currentMinPrice);
	const [localMaxPrice, setLocalMaxPrice] = useState(currentMaxPrice);

	useEffect(() => {
		setLocalMinPrice(currentMinPrice);
		setLocalMaxPrice(currentMaxPrice);
	}, [currentMinPrice, currentMaxPrice]);

	const handleApplyFilters = () => {
		onPriceFilterChange(localMinPrice, localMaxPrice);
		setShowFilters(false);
	};

	const handleResetFilters = () => {
		setLocalMinPrice(0);
		setLocalMaxPrice(1000);
		onPriceFilterChange(0, 1000);
		onSortChange('default');
		setShowFilters(false);
	};

	const inputStyles =
		'w-24 p-2 border border-white/50 rounded-md bg-black/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all duration-200';

	return (
		<div className='bg-black/50 blur-[0.1px] backdrop-blur-md p-2  sticky top-9 z-20 col-span-full mt-0'>
			<div className='flex flex-col md:flex-row gap-4 items-center justify-between'>
				{/* Sort Options */}
				<div className='flex items-center gap-3'>
					<FaSort size={20} />
					<label
						htmlFor='sort-select'
						className='font-semibold'>
						Sort by:
					</label>
					<select
						id='sort-select'
						value={currentSort}
						onChange={(e) => onSortChange(e.target.value)}
						className='bg-black/20 text-white border border-white/50 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-yellow-500 transition-all duration-200'>
						<option value='default'>Default</option>
						<option value='price-low'>Price: Low to High</option>
						<option value='price-high'>Price: High to Low</option>
						<option value='popularity'>Most Popular</option>
						<option value='name'>Name: A-Z</option>
					</select>
				</div>

				{/* Filter Toggle */}
				<Button
					variant='primary'
					onClick={() => setShowFilters(!showFilters)}
					className='flex items-center gap-2'>
					<FaFilter />
					<span>{showFilters ? 'Hide' : 'Show'} Filters</span>
				</Button>
			</div>

			{/* Filter Panel */}
			{showFilters && (
				<article className=' p-4 space-y-4'>
					<h3 className='text-lg font-semibold mb-2'>Price Range</h3>
					<div className='flex flex-col md:flex-row flex-wrap gap-4 items-center'>
						<div className='flex items-center gap-2'>
							<label
								htmlFor='min-price'
								className='text-sm'>
								Min:
							</label>
							<input
								id='min-price'
								type='number'
								value={localMinPrice}
								onChange={(e) => setLocalMinPrice(Number(e.target.value))}
								className={inputStyles}
								placeholder='0'
							/>
						</div>
						<div className='flex items-center gap-2'>
							<label
								htmlFor='max-price'
								className='text-sm'>
								Max:
							</label>
							<input
								id='max-price'
								type='number'
								value={localMaxPrice}
								onChange={(e) => setLocalMaxPrice(Number(e.target.value))}
								className={inputStyles}
								placeholder='1000'
							/>
						</div>
						<div className='flex gap-2 ml-auto'>
							<Button
								variant='primary'
								onClick={handleResetFilters}>
								Reset
							</Button>
							<Button
								variant='primary'
								onClick={handleApplyFilters}>
								Apply
							</Button>
						</div>
					</div>
				</article>
			)}
		</div>
	);
};

export default FilterSortBar;
</file>

<file path="client/src/app/menu/[Products]/components/LikesButton.tsx">
'use client';

import React, { useState, useEffect } from 'react';
import { BiSolidLike } from 'react-icons/bi';
import Button from '@/components/shared/Button';
import { doc, updateDoc, setDoc, onSnapshot, arrayRemove, arrayUnion } from 'firebase/firestore';
import { auth, firestore } from '@/firebase/firebaseConfig';

interface SocialButtonsProps {
	product: ProductType;
}

const LikesButton: React.FC<SocialButtonsProps> = ({ product }) => {
	const [likes, setLikes] = useState<{ likes: number; likedBy: string[] }>({
		likes: 0,
		likedBy: [],
	});
	const [isLiked, setIsLiked] = useState(false);
	const [loading, setLoading] = useState(true);
	const userId = auth.currentUser?.uid;

	const docRef = doc(firestore, 'products', product.Name);
	useEffect(() => {
		const unsubscribe = onSnapshot(docRef, (docSnap) => {
			if (docSnap.exists()) {
				const data = docSnap.data() as { likes: number; likedBy: string[] };
				setLikes(data);
				setIsLiked(data.likedBy.includes(userId || ''));
				setLoading(false);
			} else {
				setDoc(docRef, {
					likes: 0,
					likedBy: [],
				});
				setLoading(false);
			}
		});
		return () => unsubscribe(); // Unsubscribe when the component unmounts
	}, [product.ProductID, docRef, userId]);

	const handleLike = async () => {
		const isLiked = likes.likedBy.includes(userId || '') || false;

		await updateDoc(docRef, {
			likes: isLiked ? likes.likes - 1 : likes.likes + 1,
			likedBy: isLiked ? arrayRemove(userId) : arrayUnion(userId),
		});
	};

	return (
		<Button
			disabled={loading}
			loading={loading}
			variant='icon'
			onClick={handleLike}
			className={likes.likedBy.includes(userId || '') ? 'text-yellow-700' : 'text-white'}
			aria-label={isLiked ? 'Unlike product' : 'Like product'}>
			<BiSolidLike
				size={20}
				className={isLiked ? 'text-yellow-200' : 'text-white'}
			/>
			<span className='text-xs text-center font-thin truncate font-sans'>
				{likes.likes} <span className='hidden md:inline-flex'>Likes</span>
			</span>
		</Button>
	);
};

export default LikesButton;
</file>

<file path="client/src/app/menu/[Products]/components/SocialButtons.tsx">
'use client';

import { BiSolidShare } from 'react-icons/bi';
import LikesButton from './LikesButton';

import CommentsButton from './CommentsButton';

interface SocialButtonsProps {
	product: ProductType;
}

const SocialButtons: React.FC<SocialButtonsProps> = ({ product }) => {
	const handleShare = () => {
		if (navigator.share) {
			navigator
				.share({
					title: product.Name,
					text: `Check out this product: ${product.Name}`,
					url: window.location.href, // Or the specific product URL
				})
				.catch((error) => console.error('Error sharing:', error));
		} else {
			// Fallback for browsers that don't support Web Share API
			alert('Sharing is not supported in this browser.');
			// You could also provide a copy-to-clipboard option here
		}
	};

	return (
		<div className=' grid grid-cols-3 w-full border-t-2 py-1 border-yellow-500 bg-black/50 hover:bg-yellow-500 gap-2'>
			<LikesButton product={product} />
			<CommentsButton product={product} />
			{/* Share Button */}
			<span
				className='flex items-center justify-center gap-1 truncate text-center py-0.5 cursor-pointer text-white font-bold'
				onClick={handleShare}>
				<BiSolidShare size={20} />
				<span className='text-xs text-center truncate'>Share</span>
			</span>
		</div>
	);
};

export default SocialButtons;
</file>

<file path="client/src/app/menu/cart/components/CartFooter.tsx">
'use client';
import Button from '@/components/shared/Button';
import { useCart } from '@/context/CartContext';
import { addOrderToFirestore } from '@/firebase/orders/addOrderToFirestore';
import { useRouter } from 'next/navigation';
import { useState } from 'react';
import { IoAddCircle } from 'react-icons/io5';
import { TbCancel, TbMenuOrder } from 'react-icons/tb';

function CartFooter() {
	const router = useRouter();
	const { cartItems, clearCart, totalPrice, totalQuantity } = useCart();
	const [isPlacingOrder, setIsPlacingOrder] = useState(false);

	const handlePlaceOrder = async () => {
		if (isPlacingOrder) return;
		setIsPlacingOrder(true);
		try {
			await addOrderToFirestore(cartItems, totalPrice, totalQuantity);
			router.push('/orders');
			clearCart();
		} catch (error) {
			console.error('Failed to place order: ', error);
			alert('There was an issue placing your order. Please try again.');
		} finally {
			setIsPlacingOrder(false);
		}
	};

	const handleCancelOrder = () => {
		clearCart();
		router.back();
	};



	return (
		
			<div className='bg-black/50 fixed bottom-0 pb-4  flex flex-col md:flex-row items-center justify-between gap-2'>
				{/* Order Summary */}
				<div className='text-center md:text-left'>
					<p className='text-lg font-bold'>
						Total Items: <span className='font-extrabold'>{totalQuantity}</span>
					</p>
					<p
						className='text-xl font-bold'
						style={{ filter: 'drop-shadow(0 0 2px #000000)' }}>
						Total Price: <span className='font-extrabold'>R{totalPrice.toFixed(2)}</span>
					</p>
				</div>

				{/* Action Buttons */}
				<nav className='flex gap-3 px-2 w-full md:w-auto'>
					{/* Button to add more items (goes back to menu) */}
					<Button onClick={() => router.back()}>
						<IoAddCircle size={25} /> Add Items
					</Button>
					
					{cartItems.length > 0 && (
						<Button
							onClick={handlePlaceOrder}
							// className={buttonStyle}
							disabled={isPlacingOrder}>
							{isPlacingOrder ? (
								<div className='w-5 h-5 border-2 border-white/50 border-t-white rounded-full animate-spin'></div>
							) : (
								<TbMenuOrder size={22} />
							)}
							<span>{isPlacingOrder ? 'Placing Order...' : 'Place Order'}</span>
						</Button>
					)}

					<Button
						onClick={handleCancelOrder}
                    // className={buttonStyle}
                >
						<TbCancel size={22} />
						<span>Cancel Order</span>
					</Button>
				</nav>
			</div>
	
	);
}

export default CartFooter;
</file>

<file path="client/src/app/menu/cart/components/CartProduct.tsx">
'use client';

import ProductDetails from '@/app/menu/components/ProductDetails';
import Button from '@/components/shared/Button';
import Section from '@/components/shared/layout/Section';
import { useCart } from '@/context/CartContext';
import React from 'react';
import { FaMinusCircle, FaPlusCircle, FaTrashAlt } from 'react-icons/fa';

function CartProduct() {
	const { cartItems, removeFromCart, minisItemQuantity, addItem } = useCart();

	if (!cartItems || cartItems.length === 0) {
		return (
			<div className='text-center text-white bg-black/50 p-8 rounded-md'>
				<h2
					className='text-2xl font-bold'
					style={{ filter: 'drop-shadow(0 0 3px #f0b100)' }}>
					Your Cart is Empty
				</h2>
			</div>
		);
	}

	const quantityButtonStyle =
		' text-white rounded-md bg-yellow-600 hover:bg-yellow-500 transition-colors duration-200 ease-in-out';
	const removeButtonStyle =
		'flex items-center justify-center gap-2 px-3 py-2 text-white rounded-md bg-yellow-700 hover:bg-yellow-600 transition-colors duration-200 ease-in-out font-semibold';

	return (
		<Section
			tittle='	Your Items'
			className=' p-2  max-h-[70vh] overflow-y-auto'>
			<ul className='space-y-4'>
				{cartItems.map((item) => (
					<li
						className='p-0 rounded-md border border-white/50 '
						key={item.ProductID}>
						<article className='p-4 m-0 flex flex-col md:flex-row items-center justify-between gap-4'>
							<ProductDetails item={item} />

							<div className='flex items-center justify-between gap-3 w-full md:w-auto'>
								{/* Quantity Controls */}
								<div className='flex items-center gap-2 bg-black/50 p-1 rounded-md'>
									<Button
										title='Decrease Quantity'
										onClick={() => minisItemQuantity(item)}
										className={quantityButtonStyle}>
										<FaMinusCircle />
									</Button>
									<span className='px-3 text-lg font-bold text-white'>{item.quantity}</span>
									<Button
										title='Increase Quantity'
										onClick={() => addItem(item)}
										className={quantityButtonStyle}>
										<FaPlusCircle />
									</Button>
								</div>

								{/* Remove Button */}
								<Button
									title='Remove Item'
									onClick={() => removeFromCart(item.ProductID)}
									className={removeButtonStyle}>
									<FaTrashAlt />
									<span className='hidden sm:inline'>Remove</span>
								</Button>
							</div>
						</article>
					</li>
				))}
			</ul>
		</Section>
	);
}

export default CartProduct;
</file>

<file path="client/src/app/menu/components/CategoryCard.tsx">
import React from 'react';
import Image from 'next/image';
import AppLink from '@/components/shared/Link';

import Section from '@/components/shared/layout/Section';

interface CategoryCardProps {
	group: {
		Name: string;
		Products: ProductType[];
		Image?: string;
		Description?: string;
	};
}

const CategoryCard: React.FC<CategoryCardProps> = ({ group }) => (
	<AppLink
		href={`/menu/${group.Name.toLowerCase().replace(/\s+/g, '-')}`}
		aria-label={`View ${group.Name} menu`}
		className='block p-0 m-0 group rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black/50 focus:ring-yellow-500'>
		<Section>
			{group.Image && (
				<div className='relative w-full aspect-[4/3] mb-4 bg-black/20 rounded-md overflow-hidden'>
					<Image
						src={group.Image}
						alt={group.Name}
						fill
						className='object-contain rounded-md transition-transform duration-300 group-hover:scale-110'
					/>
				</div>
			)}
			<div className='flex-grow flex flex-col'>
				<h3 className='text-xl font-bold text-white mb-2'>{group.Name}</h3>
				{group.Description && <p>{group.Description}</p>}
			</div>
			<span className='bg-yellow-700 text-xs font-bold px-3 py-1 rounded-full text-white self-center mt-auto'>
				{group.Products.length} items
			</span>
		</Section>
	</AppLink>
);

export default CategoryCard;
</file>

<file path="client/src/app/menu/components/MenuSections.tsx">
'use client';

import React from 'react';
import { useCart } from '@/context/CartContext';
import ProductCard from '@/features/menu/components/ProductCard';
import CategoryCard from '@/app/menu/components/CategoryCard';
import NoResults from '@/app/menu/components/NoResults';

const MenuSections = () => {
	const { products, search, matchingCategories, matchingProductsByCategory } = useCart();

	const showSearchResults = search.length > 0;

	// No need for complex state management, using the context values directly

	return (
		<>
			{showSearchResults ? (
				<div className='flex flex-col gap-6'>
					{matchingCategories.length > 0 || matchingProductsByCategory.length > 0 ? (
						<div className='flex flex-col gap-6'>
							{/* Categories Section */}
							{matchingCategories.length > 0 && (
								<div className='space-y-4'>
									<h2 className='text-2xl font-bold text-white border-b border-yellow-500 pb-2'>
										Matching Categories
									</h2>
									<div className='grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4'>
										{matchingCategories.map((category) => (
											<CategoryCard
												key={category.Name}
												group={category}
											/>
										))}
									</div>
								</div>
							)}

							{/* Products Section */}
							{matchingProductsByCategory.length > 0 && (
								<div className='space-y-4'>
									<h2 className='text-2xl font-bold text-white border-b border-yellow-500 pb-2'>
										Matching Products
									</h2>
									<div className='grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4'>
										{matchingProductsByCategory.map((product) => {
											const category = products.find((cat) =>
												cat.Products.some((p) => p.ProductID === product.ProductID)
											);
											return (
												<ProductCard
													key={product.ProductID}
													product={product}
													categoryName={category?.Name || 'Other'}
												/>
											);
										})}
									</div>
								</div>
							)}
						</div>
					) : (
						<NoResults />
					)}
				</div>
			) : (
				// Default: show all categories
				<ul className='grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-4'>
					{products.map((group: ProductsType[number]) => {
						return (
							<CategoryCard
								key={group.Name}
								group={group}
							/>
						);
					})}
				</ul>
			)}
		</>
	);
};

export default MenuSections;
</file>

<file path="client/src/app/menu/components/NoResults.tsx">
import React from 'react';
import { FaRegSadTear } from 'react-icons/fa';

const NoResults: React.FC = () => (
	<div className='col-span-full flex flex-col items-center justify-center text-center text-white p-8'>
		<div className='bg-black/50 border border-white/50 rounded-md p-8 max-w-md w-full'>
			<FaRegSadTear className='text-6xl mb-4 text-yellow-500 mx-auto' />
			<h3 className='text-2xl font-bold'>No Results Found</h3>
			<p className='text-white mt-2'>
				We couldn&apos;t find any matches for your search. Please try different keywords or browse
				our menu categories.
			</p>
		</div>
	</div>
);

export default NoResults;
</file>

<file path="client/src/app/menu/components/ProductCard.tsx">
import React from 'react';
import Image from 'next/image';
import AppLink from '@/components/shared/Link';
import LikesButton from '@/app/menu/[Products]/components/LikesButton';
import { FaStar } from 'react-icons/fa';

import AddtoCart from '@/app/menu/[Products]/[product]/components/AddtoCart';

interface ProductCardProps {
	product: ProductType;
	categoryName: string;
}

const ProductCard: React.FC<ProductCardProps> = ({ product, categoryName }) => (
	<article className='m-0 group flex flex-col h-full bg-black/50 border border-yellow-500 rounded-md p-4 transition-shadow duration-300 hover:shadow-lg hover:shadow-yellow-500/20'>
		<span className='flex items-center justify-between gap-2'>
			{product.badge && (
				<span className='px-2 py-1 rounded-full text-xs font-bold z-10 shadow-lg bg-yellow-700 text-white'>
					{product.badge}
				</span>
			)}
			<LikesButton product={product} />
		</span>

		<div className='flex flex-col flex-grow'>
			<AppLink
				href={`/menu/${categoryName}/${product.Name.toLowerCase().replace(/\s+/g, '-')}`}
				className='flex flex-col items-center text-center flex-grow rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black/50 focus:ring-yellow-500'>
				{product.Image && (
					<div className='relative w-full aspect-[4/3] mb-4 bg-black/20 rounded-md overflow-hidden'>
						<Image
							src={product.Image}
							alt={product.Name}
							fill
							className='object-contain rounded-md transition-transform duration-300 group-hover:scale-110'
						/>
					</div>
				)}
				<h2 className='text-base font-bold text-white mb-2 line-clamp-2 flex-grow'>
					{product.Name}
				</h2>
				<p className='text-xl font-extrabold text-white mb-2'>R{product.Price.toFixed(2)}</p>
				<div className='flex items-center justify-center gap-1 mb-4'>
					<FaStar className='text-yellow-500' />
					<FaStar className='text-yellow-500' />
					<FaStar className='text-yellow-500' />
					<FaStar className='text-yellow-500' />
					<FaStar className='text-white/50' />
					<span className='text-xs text-white font-semibold ml-2'>(4.5)</span>
				</div>
			</AppLink>
		</div>

		<div className='mt-auto'>
			<AddtoCart product={product}>Add to Cart</AddtoCart>
		</div>
	</article>
);

export default ProductCard;
</file>

<file path="client/src/app/menu/components/PromotionsBanner.tsx">
'use client';
import React, { useState, useEffect } from 'react';
import { FaGift, FaCar, FaHamburger } from 'react-icons/fa';

const promotions = [
	{
		icon: <FaGift className='text-4xl text-white drop-shadow-lg' />,
		title: 'Weekend Special!',
		message: "Free pork plate with every car wash (Sat/Sun). Don't miss out!",
	},
	{
		icon: <FaCar className='text-4xl text-white drop-shadow-lg' />,
		title: 'Taxi Fleet Discount',
		message: 'Bulk taxi washes: Buy 10, get 1 free! Perfect for operators.',
	},
	{
		icon: <FaHamburger className='text-4xl text-white drop-shadow-lg' />,
		title: 'Meal Loyalty',
		message: 'Buy 10 meals, get a free car wash. Ask for your digital loyalty card!',
	},
];

const PromotionsBanner: React.FC = () => {
	const [index, setIndex] = useState(0);
	const [fade, setFade] = useState(true);

	useEffect(() => {
		const timer = setTimeout(() => {
			setFade(false);
			setTimeout(() => {
				setIndex((prev) => (prev + 1) % promotions.length);
				setFade(true);
			}, 500); // Corresponds to transition duration
		}, 6000);
		return () => clearTimeout(timer);
	}, [index]);

	const promo = promotions[index];

	const handleNavClick = (i: number) => {
		if (i === index) return;
		setFade(false);
		setTimeout(() => {
			setIndex(i);
			setFade(true);
		}, 500);
	};

	return (
		<div className='bg-black/50 blur-[0.1px] backdrop-blur-md p-4 sticky bottom-0 left-0 w-full z-10 border-t border-white/20'>
			<div className='w-full max-w-3xl mx-auto flex flex-col items-center'>
				<div
					className={`transition-opacity duration-500 ${fade ? 'opacity-100' : 'opacity-0'}`}
					key={index}>
					<div className='flex flex-col sm:flex-row items-center text-center sm:text-left gap-4'>
						<div className='flex-shrink-0'>{promo.icon}</div>
						<div>
							<h3
								className='text-xl font-bold text-white'
								style={{ filter: 'drop-shadow(0 0 3px #f0b100)' }}>
								{promo.title}
							</h3>
							<p className='text-white mt-1 text-sm sm:text-base'>{promo.message}</p>
						</div>
					</div>
				</div>
				<div className='flex justify-center w-full mt-3'>
					<div className='flex gap-2.5'>
						{promotions.map((_, i) => (
							<button
								key={i}
								className={`w-2.5 h-2.5 rounded-full border border-white/50 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black focus:ring-yellow-500 ${
									i === index ? 'bg-white scale-110' : 'bg-transparent hover:bg-white/30'
								}`}
								aria-label={`Show promotion ${i + 1}`}
								onClick={() => handleNavClick(i)}
							/>
						))}
					</div>
				</div>
			</div>
		</div>
	);
};

export default PromotionsBanner;
</file>

<file path="client/src/app/menu/components/SearchBar.tsx">
'use client';
import React, { useState, useRef, useEffect } from 'react';
import { FaSearch } from 'react-icons/fa';
import TextInput from '@/components/shared/TextInput';
import Button from '@/components/shared/Button';
import Products from '@/constant/Products';
import { useCart } from '@/context/CartContext';

const highlightMatch = (text: string, match: string) => {
	if (!match) return text;
	const idx = text.toLowerCase().indexOf(match.toLowerCase());
	if (idx === -1) return text;
	return (
		<>
			{text.slice(0, idx)}
			<span className='bg-yellow-700 text-white font-bold'>{text.slice(idx, idx + match.length)}</span>
			{text.slice(idx + match.length)}
		</>
	);
};

const SearchBar: React.FC = () => {
	const { search, setSearch } = useCart();
	const [showSuggestions, setShowSuggestions] = useState(false);
	const [activeIdx, setActiveIdx] = useState(-1);
	const suggestionsRef = useRef<HTMLUListElement>(null);

	const searchTerm = search.trim().toLowerCase();
	const categorySuggestions = Products.filter((group) =>
		group.Name.toLowerCase().includes(searchTerm)
	).map((group) => ({ type: 'category', name: group.Name }));
	const productSuggestions = Products.flatMap((group) =>
		group.Products.filter((product) => product.Name.toLowerCase().includes(searchTerm)).map(
			(product) => ({ type: 'product', name: product.Name, category: group.Name })
		)
	);
	const suggestions = searchTerm ? [...categorySuggestions, ...productSuggestions].slice(0, 8) : [];

	// Keyboard navigation
	const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {
		if (!showSuggestions || suggestions.length === 0) return;
		if (e.key === 'ArrowDown') {
			e.preventDefault();
			setActiveIdx((prev) => (prev + 1) % suggestions.length);
		} else if (e.key === 'ArrowUp') {
			e.preventDefault();
			setActiveIdx((prev) => (prev - 1 + suggestions.length) % suggestions.length);
		} else if (e.key === 'Enter' && activeIdx >= 0) {
			setSearch(suggestions[activeIdx].name);
			setShowSuggestions(false);
		}
	};

	// Scroll active suggestion into view
	useEffect(() => {
		if (activeIdx >= 0 && suggestionsRef.current) {
			const el = suggestionsRef.current.children[activeIdx] as HTMLElement;
			if (el) el.scrollIntoView({ block: 'nearest' });
		}
	}, [activeIdx]);

	return (
		<article className='sticky bg-black/50 blur-[0.1px] backdrop-blur-md top-9 m-0 shadow-none p-4 rounded-none z-20'>
			<div className='relative w-full'>
				<TextInput
					id='menu-search'
					className='bg-yellow-700/20'
					type='text'
					placeholder='Search for food or categories...'
					value={search}
					onChange={(e) => {
						setSearch(e.target.value);
						setShowSuggestions(true);
						setActiveIdx(-1);
					}}
					onFocus={() => {
						setShowSuggestions(true);
						window.scrollTo({ top: 0, behavior: 'smooth' });
					}}
					onBlur={() => setTimeout(() => setShowSuggestions(false), 200)} // Increased delay
					onKeyDown={handleKeyDown}
					aria-label='Search for food or categories'
					autoComplete='off'
					icon={
						<FaSearch
							className='text-white/70'
							aria-hidden='true'
						/>
					}
				/>
				{showSuggestions && suggestions.length > 0 && (
					<div className='absolute top-full mt-2 w-full bg-black border border-white/20 rounded-md shadow-lg z-10'>
						<ul
							ref={suggestionsRef}
							className='max-h-60 overflow-auto p-2'
							role='listbox'>
							{suggestions.map((s, idx) => (
								<li
									key={s.type + '-' + s.name + '-' + idx}
									role='option'
									aria-selected={activeIdx === idx}>
									<Button
										variant='icon'
										onClick={() => {
											setSearch(s.name);
											setShowSuggestions(false);
										}}
										onMouseEnter={() => setActiveIdx(idx)}
										className={`w-full flex items-center justify-start text-left p-2 rounded-md ${
											activeIdx === idx ? 'bg-yellow-700' : ''
										}`}
										aria-label={
											s.type === 'category' ? `Category: ${s.name}` : `Product: ${s.name}`
										}>
										<span className={`text-white ${s.type === 'category' ? 'font-bold' : ''}`}>
											{highlightMatch(s.name, searchTerm)}
										</span>
										{'category' in s && (
											<span className='ml-auto text-xs text-white/70'>
												in {s.category as string}
											</span>
										)}
									</Button>
								</li>
							))}
						</ul>
					</div>
				)}
			</div>
		</article>
	);
};

export default SearchBar;
</file>

<file path="client/src/app/orders/components/OrderItem.tsx">
import React from 'react';

import ProductDetails from '@/app/menu/components/ProductDetails';
import Section from '@/components/shared/layout/Section';

const OrderItem: React.FC<{ order: Order }> = ({ order }) => {
	return (
		<Section key={order.orderId}>
			{!order.paymentMethod && (
				<div className='rounded-md bg-yellow-900  p-3 mb-4'>
					<p className='text-white font-bold text-center'>
						Dear Customer, Select your payment Method
					</p>
					<input
						type='text'
						placeholder='Enter payment method'
						className='w-full p-2 border border-gray-300 rounded-md'
					/>
				</div>
			)}
			<h2>{new Date(order.orderDate).toLocaleDateString()}</h2>
			<ul>
				<li>
					<p className='border border-white/50 bg-yellow-700 text-center py-2 rounded-md'>
						<b>Order ID:</b> {order.orderId}
					</p>
					<article>
						<ol className='list-decimal'>
							{order.products &&
								order.products.map((item) => (
									<li
										className='border-b pb-2'
										key={item.ProductID + Math.round(Math.random() * 1000)}>
										<p className='text-lg font-bold text-white'>{item.Name}</p>
										<ProductDetails item={item} />
									</li>
								))}
						</ol>
					</article>
					<dl className='grid grid-cols-2 items-baseline-last text-sm gap-x-4'>
						<dt className='font-bold'>Total</dt>
						<dd className='slashed-zero tabular-nums'>R{order.totalAmount.toFixed(2)}</dd>
						<dt className='font-bold'>Quantity</dt>
						<dd className='slashed-zero tabular-nums'>
							{order.products.reduce((acc, item) => acc + item.quantity, 0)}
						</dd>
						<dt className='font-bold'>Status</dt>
						<dd>{order.status}</dd>
					</dl>
				</li>
			</ul>
		</Section>
	);
};

export default OrderItem;
</file>

<file path="client/src/components/shared/layout/FormField.tsx">
import React from 'react';

interface FormFieldProps {
	label: string;
	name: string;
	type?: 'text' | 'date' | 'time' | 'select';
	value?: string;
	onChange?: (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>) => void;
	required?: boolean;
	placeholder?: string;
	className?: string;
	children?: React.ReactNode;
	min?: string;
	id?: string;
}

const formInputStyle =
	'w-full p-3 rounded-md bg-black/30 border border-white/20 focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 outline-none';

const FormField: React.FC<FormFieldProps> = ({
	label,
	name,
	type = 'text',
	value,
	onChange,
	required = false,
	placeholder,
	className = '',
	children,
	min,
	id,
}) => (
	<div className={className}>
		<label
			htmlFor={id || name}
			className='block mb-2 font-semibold text-white'>
			{label}
		</label>
		{type === 'select' ? (
			<select
				name={name}
				id={id || name}
				value={value}
				onChange={onChange}
				required={required}
				className={formInputStyle}>
				{children}
			</select>
		) : (
			<input
				type={type}
				name={name}
				id={id || name}
				value={value}
				onChange={onChange}
				required={required}
				placeholder={placeholder}
				className={formInputStyle}
				min={min}
			/>
		)}
	</div>
);

export default FormField;
</file>

<file path="client/src/components/shared/layout/Main.tsx">
interface MainProps {
	Icon?: React.ElementType;
	className?: string;
	heading?: string;
	tittle?: string;
	children: React.ReactNode;
}
export default function Main({ children, Icon, heading, tittle, className }: MainProps) {
	return (
		<main
			className={
				className
					? className
					: 'relative flex flex-col items-center justify-start w-full min-h-screen p-2 md:px-4 bg-white/10;'
			}>
			<header>
				<span className='flex items-center justify-center gap-3'>
					{Icon && <Icon className='text-3xl text-yellow-500' />}
					{tittle && <h1>{tittle}</h1>}
				</span>
				<p className='text-white/70 text-center mt-2 flex-grow'>{heading}</p>
			</header>
			{children}
		</main>
	);
}
</file>

<file path="client/src/components/shared/layout/Section.tsx">
import { Suspense } from 'react';
import Loading from '../Loading';

interface SectionProps extends React.HTMLProps<HTMLElement> {
	Icon?: React.ElementType;
	heading?: string;
	tittle?: string;
	className?: string;
	children: React.ReactNode;
}
export default function Section({
	children,
	Icon,
	heading,
	tittle,
	className,
	...props
}: SectionProps) {
	return (
		<section
			{...props}
			className={
				className ? className : ' bg-black/30 border border-yellow-500/20 rounded-md p-2 my-4'
			}>
			<header>
				{Icon ? (
					<div className='flex flex-col items-center text-center'>
						<span className='flex items-center justify-center w-12 h-12 bg-yellow-500 mx-auto text-white rounded-full shadow-sm shadow-black/50 '>
							<Icon className='text-3xl' />
						</span>
						{tittle && <h3 className='mt-4 text-shadow-sm text-shadow-black/50'>{tittle}</h3>}
					</div>
				) : (
					tittle && <h2 className='text-shadow-sm text-shadow-black/50'>{tittle}</h2>
				)}
				<p className='text-white/70 text-center mt-2 flex-grow'>{heading}</p>
			</header>
			{children}
		</section>
	);
}
</file>

<file path="client/src/components/shared/AddOnSelector.tsx">
import React from 'react';

const carWashAddOns = [
	{ id: 'interior-detailing', label: 'Interior Detailing', price: '150' },
	{ id: 'wax-polish', label: 'Wax and Polish', price: '100' },
	{ id: 'engine-wash', label: 'Engine Wash', price: '80' },
	{ id: 'tire-shine', label: 'Tire Shine', price: '50' },
];

interface AddOnSelectorProps {
	selectedAddOns: string[];
	onChange: (addOns: string[]) => void;
}

const AddOnSelector: React.FC<AddOnSelectorProps> = ({ selectedAddOns, onChange }) => {
	const handleAddOnChange = (addOn: string) => {
		const newSelection = selectedAddOns.includes(addOn)
			? selectedAddOns.filter((item) => item !== addOn)
			: [...selectedAddOns, addOn];
		onChange(newSelection);
	};

	return (
		<div className='space-y-4'>
			<h3 className='text-lg font-semibold text-white'>Additional Services</h3>
			<div className='grid grid-cols-1 md:grid-cols-2 gap-4'>
				{carWashAddOns.map(({ id, label, price }) => (
					<div
						key={id}
						className='flex items-center space-x-3 p-3 rounded-md bg-black/30 border border-white/20'>
						<input
							type='checkbox'
							id={id}
							checked={selectedAddOns.includes(label)}
							onChange={() => handleAddOnChange(label)}
							className='h-5 w-5 text-yellow-500 rounded focus:ring-yellow-500 bg-black/30 border-white/20'
						/>
						<label
							htmlFor={id}
							className='flex-1 cursor-pointer'>
							<span className='block text-white'>{label}</span>
							<span className='block text-sm text-white/60'>R{price}</span>
						</label>
					</div>
				))}
			</div>
		</div>
	);
};

export default AddOnSelector;
</file>

<file path="client/src/components/shared/Alert.tsx">
import React from 'react';
import { FaCheckCircle, FaExclamationTriangle, FaTimes } from 'react-icons/fa';

interface AlertProps {
  variant: 'success' | 'danger';
  onClose?: () => void;
  className?: string;
  children?: React.ReactNode;
  message?: string; // Keeping for backward compatibility
}

const Alert: React.FC<AlertProps> = ({
  variant,
  onClose,
  className = '',
  children,
  message,
}) => {
  const styles = {
    success: 'bg-green-500/20 text-white',
    danger: 'bg-yellow-500/20 text-white',
  };

  const displayMessage = children || message;

  return (
    <div
      className={`mt-4 p-3 rounded-md flex items-center gap-2 relative ${
        styles[variant]
      } ${className}`}
    >
      {variant === 'success' ? <FaCheckCircle /> : <FaExclamationTriangle />}
      <span className='flex-1'>{displayMessage}</span>
      {onClose && (
        <button
          onClick={onClose}
          className='text-white hover:opacity-75 transition-opacity'
          aria-label='Close alert'
        >
          <FaTimes />
        </button>
      )}
    </div>
  );
};

export default Alert;
</file>

<file path="client/src/components/shared/Avatar.tsx">
import React from 'react';
import classNames from 'classnames'; // Import classNames
import Image from 'next/image';

interface AvatarProps {
	src: string | null | undefined;
	alt: string;
	size?: 'small' | 'medium' | 'large';
	className?: string; // Existing className for external styles
}

// Define size classes as an object for better readability and maintainability
const sizeClassesMap = {
	small: 'w-8 h-8 text-sm', // Added text-sm for initial/fallback text size
	medium: 'w-10 h-10 text-base', // Added text-base
	large: 'w-16 h-16 text-xl', // Added text-xl
};

const Avatar: React.FC<AvatarProps> = ({ src, alt, size = 'medium', className }) => {
	// Get the size-specific classes from the map, defaulting to 'medium'
	const currentSizeClasses = sizeClassesMap[size];

	return (
		<div
			className={classNames(
				'relative flex items-center justify-center rounded-full bg-yellow-200 overflow-hidden',
				currentSizeClasses, // Apply the size-specific classes
				className // Apply any additional classes passed from parent
			)}>
			{src ? (
				<Image
					src={src}
					alt={alt}
					className='absolute inset-0 w-full h-full object-cover'
				/>
			) : (
				// Fallback for no image: display first letter of alt text
				<span className='text-yellow-600 font-bold uppercase flex items-center justify-center h-full w-full'>
					{alt.charAt(0)}
				</span>
			)}
		</div>
	);
};

export default Avatar;
</file>

<file path="client/src/components/shared/Button.tsx">
import React from 'react';
import classNames from 'classnames';

export type ButtonVariant = 'primary' | 'secondary' | 'danger' | 'icon' | 'suggestion';
export type ButtonSize = 'sm' | 'md' | 'lg';

interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
	variant?: ButtonVariant;
	size?: ButtonSize;
	loading?: boolean;
}

const baseClasses =
	'rounded-md flex gap-2 items-center justify-center font-semibold transition-colors duration-200 focus:outline-none focus-visible:ring-4  focus-visible:ring-yellow-400 text-nowrap';
const variantClasses = {
	primary: 'bg-yellow-600 text-white hover:bg-yellow-700 shadow-sm shadow-black',
	secondary: 'bg-white text-yellow-600 border border-yellow-400 hover:bg-yellow-50',
	danger: 'bg-yellow-100 text-yellow-700 border border-yellow-400 hover:bg-yellow-200',
	icon: 'bg-none text-yellow-500 hover:text-yellow-700',
	suggestion: 'bg-transparent text-white hover:bg-yellow-700',
};
const sizeClasses = {
	sm: 'px-3 py-1 text-sm',
	md: 'px-4 py-2 text-base',
	lg: 'px-6 py-3 text-lg',
};

const Button: React.FC<ButtonProps> = ({
	children,
	variant = 'primary',
	size = 'sm',
	loading = false,
	disabled,
	className,
	...props
}) => (
	<button
		className={classNames(baseClasses, variantClasses[variant], sizeClasses[size], className, {
			'opacity-50 cursor-not-allowed': disabled || loading,
		})}
		disabled={disabled || loading}
		{...props}>
		{loading ? (
			<span className='inline-block w-4 h-4 border-2 border-white border-t-yellow-600 rounded-full animate-spin mr-2'></span>
		) : (
			children
		)}
	</button>
);

export default Button;
</file>

<file path="client/src/components/shared/Icon.tsx">
import React from 'react';

interface IconProps {
	icon: React.ElementType;
	className?: string;
	variant?: 'default' | 'inline' | 'inlineCircular';
	heading?: string;
}

const Icon: React.FC<IconProps> = ({
	icon: IconComponent,
	className,
	variant = 'default',
	heading,
}) => {
	if (variant === 'inline') {
		return (
			<div className='flex items-center justify-center gap-2'>
				<IconComponent className={`${className} text-3xl text-yellow-500`} />
				{heading && <h2 className='border-none'>{heading}</h2>}
			</div>
		);
	}

	if (variant === 'inlineCircular') {
		return (
			<div className='flex items-center  gap-2 '>
				<span className='bg-yellow-500 shadow-sm shadow-black/50 rounded-full p-2 '>
					<IconComponent className={` text-white text-xl   ${className || ''}`} />
				</span>

				{heading && <h3 className='text-shadow-sm text-shadow-black/50 p-2'>{heading}</h3>}
			</div>
		);
	}

	// Default variant (circular icon)
	return (
		<div className='flex flex-col items-center text-center'>
			<div className='flex items-center justify-center w-12 h-12 bg-yellow-500 mx-auto text-white rounded-full shadow-sm shadow-black/50 '>
				<IconComponent className={`w-6 h-6 ${className || ''}`} />
			</div>
			{heading && <h3 className='mt-4 text-shadow-sm text-shadow-black/50'>{heading}</h3>}
		</div>
	);
};

export default Icon;
</file>

<file path="client/src/components/shared/Link.tsx">
import React from 'react';
import Link, { LinkProps as NextLinkProps } from 'next/link';
import classNames from 'classnames';

export type LinkVariant = 'primary' | 'secondary' | 'button';

interface LinkProps extends NextLinkProps {
	children: React.ReactNode;
	className?: string;
	variant?: LinkVariant;
}

const baseClasses = 'transition-colors duration-200 flex gap-2 items-center justify-center';

const variantClasses = {
	primary: 'text-yellow-100 shadow-blue-500 font-bold hover:text-yellow-700 hover:underline',
	secondary: 'text-yellow-200 hover:text-yellow-700 hover:underline',
	button:
		'bg-yellow-500 font-bold grow p-2 text-center text-nowrap text-white shadow-md shadow-black active:bg-yellow-900 rounded-md flex gap-2 items-center justify-center font-semibold transition-colors duration-200 focus:outline-none focus-visible:ring-4  focus-visible:ring-yellow-400 ',
};

const AppLink: React.FC<LinkProps> = ({ children, className, variant = 'primary', ...props }) => {
	return (
		<Link
			{...props}
			className={classNames(baseClasses, variantClasses[variant], className)}>
			{children}
		</Link>
	);
};

export default AppLink;
</file>

<file path="client/src/components/shared/Loading.tsx">
import Image from 'next/image';
import '../components.css'; // Optional: for custom styles
import Main from './layout/Main';
import Section from './layout/Section';

const Loading = ({ message = 'Loading...' }: { message?: string }) => (
	<Main className='flex flex-col justify-center items-center min-h-screen  p-4' tittle='PA Luxe Creation' heading='Experience the unique convenience of delicious food and a state-of-the-art car wash, all in
				one place in Evander.'>
		<Section className='flex flex-col items-center text-center max-w-md'>
			<div className='mt-8 animate-pulse'>
				<Image
					src='/PA_Logo.png'
					alt='PA Luxe Creation Logo'
					width={220}
					height={220}
					className='w-48 h-48 mb-4'
					priority
				/>
			</div>
			<div className='spinner' />
			<p className='text-white font-semibold'>{message}</p>
		</Section>
	</Main>
);

export default Loading;
</file>

<file path="client/src/components/shared/TextInput.tsx">
import React from 'react';
import classNames from 'classnames';

export type TextInputVariant = 'default' | 'error';
export type CustomTextInputSize = 'sm' | 'md' | 'lg'; // Renamed to avoid conflict

interface TextInputProps extends React.InputHTMLAttributes<HTMLInputElement> {
	variant?: TextInputVariant;
	customSize?: CustomTextInputSize; // Using the new name
	loading?: boolean;
	label?: string;
	fullWidth?: boolean;
	icon?: React.ReactNode;
}

const baseClasses = 'block rounded-md transition-all duration-200 focus:outline-none focus:ring-2 ';

const variantClasses = {
	default: 'border-white/30 bg-black/20 focus:border-yellow-500 focus:ring-yellow-500',
	error: 'border-yellow-500 bg-black/20 focus:border-yellow-500 focus:ring-yellow-500',
};

// Use the new custom size type here
const sizeClasses = {
	sm: 'px-3 py-1 text-sm',
	md: 'px-4 py-2 text-base',
	lg: 'px-5 py-2.5 text-lg',
};

const TextInput: React.FC<TextInputProps> = ({
	label,
	variant = 'default',
	customSize = 'md',
	loading = false,
	disabled,
	className,
	fullWidth = true,
	icon,
	...props
}) => {
	const inputId = props.id || `text-input-${Math.random().toString(36).substring(2, 9)}`;

	const containerClasses = classNames('relative', { 'w-full': fullWidth });

	const inputClasses = classNames(
		baseClasses,
		variantClasses[variant],
		sizeClasses[customSize],
		className,
		{
			'opacity-50 cursor-not-allowed': disabled || loading,
			'w-full': fullWidth,
			'pl-10': icon,
		}
	);

	return (
		<div className={containerClasses}>
			{label && (
				<label
					htmlFor={inputId}
					className='block text-sm font-medium text-white mb-1'>
					{label}
				</label>
			)}
			{icon && (
				<div className='absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none'>
					{icon}
				</div>
			)}
			<input
				id={inputId}
				className={inputClasses}
				disabled={disabled || loading}
				{...props}
			/>
		</div>
	);
};

export default TextInput;
</file>

<file path="client/src/components/shared/TimeSlotPicker.tsx">
import React from 'react';

const timeSlots = ['09:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00'];

interface TimeSlotPickerProps {
	selectedTime: string;
	onChange: (time: string) => void;
	availableWorkers: string[];
	disabled?: boolean;
}

const TimeSlotPicker: React.FC<TimeSlotPickerProps> = ({
	selectedTime,
	onChange,
	availableWorkers,
	disabled = false,
}) => (
	<div className='space-y-4'>
		<h3 className='text-lg font-semibold text-white'>Available Time Slots</h3>
		<div className='grid grid-cols-2 sm:grid-cols-4 gap-3'>
			{timeSlots.map((time) => {
				const isAvailable = !disabled && availableWorkers.length > 0;
				return (
					<button
						key={time}
						type='button'
						onClick={() => isAvailable && onChange(time)}
						disabled={!isAvailable}
						className={`p-3 rounded-md text-center transition-colors ${
							selectedTime === time
								? 'bg-yellow-500 text-white'
								: isAvailable
								? 'bg-black/30 text-white hover:bg-yellow-500/20'
								: 'bg-black/10 text-white/40 cursor-not-allowed'
						}`}>
						{time}
					</button>
				);
			})}
		</div>
		{!disabled && availableWorkers.length === 0 && (
			<p className='text-yellow-400'>No workers available for these time slots.</p>
		)}
	</div>
);

export default TimeSlotPicker;
</file>

<file path="client/src/constant/Products.ts">
const Products: ProductsType = [
    {
        id: 1,
        Name: "Meals",
        Image: "/Menus/BurgerMeal.png",
        Description: "Wholesome combo meals including flavorful mains, crispy sides, and refreshing drinks—perfect for any appetite.",
        Products: [
            { ProductID: "meals_001", Name: "Kota Meals", Description: ["Thrown Kota", "Chips", "Coca-Cola 440ml"], Price: 90, Image: "/Menus/KotaMeal.png", badge: "Bestseller", rating: 4.8 },
            { ProductID: "meals_002", Name: "Burger Meals", Description: ["Burger", "Chips", "Coca-Cola 440ml"], Price: 100, Image: "/Menus/BurgerMeal.png", badge: "Special", rating: 4.5 },
            { ProductID: "meals_003", Name: "Chicken Meals", Description: ["1/4 Chicken", "Bun", "Chips", "Coca-Cola 440ml"], Price: 80, Image: "/Menus/ChickenMeal.png", rating: 4.2 },
            { ProductID: "meals_004", Name: "Fish Meals", Description: ["Fish", "Chips", "Coca-Cola 440ml"], Price: 80, Image: "/Menus/FishMeal.png", badge: "New", rating: 4.0 },
        ],
    },
    {
        id: 2,
        Name: "Kota Meals",
        Image: "/Menus/KotaMeal.png",
        Description: "Our most loved Kota creations, packed with bold local flavor and hearty fillings for the ultimate street-style indulgence.",
        Products: [
            { ProductID: "kmeals_001", Name: "Smash Kota Meals", Image: "/Menus/KotaMeal.png", Description: ["Smash Kota", "Chips", "Coca-Cola 440ml"], Price: 70 },
            { ProductID: "kmeals_002", Name: "Smash Kota Single Meals", Image: "/Menus/Kota.jpg", Description: ["Smash Kota", "Chips"], Price: 70 },
            { ProductID: "kmeals_003", Name: "Double Smash Kota Meals", Image: "/Menus/KotaMeal.png", Description: ["Double Smash Kota", "Chips", "Coca-Cola 440ml"], Price: 70 },
            { ProductID: "kmeals_004", Name: "Double Smash Kota Single Meals", Image: "/Menus/Kota.jpg", Description: ["Double Smash Kota", "Chips"], Price: 70 },
            { ProductID: "kmeals_005", Name: "Thrown Kota Meals", Image: "/Menus/KotaMeal.png", Description: ["Thrown Kota", "Chips", "Coca-Cola 440ml"], Price: 70 },
            { ProductID: "kmeals_006", Name: "Thrown Kota Single Meals", Image: "/Menus/Kota.jpg", Description: ["Thrown Kota", "Chips"], Price: 70 },
        ],
    },
    {
        id: 3,
        Name: "Kota",
        Image: "/Menus/Kota.png",
        Description: "Traditional South African bread rolls stuffed with savory toppings and crunchy chips—each bite a burst of nostalgia.",
        Products: [
            { ProductID: "kota_001", Name: "Smash Kota", Image: "/Menus/Kota.png", Description: ["Bread", "Chips", "Polony", "Archaar", "Rasaian", "Egg", "Lettuce"], Price: 30 },
            { ProductID: "kota_002", Name: "Double Smash Kota", Image: "/Menus/Kota.png", Description: ["Bread", "Chips", "Polony", "Archaar", "Rasaian", "Egg", "Lettuce", "Cheese"], Price: 35 },
            { ProductID: "kota_003", Name: "Thrown Kota", Image: "/Menus/Kota.png", Description: ["Bread", "Chips", "Polony", "Archaar", "Rasaian", "Egg", "Lettuce", "Cheese", "Patty"], Price: 55 },
        ],
    },
    {
        id: 4,
        Name: "Chips",
        Image: "/Menus/Chips.png",
        Description: "Perfectly fried golden chips, available in three sizes to complement any meal or stand alone as a satisfying snack.",
        Products: [
            { ProductID: "chips_001", Name: "Small Chips", Image: "/Menus/Chips.png", Description: ["5cm × 5cm × 2.5cm Box"], Price: 25 },
            { ProductID: "chips_002", Name: "Medium Chips", Image: "/Menus/Chips.png", Description: ["5cm × 7cm × 2.5cm Box"], Price: 35 },
            { ProductID: "chips_003", Name: "Large Chips", Image: "/Menus/Chips.png", Description: ["8cm × 5cm × 3cm Box"], Price: 50 },
        ],
    },
    {
        id: 5,
        Name: "Beverages",
        Image: "/Menus/Drinks.png",
        Description: "A curated selection of cold beverages to quench your thirst—from fizzy favorites to fruity blends.",
        Products: [
            { ProductID: "bev_001", Name: "Coca-Cola", Image: "/Menus/Coca-Cola.png", Description: ["Coca-cola 1.25L", "Coca-cola 400ml"], Price: 15 },
            { ProductID: "bev_002", Name: "Mocktails", Description: ["flavour Mocktails", "flavour Mocktails", "flavour Mocktails"], Price: 40 },
            { ProductID: "bev_003", Name: "Still Water", Description: ["Still Water 500ml"], Price: 7 },
            { ProductID: "bev_004", Name: "Still Water", Description: ["Still Water 1L"], Price: 12 },
            { ProductID: "bev_005", Name: "Cappy", Image: "/Menus/Cappy.png", Description: ["Pineapple flavour"], Price: 14 },
        ],
    },
    {
        id: 6,
        Name: "Pizza",
        Image: "/Menus/mexicanChilli.png",
        Description: "Oven-baked pizzas topped with rich sauces and generous layers of cheese, meats, and veggies—crafted for flavor lovers.",
        Products: [
            { ProductID: "pizza_001", Name: "Chicken and BBQ Pizza", Description: ["A savory pizza with tender chicken and rich BBQ sauce."], Price: 85, Image: "/Menus/ChickenAndBBQ.png", badge: "Fan-favorite" },
            { ProductID: "pizza_002", Name: "Chicken and Mayo Pizza", Description: ["Creamy and delicious, topped with chicken and mayonnaise."], Price: 85, Image: "/Menus/ChickenAndMayo.png" },
            { ProductID: "pizza_003", Name: "Sweet Chilli Sausage Pizza", Description: ["A perfect blend of sweet and spicy with sausage toppings."], Price: 90, Image: "/Menus/mexicanChilli.png" },
            { ProductID: "pizza_004", Name: "Pineapple Pizza", Description: ["A tropical delight with juicy pineapple chunks."], Price: 80, Image: "/Menus/Pineapply.png" },
            { ProductID: "pizza_005", Name: "Mexican Chilli Pizza", Description: ["Spicy and flavorful, with authentic Mexican chilli."], Price: 95, Image: "/Menus/mexicanChilli.png", badge: "Spicy" },
        ],
    },
];

export default Products;
</file>

<file path="client/src/constant/Stock.ts">
export interface ItemType {
  id: string;
  name: string;
  Size: "12x12×1,5" | "10×10×1,5" | "5×5×2.5" | "5×7×2.5" | "8×5×3" | '300mmx300mm' | "5 liter" | "1.25 liter" | "1 liter" | "750ml" | "500ml" | "400ml" | "375ml" | "10kg" | "5kg" | "4kg" | "1kg" | "900g" | "500g" | "300g" | undefined;
  category: 'Meats' | 'Vagetable and Fruits' | 'Bakery' | 'Dairy' | 'Pantry' | 'Spices' | 'Soda' | 'Water' | 'Packaging' | 'Utensils' | 'Sauces' | 'Cleaning' | 'Appliances' | 'Other';
}

export interface ItemGroup {
  name: 'Food' | 'Beverages' | 'Packaging & Supplies' | 'Sauces & Condiments' | 'Kitchen Supplies';
  items: ItemType[];
}

const itemGroups: ItemGroup[] = [
  {
    name: 'Food',
    items: [
      // Meats
      { id: 'beef_patties', name: 'Beef Patties', category: 'Meats', Size: "1kg" },
      { id: 'chicken_patties', name: 'Chicken Patties', category: 'Meats', Size: "1kg" },
      { id: 'chicken_fillets', name: 'Chicken Fillets', category: 'Meats', Size: '1kg' },
      { id: 'chicken_wings', name: 'Chicken Wings', category: 'Meats', Size: "5kg" },
      { id: 'hake', name: 'Hake', category: 'Meats', Size: "4kg" },
      { id: 'russian', name: 'Russian', category: 'Meats', Size: "1kg" },
      { id: 'Palony', name: 'Palony', category: 'Meats', Size: "1kg" },
      { id: 'wors', name: 'Wors', category: 'Meats', Size: "1kg" },

      // Vagetable and Fruits
      { id: 'tomatoes', name: 'Tomatoes', category: 'Vagetable and Fruits', Size: undefined },
      { id: 'onions', name: 'Onions', category: 'Vagetable and Fruits', Size: "10kg" },
      { id: 'lemons', name: 'Lemons', category: 'Vagetable and Fruits', Size: undefined },
      { id: 'lettuce', name: 'Lettuce', category: 'Vagetable and Fruits', Size: "500g" },
      { id: 'pineapples', name: 'Pineapples', category: 'Vagetable and Fruits', Size: "500g" },
      { id: 'potatoes', name: 'Potatoes', category: 'Vagetable and Fruits', Size: "10kg" },
      { id: 'peppers', name: 'Peppers', category: 'Vagetable and Fruits', Size: undefined },

      // Bakery
      { id: 'buns', name: 'Buns', category: 'Bakery', Size: undefined },
      { id: 'bread', name: 'Bread', category: 'Bakery', Size: '500g' },

      // Dairy
      { id: 'cheese', name: 'Cheese', category: 'Dairy', Size: "900g" },
      { id: 'eggs', name: 'Eggs', category: 'Dairy', Size: undefined },

      // Pantry
      { id: 'flour', name: 'Flour', category: 'Pantry', Size: "5kg" },
      { id: 'instant_dry_yeast', name: 'Instant Dry Yeast', category: 'Pantry', Size: "500g" },

      // Spices
      { id: 'chips_spice', name: 'Chips Spice', category: 'Spices', Size: '500g' },
      { id: 'egg_yellow_spice', name: 'Egg Yellow Spice', category: 'Spices', Size: '500g' }
    ]
  },
  {
    name: 'Beverages',
    items: [
      { id: 'coca_cola_coko_400ml', name: 'Coca Cola Coko 400ml', category: 'Soda', Size: "400ml" },
      { id: 'coca_cola_mixed_400ml', name: 'Coca Cola Mixed 400ml', category: 'Soda', Size: "400ml" },
      { id: 'coca_cola_coko_1250ml', name: 'Coca Cola Coko 1.25L', category: 'Soda', Size: "1.25 liter" },
      { id: 'coca_cola_mixed_1250ml', name: 'Coca Cola Mixed 1.25L', category: 'Soda', Size: "1.25 liter" },
      { id: 'cappy', name: 'Cappy', category: 'Soda', Size: "500ml" },
      { id: 'still_water', name: 'Still Water', category: 'Water', Size: "500ml" },
      { id: 'still_water', name: 'Still Water', category: 'Water', Size: "1 liter" },
      { id: 'ice_cubes', name: 'Ice Cubes', category: 'Other', Size: "1 liter" }
    ]
  },
  {
    name: 'Packaging & Supplies',
    items: [
      { id: 'pizza_medium_box', name: 'Pizza Medium Box', category: 'Packaging', Size: "12x12×1,5" },
      { id: 'pizza_large_box', name: 'Pizza Large Box', category: 'Packaging', Size: "10×10×1,5" },
      { id: 'chips_small_box', name: 'Chips Small Box', category: 'Packaging', Size: "5×5×2.5" },
      { id: 'chips_medium_box', name: 'Chips Medium Box', category: 'Packaging', Size: "5×7×2.5" },
      { id: 'chips_large_box', name: 'Chips Large Box', category: 'Packaging', Size: "8×5×3" },
      { id: 'packaging_paper_bugs', name: 'Packaging paper bugs (GP 2)', category: 'Packaging', Size: undefined },
      { id: 'customer_plastic_bag', name: 'Customer Plastic Bag', category: 'Packaging', Size: undefined },
      { id: 'sosatie_stick_thin', name: 'Sosatie Stick Thin', category: 'Utensils', Size: undefined },
      { id: 'Serviettes', name: 'Serviettes', category: 'Utensils', Size: '300mmx300mm' }
    ]
  },
  {
    name: 'Sauces & Condiments',
    items: [
      { id: 'chill_sauce', name: 'Chill Sauce', category: 'Sauces', Size: "5 liter" },
      { id: 'sweet_sticky_marinade', name: 'Sweet & Sticky Marinade', category: 'Sauces', Size: "750ml" },
      { id: 'burger_relish_sauce', name: 'Burger Relish Sauce', category: 'Sauces', Size: '375ml' },
      { id: 'top_bbq_sauce', name: 'Top BBQ Sauce', category: 'Sauces', Size: "5 liter" },
      { id: 'top_tomato_sauce', name: 'Top Tomato Sauce', category: 'Sauces', Size: "5 liter" },
      { id: 'peri_peri', name: 'Peri-Peri', category: 'Sauces', Size: undefined },
      { id: 'top_peri_peri_sauce', name: 'Top Peri-Peri Sauce', category: 'Sauces', Size: "5 liter" },
      { id: 'mustard_sauce', name: 'Mustard Sauce', category: 'Sauces', Size: "5 liter" },
      { id: 'vinegar', name: 'Vinegar', category: 'Other', Size: "5 liter" },
      { id: 'cooking_oil', name: 'Cooking Oil', category: 'Other', Size: "5 liter" }
    ]
  },
  {
    name: 'Kitchen Supplies',
    items: [
      { id: 'refuse_bag', name: 'Refuse Bag', category: 'Cleaning', Size: undefined },
      { id: 'steel Wool', name: 'Steel Wool', category: 'Cleaning', Size: undefined },
      { id: 'dishwasher', name: 'Dishwasher', category: 'Appliances', Size: '750ml' }
    ]
  }
];

export default itemGroups;
</file>

<file path="client/public/file.svg">
<svg fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 13.5V5.41a1 1 0 0 0-.3-.7L9.8.29A1 1 0 0 0 9.08 0H1.5v13.5A2.5 2.5 0 0 0 4 16h8a2.5 2.5 0 0 0 2.5-2.5m-1.5 0v-7H8v-5H3v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1M9.5 5V2.12L12.38 5zM5.13 5h-.62v1.25h2.12V5zm-.62 3h7.12v1.25H4.5zm.62 3h-.62v1.25h7.12V11z" clip-rule="evenodd" fill="#666" fill-rule="evenodd"/></svg>
</file>

<file path="client/public/globe.svg">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.27 14.1a6.5 6.5 0 0 0 3.67-3.45q-1.24.21-2.7.34-.31 1.83-.97 3.1M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.48-1.52a7 7 0 0 1-.96 0H7.5a4 4 0 0 1-.84-1.32q-.38-.89-.63-2.08a40 40 0 0 0 3.92 0q-.25 1.2-.63 2.08a4 4 0 0 1-.84 1.31zm2.94-4.76q1.66-.15 2.95-.43a7 7 0 0 0 0-2.58q-1.3-.27-2.95-.43a18 18 0 0 1 0 3.44m-1.27-3.54a17 17 0 0 1 0 3.64 39 39 0 0 1-4.3 0 17 17 0 0 1 0-3.64 39 39 0 0 1 4.3 0m1.1-1.17q1.45.13 2.69.34a6.5 6.5 0 0 0-3.67-3.44q.65 1.26.98 3.1M8.48 1.5l.01.02q.41.37.84 1.31.38.89.63 2.08a40 40 0 0 0-3.92 0q.25-1.2.63-2.08a4 4 0 0 1 .85-1.32 7 7 0 0 1 .96 0m-2.75.4a6.5 6.5 0 0 0-3.67 3.44 29 29 0 0 1 2.7-.34q.31-1.83.97-3.1M4.58 6.28q-1.66.16-2.95.43a7 7 0 0 0 0 2.58q1.3.27 2.95.43a18 18 0 0 1 0-3.44m.17 4.71q-1.45-.12-2.69-.34a6.5 6.5 0 0 0 3.67 3.44q-.65-1.27-.98-3.1" fill="#666"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h16v16H0z"/></clipPath></defs></svg>
</file>

<file path="client/public/next.svg">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 394 80"><path fill="#000" d="M262 0h68.5v12.7h-27.2v66.6h-13.6V12.7H262V0ZM149 0v12.7H94v20.4h44.3v12.6H94v21h55v12.6H80.5V0h68.7zm34.3 0h-17.8l63.8 79.4h17.9l-32-39.7 32-39.6h-17.9l-23 28.6-23-28.6zm18.3 56.7-9-11-27.1 33.7h17.8l18.3-22.7z"/><path fill="#000" d="M81 79.3 17 0H0v79.3h13.6V17l50.2 62.3H81Zm252.6-.4c-1 0-1.8-.4-2.5-1s-1.1-1.6-1.1-2.6.3-1.8 1-2.5 1.6-1 2.6-1 1.8.3 2.5 1a3.4 3.4 0 0 1 .6 4.3 3.7 3.7 0 0 1-3 1.8zm23.2-33.5h6v23.3c0 2.1-.4 4-1.3 5.5a9.1 9.1 0 0 1-3.8 3.5c-1.6.8-3.5 1.3-5.7 1.3-2 0-3.7-.4-5.3-1s-2.8-1.8-3.7-3.2c-.9-1.3-1.4-3-1.4-5h6c.1.8.3 1.6.7 2.2s1 1.2 1.6 1.5c.7.4 1.5.5 2.4.5 1 0 1.8-.2 2.4-.6a4 4 0 0 0 1.6-1.8c.3-.8.5-1.8.5-3V45.5zm30.9 9.1a4.4 4.4 0 0 0-2-3.3 7.5 7.5 0 0 0-4.3-1.1c-1.3 0-2.4.2-3.3.5-.9.4-1.6 1-2 1.6a3.5 3.5 0 0 0-.3 4c.3.5.7.9 1.3 1.2l1.8 1 2 .5 3.2.8c1.3.3 2.5.7 3.7 1.2a13 13 0 0 1 3.2 1.8 8.1 8.1 0 0 1 3 6.5c0 2-.5 3.7-1.5 5.1a10 10 0 0 1-4.4 3.5c-1.8.8-4.1 1.2-6.8 1.2-2.6 0-4.9-.4-6.8-1.2-2-.8-3.4-2-4.5-3.5a10 10 0 0 1-1.7-5.6h6a5 5 0 0 0 3.5 4.6c1 .4 2.2.6 3.4.6 1.3 0 2.5-.2 3.5-.6 1-.4 1.8-1 2.4-1.7a4 4 0 0 0 .8-2.4c0-.9-.2-1.6-.7-2.2a11 11 0 0 0-2.1-1.4l-3.2-1-3.8-1c-2.8-.7-5-1.7-6.6-3.2a7.2 7.2 0 0 1-2.4-5.7 8 8 0 0 1 1.7-5 10 10 0 0 1 4.3-3.5c2-.8 4-1.2 6.4-1.2 2.3 0 4.4.4 6.2 1.2 1.8.8 3.2 2 4.3 3.4 1 1.4 1.5 3 1.5 5h-5.8z"/></svg>
</file>

<file path="client/public/robots.txt">
# Allow all web crawlers to index the site
User-agent: *
Allow: /

# Sitemap location
Sitemap: https://yourdomain.com/sitemap.xml

# Disallow admin and API routes
Disallow: /admin/
Disallow: /api/

# Allow media files
Allow: /public/

# Crawl-delay: 10  # Uncomment and adjust if needed to limit crawl rate
</file>

<file path="client/public/vercel.svg">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1155 1000"><path d="m577.3 0 577.4 1000H0z" fill="#fff"/></svg>
</file>

<file path="client/public/window.svg">
<svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 2.5h13v10a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1zM0 1h16v11.5a2.5 2.5 0 0 1-2.5 2.5h-11A2.5 2.5 0 0 1 0 12.5zm3.75 4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5M7 4.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m1.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5" fill="#666"/></svg>
</file>

<file path="client/src/app/Admin/carwash/loading.tsx">
import Main from '@/components/shared/layout/Main';
import Loading from '@/components/shared/Loading';

export default function LoadingPage() {
	return (
		<Main>
			<Loading message='Loading Car Wash Bookings...' />
		</Main>
	);
}
</file>

<file path="client/src/app/Admin/dashboard/components/EateryOperations.tsx">
import { FaUtensils, FaChartBar, FaBoxes, FaClipboardList } from 'react-icons/fa';
import Icon from '@/components/shared/Icon';
import Section from '@/components/shared/layout/Section';

const DataRow = ({ label, value }: { label: string; value: string }) => (
	<div className='flex justify-between items-center py-2 border-b border-white/10'>
		<p className='text-white'>{label}</p>
		<p className='font-semibold text-white'>{value}</p>
	</div>
);

const EateryOperations: React.FC = () => {
	return (
		<Section
			tittle='Eatery Operations'
			Icon={FaUtensils}>
			
			<div className='mt-6 space-y-6'>
				{/* Sales Data */}
				<article >
					<Icon
						icon={FaChartBar}
						heading='Sales Data'
						variant='inline'
					/>
					<div className='mt-4 space-y-1'>
						<DataRow
							label='Top-Selling Items'
							value='N/A'
						/>
						<DataRow
							label='Sales by Category'
							value='N/A'
						/>
						<DataRow
							label='Average Order Value'
							value='N/A'
						/>
					</div>
				</article>

				{/* Inventory Management */}
				<article >
					<Icon
						icon={FaBoxes}
						heading='Inventory Management'
						variant='inline'
					/>
					<div className='mt-4 space-y-1'>
						<DataRow
							label='Stock Levels'
							value='N/A'
						/>
						<DataRow
							label='Low-Stock Alerts'
							value='N/A'
						/>
						<DataRow
							label='Waste Tracking'
							value='N/A'
						/>
					</div>
				</article>

				{/* Order Management */}
				<article >
					<Icon
						icon={FaClipboardList}
						heading='Order Management'
						variant='inline'
					/>
					<div className='mt-4 space-y-1'>
						<DataRow
							label='Orders in Progress'
							value='N/A'
						/>
						<DataRow
							label='Avg. Prep Time'
							value='N/A'
						/>
						<DataRow
							label='Fulfillment Status'
							value='N/A'
						/>
					</div>
				</article>
			</div>
		</Section>
	);
};

export default EateryOperations;
</file>

<file path="client/src/app/Admin/dashboard/components/FinancialOverview.tsx">
import Icon from '@/components/shared/Icon';
import Section from '@/components/shared/layout/Section';
import {
	FaFileInvoiceDollar,
	FaDollarSign,
	FaReceipt,
	FaPiggyBank,
	FaExchangeAlt,
} from 'react-icons/fa';

const DataRow: React.FC<{ label: string; value: string }> = ({ label, value }) => (
	<div className='flex justify-between items-center py-2 border-b border-white/10 last:border-b-0'>
		<p className='text-white'>{label}</p>
		<p className='font-semibold text-white'>{value}</p>
	</div>
);

const FinancialOverview: React.FC = () => {
	return (
<Section Icon={FaFileInvoiceDollar} tittle='Financial Overview' >		

			<div className='mt-6 grid grid-cols-1 md:grid-cols-2 gap-6'>
				{/* Revenue */}
				<article >
					<Icon
						icon={FaDollarSign}
						heading='Revenue'
						variant='inline'
					/>
					<div className='mt-4 space-y-1'>
						<DataRow
							label='Total Revenue'
							value='N/A'
						/>
						<DataRow
							label='Revenue by Source'
							value='N/A'
						/>
					</div>
				</article>

				{/* Expenses */}
				<article >
					<Icon
						icon={FaReceipt}
						heading='Expenses'
						variant='inline'
					/>
					<div className='mt-4 space-y-1'>
						<DataRow
							label='COGS'
							value='N/A'
						/>
						<DataRow
							label='Labor Costs'
							value='N/A'
						/>
						<DataRow
							label='Operating Expenses'
							value='N/A'
						/>
					</div>
				</article>

				{/* Profitability */}
				<article >
					<Icon
						icon={FaPiggyBank}
						heading='Profitability'
						variant='inline'
					/>
					<div className='mt-4 space-y-1'>
						<DataRow
							label='Gross Profit'
							value='N/A'
						/>
						<DataRow
							label='Net Profit'
							value='N/A'
						/>
					</div>
				</article>

				{/* Cash Flow */}
				<article >
					<Icon
						icon={FaExchangeAlt}
						heading='Cash Flow'
						variant='inline'
					/>
					<div className='mt-4 space-y-1'>
						<DataRow
							label='Inflow'
							value='N/A'
						/>
						<DataRow
							label='Outflow'
							value='N/A'
						/>
					</div>
				</article>
			</div>
		</Section>
	);
};

export default FinancialOverview;
</file>

<file path="client/src/app/Admin/dashboard/components/MarketingEngagement.tsx">
import Icon from '@/components/shared/Icon';
import Section from '@/components/shared/layout/Section';
import { FaBullhorn, FaGlobe, FaShareAlt, FaStar } from 'react-icons/fa';

const MarketingEngagement: React.FC = () => {
	return (
<Section Icon={FaBullhorn}
				tittle='Marketing & Engagement'>		

			<div className='mt-6 space-y-6'>
				{/* Website Traffic */}
				<article >
					<Icon
						icon={FaGlobe}
						heading='Website Traffic'
						variant='inline'
					/>
					<p className='text-white/70 italic mt-2'>Data not available</p>
				</article>

				{/* Social Media Engagement */}
				<article >
					<Icon
						icon={FaShareAlt}
						heading='Social Media Engagement'
						variant='inline'
					/>
					<p className='text-white/70 italic mt-2'>Data not available</p>
				</article>

				{/* Customer Feedback & Reviews */}
				<article >
					<Icon
						icon={FaStar}
						heading='Customer Feedback & Reviews'
						variant='inline'
					/>
					<p className='text-white/70 italic mt-2'>Data not available</p>
				</article>
			</div>
		</Section>
	);
};

export default MarketingEngagement;
</file>

<file path="client/src/app/Admin/dashboard/loading.tsx">
import Loading from '@/components/shared/Loading';

export default function LoadingPage() {
  return <Loading message="Loading Admin Dashboard..." />;
}
</file>

<file path="client/src/app/Admin/dashboard/page.tsx">
'use client';

import { useUser } from '@/context/UserContext';
import React from 'react';
import OverallBusinessPerformance from './components/OverallBusinessPerformance';
import EateryOperations from './components/EateryOperations';
import CarWashOperations from './components/CarWashOperations';
import MarketingEngagement from './components/MarketingEngagement';
import FinancialOverview from './components/FinancialOverview';
import Loading from '@/components/shared/Loading';
import Icon from '@/components/shared/Icon';
import { FaTachometerAlt } from 'react-icons/fa';

const DashboardPage: React.FC = () => {
	const { loading } = useUser();

	if (loading) {
		return <Loading message='Loading Admin Dashboard...' />;
	}

	return (
		<main className='min-h-screen bg-black text-white p-4 sm:p-8'>
			<div className='max-w-7xl mx-auto'>
				<Icon
					icon={FaTachometerAlt}
					heading='Admin Dashboard'
					variant='inline'
				/>
				<div className='mt-8 grid grid-cols-1 lg:grid-cols-2 gap-8'>
					<OverallBusinessPerformance />
					<EateryOperations />
					<CarWashOperations />
					<MarketingEngagement />
					<FinancialOverview />
				</div>
			</div>
		</main>
	);
};

export default DashboardPage;
</file>

<file path="client/src/app/Admin/inventory/page.tsx">
'use client';

import itemGroups from '@/constant/Stock';
import ItemGroup from '@/app/Admin/components/Inventory/ItemGroup';

export default function InventoryAdmin() {
    return (
        <div className='container mx-auto p-4'>
            <h1 className='text-2xl font-bold mb-6 text-white'>Inventory Management</h1>
            <div className='space-y-8'>
                {itemGroups.map((group) => (
                    <ItemGroup key={group.name} group={group} />
                ))}
            </div>
        </div>
    );
}
</file>

<file path="client/src/app/Admin/seed/page.tsx">
'use client';

import { useState } from 'react';
import { seedProductsToFirestore } from '@/firebase/products/seedProducts';
import { seedStockToFirestore } from '@/firebase/stock/seedStock';
import Button from '@/components/shared/Button';
import Alert from '@/components/shared/Alert';

export default function SeedDataPage() {
    const [loading, setLoading] = useState(false);
    const [notification, setNotification] = useState<{ variant: 'success' | 'danger'; message: string } | null>(null);

    const handleSeedProducts = async () => {
        setLoading(true);
        setNotification(null);
        try {
            const message = await seedProductsToFirestore();
            setNotification({ variant: 'success', message });
        } catch (error) {
            setNotification({ variant: 'danger', message: 'Failed to seed products.' });
            console.error(error);
        } finally {
            setLoading(false);
        }
    };

    const handleSeedStock = async () => {
        setLoading(true);
        setNotification(null);
        try {
            const message = await seedStockToFirestore();
            setNotification({ variant: 'success', message });
        } catch (error) {
            setNotification({ variant: 'danger', message: 'Failed to seed stock.' });
            console.error(error);
        } finally {
            setLoading(false);
        }
    };

    return (
        <div className='container mx-auto p-4'>
            <h1 className='text-2xl font-bold mb-6 text-white'>Seed Data to Firestore</h1>

            {notification && (
                <Alert
                    variant={notification.variant}
                    onClose={() => setNotification(null)}
                    className='mb-4'
                >
                    {notification.message}
                </Alert>
            )}

            <div className='space-y-4'>
                <p className='text-white'>
                    Use these buttons to perform a one-time seed of your local product and stock data into your Firestore database. 
                    This will not run if the collections already contain data.
                </p>
                <div className='flex space-x-4'>
                    <Button onClick={handleSeedProducts} disabled={loading}>
                        {loading ? 'Seeding...' : 'Seed Products'}
                    </Button>
                    <Button onClick={handleSeedStock} disabled={loading}>
                        {loading ? 'Seeding...' : 'Seed Stock'}
                    </Button>
                </div>
            </div>
        </div>
    );
}
</file>

<file path="client/src/app/api/user/route.ts">
import { NextResponse } from 'next/server';
import GetUser from '@/firebase/users/server/GetServerUser';

export async function GET() {
  try {
    const user = await GetUser();

    if (!user) {
      return NextResponse.json({ error: 'User not authenticated' }, { status: 401 });
    }

    return NextResponse.json(user, { status: 200 });
  } catch (error) {
    console.error('API Error:', error);
    return NextResponse.json({ error: 'Internal Server Error' }, { status: 500 });
  }
}
</file>

<file path="client/src/app/Authentication/login/loading.tsx">
import Loading from '@/components/shared/Loading';

export default function LoadingPage() {
	return <Loading message='Loading Login Page...' />;
}
</file>

<file path="client/src/app/Authentication/register/loading.tsx">
import Loading from '@/components/shared/Loading';

export default function LoadingPage() {
	return <Loading message='Loading Registration Page...' />;
}
</file>

<file path="client/src/app/blog/loading.tsx">
import Loading from '@/components/shared/Loading';

export default function LoadingPage() {
	return <Loading message='Loading Blog Posts...' />;
}
</file>

<file path="client/src/app/blog/page.tsx">
import React from 'react';
import BlogPostList from '@/app/blog/components/BlogPostList';
import Main from '@/components/shared/layout/Main';
import { FaBlog } from 'react-icons/fa';
import Section from '@/components/shared/layout/Section';

const BlogNewsPage: React.FC = () => {
	return (
		<Main
			tittle='Blog'
			Icon={FaBlog}>
			<Section>
				<BlogPostList />
			</Section>
		</Main>
	);
};

export default BlogNewsPage;
</file>

<file path="client/src/app/contact/loading.tsx">
import Loading from '@/components/shared/Loading';

export default function LoadingPage() {
	return <Loading message='Loading Contact Page...' />;
}
</file>

<file path="client/src/app/gallery/loading.tsx">
import Loading from '@/components/shared/Loading';

export default function LoadingPage() {
	return <Loading message='Loading Gallery...' />;
}
</file>

<file path="client/src/app/gallery/page.tsx">
import ImageGallery from '@/app/gallery/components/ImageGallery';
import Main from '@/components/shared/layout/Main';
import { FcGallery } from 'react-icons/fc';

export default function Gallery() {
	return (
		<Main
			tittle='Gallery'
			Icon={FcGallery}
			heading='Find Your Convenience'>
			<ImageGallery />
		</Main>
	);
}
</file>

<file path="client/src/app/menu/[Products]/[product]/comments/loading.tsx">
import Loading from '@/components/shared/Loading';

export default function LoadingPage() {
	return <Loading message='Loading Product Comments...' />;
}
</file>

<file path="client/src/app/menu/[Products]/[product]/loading.tsx">
import Loading from '@/components/shared/Loading';

export default function LoadingPage() {
	return <Loading message='Loading Product Details...' />;
}
</file>

<file path="client/src/app/menu/[Products]/utils/likesUtils.ts">
import { doc, getDoc } from 'firebase/firestore';
import { firestore } from '@/firebase/firebaseConfig';

export interface ProductLikes {
  [productName: string]: {
    likes: number;
    likedBy: string[];
  };
}

export const fetchAllProductLikes = async (productNames: string[]): Promise<ProductLikes> => {
  const likesData: ProductLikes = {};
  
  try {
    // Fetch likes data for each product
    const promises = productNames.map(async (productName) => {
      const docRef = doc(firestore, 'products', productName);
      const docSnap = await getDoc(docRef);
      
      if (docSnap.exists()) {
        const data = docSnap.data() as { likes: number; likedBy: string[] };
        likesData[productName] = data;
      } else {
        // Initialize with default values if document doesn't exist
        likesData[productName] = { likes: 0, likedBy: [] };
      }
    });
    
    await Promise.all(promises);
    return likesData;
  } catch (error) {
    console.error('Error fetching product likes:', error);
    // Return default values if there's an error
    productNames.forEach(productName => {
      likesData[productName] = { likes: 0, likedBy: [] };
    });
    return likesData;
  }
};
</file>

<file path="client/src/app/menu/[Products]/loading.tsx">
import Loading from '@/components/shared/Loading';

export default function LoadingPage() {
	return <Loading message='Loading Products...' />;
}
</file>

<file path="client/src/app/menu/cart/loading.tsx">
import Loading from '@/components/shared/Loading';

export default function LoadingPage() {
	return <Loading message='Loading Cart...' />;
}
</file>

<file path="client/src/app/menu/cart/page.tsx">
import React, { Suspense } from 'react';
import Loading from '@/components/shared/Loading';
import { IoClose } from 'react-icons/io5';
import CartProduct from '@/app/menu/cart/components/CartProduct';
import CartFooter from '@/app/menu/cart/components/CartFooter';
import AppLink from '@/components/shared/Link';
import Main from '@/components/shared/layout/Main';


const CartPage: React.FC = () => {
	return (
		<Main >
			<AppLink className="mb-2" href="/menu" >
				<IoClose /> Close Cart
			</AppLink>
			<Suspense fallback={<Loading message="Loading Cart..." />}>
				<CartProduct />
			</Suspense>
			<Suspense fallback={<Loading message="Loading Cart footer..." />}>
				{/* Fixed footer section for total summary and action buttons */}
				<CartFooter />
			</Suspense>
			</Main>
	
	);
};

export default CartPage;
</file>

<file path="client/src/app/menu/components/ProductDetails.tsx">
import Image from 'next/image';
import React from 'react';

function ProductDetails({ item }: { item: CartItem }) {
	return (
		<div className='flex items-center gap-4 w-full text-white bg-black/20  rounded-md p-4'>
			{item.Image && (
				<div className=' w-20 h-20 sm:w-24 sm:h-24  flex-shrink-0'>
					<Image
						src={item.Image}
						alt={item.Name}
						height={100}
						width={100}
						className='w-full rounded-md  '
					/>
				</div>
			)}
			<div className='flex-grow flex flex-col justify-between h-full'>
				<h4>{item.Name}</h4>
				<div className='space-y-1 text-sm'>
					<div className='flex justify-between'>
						<span className='text-white'>Quantity:</span>
						<span className='font-semibold'>{item.quantity}</span>
					</div>
					<div className='flex justify-between'>
						<span className='text-white'>Price:</span>
						<span className='font-semibold'>R{item.Price.toFixed(2)}</span>
					</div>
					{item.quantity > 1 && (
						<div className='flex justify-between font-bold border-t border-white/20 pt-1 mt-1'>
							<span className='text-white'>Total:</span>
							<span>R{(item.Price * item.quantity).toFixed(2)}</span>
						</div>
					)}
				</div>
			</div>
		</div>
	);
}

export default ProductDetails;
</file>

<file path="client/src/app/menu/layout.tsx">
'use client';

import { CartProvider } from '@/context/CartContext';
import { ToastProvider } from '@/context/CartContext';
// import { RouteGuard } from '@/context/RouteGuardContext';
import React, { ReactNode } from 'react';

interface LayoutProps {
	children: ReactNode;
}

const Layout: React.FC<LayoutProps> = ({ children }) => {
	return (
		<ToastProvider>
			<CartProvider>{children}</CartProvider>
		</ToastProvider>
	);
};

export default Layout;
</file>

<file path="client/src/app/menu/loading.tsx">
import Loading from '@/components/shared/Loading';

export default function LoadingPage() {
	return <Loading message='Loading Menu...' />;
}
</file>

<file path="client/src/app/menu/page.tsx">
import { Suspense } from 'react';
import ImageGallery from '@/app/gallery/components/ImageGallery';
import Loading from '@/components/shared/Loading';
import PromotionsBanner from '@/app/menu/components/PromotionsBanner';
import SearchBar from '@/features/menu/components/SearchBar';
import MenuSections from '@/app/menu/components/MenuSections';
import Main from '@/components/shared/layout/Main';
import { CgMenuCheese } from 'react-icons/cg';

const HomePage = () => {
	return (
		<>
			<SearchBar />
			<Main
				tittle='Menu'
				Icon={CgMenuCheese}
				heading='Every Bite Matters'>
				<Suspense fallback={<Loading message='Loading Menu Sections...' />}>
					<MenuSections />
				</Suspense>
				<Suspense fallback={<Loading message='Loading Image Gallery Sections...' />}>
					<ImageGallery />
				</Suspense>
			</Main>
			<PromotionsBanner />
		</>
	);
};
export default HomePage;
</file>

<file path="client/src/app/orders/[State]/page.tsx">
import React from 'react';

import GetUser from '@/firebase/users/server/GetServerUser';
import Image from 'next/image';

import Main from '@/components/shared/layout/Main';
import Section from '@/components/shared/layout/Section';
import { getOrdersForUserFromFirestore } from '@/firebase/orders/getOrderFromFirestore';


const StateOrderPage = async () => {
	const user = await GetUser();

	if (!user) {
		return (
			<main className='p-4'>
				<p className='text-white text-center'>Please log in to see your order history.</p>
			</main>
		);
	}

	const orders = await getOrdersForUserFromFirestore(user.uid);

	if (orders.length === 0) {
		return (
			<main className='p-4'>
				<p className='text-white text-center'>You have no orders yet.</p>
			</main>
		);
	}

	return (
		<Main>
			{orders.map((order: Order) => (
				<Section
					tittle={`Order on ${new Date(order.orderDate).toLocaleDateString()}`}
					key={order.orderId}>
					<ul className='text-white'>
						<li>
							<p>
								<b>Order Number:</b> {order.orderId}
							</p>
							<p>
								<b>Date:</b> {new Date(order.orderDate).toLocaleDateString()}
							</p>
							<p className='mt-2'>
								<b>Products:</b>
							</p>
							<ul className='mt-2 space-y-2'>
								{order.products?.map((item: CartItem) => (
									<li
										className='border-t border-white/20 py-2'
										key={item.ProductID + Math.random().toString()}>
										<article className='flex gap-4 items-center'>
											{item.Image && (
												<Image
													src={item.Image}
													alt={item.Name}
													width={80}
													height={80}
													className='rounded-md'
												/>
											)}
											<div>
												<h3 className='font-semibold text-white'>{item.Name}</h3>
												<p>
													<b>Quantity:</b> {item.quantity}
												</p>
												<p>
													<b>Price:</b> R{item.Price.toFixed(2)}
												</p>
											</div>
										</article>
									</li>
								))}
							</ul>
							<p className='mt-2'>
								<b>Total:</b> R{order.totalAmount.toFixed(2)}
							</p>
							<p>
								<b>Status:</b> <span className='font-semibold text-white'>{order.status}</span>
							</p>
						</li>
					</ul>
				</Section>
			))}
		</Main>
	);
};

export default StateOrderPage;
</file>

<file path="client/src/app/orders/page.tsx">
export const dynamic = 'force-dynamic';
import { getOrdersForUserFromFirestore } from '@/firebase/orders/getOrderFromFirestore';
import GetUser from '@/firebase/users/server/GetServerUser';
import OrderItem from '@/app/orders/components/OrderItem';
import Main from '@/components/shared/layout/Main';
import { FaHistory } from 'react-icons/fa';
const OrderHistory: React.FC = async () => {
	const user = await GetUser();

	if (!user) {
		return (
			<Main
				tittle='Order History'
				Icon={FaHistory}
				className='p-4'>
				<p className='text-white text-center'>Please log in to see your order history.</p>
			</Main>
		);
	}

	const orders = await getOrdersForUserFromFirestore(user.uid);

	if (orders.length === 0) {
		return (
			<Main
				tittle='Order History'
				Icon={FaHistory}
				className='p-4'>
				<p className='text-white text-center'>You have no orders yet.</p>
			</Main>
		);
	}

	return (
		<Main
			tittle='Order History'
			Icon={FaHistory}
			className='p-4 space-y-4'>
			{orders.map((order) => (
				<OrderItem
					key={order.orderId}
					order={order}
				/>
			))}
		</Main>
	);
};

export default OrderHistory;
</file>

<file path="client/src/app/photo/page.tsx">
'use client';

import Image from 'next/image';
import Link from '@/components/shared/Link';
import Section from '@/components/shared/layout/Section';
import Main from '@/components/shared/layout/Main';
import Button from '@/components/shared/Button';
import { BiCamera, BiCheckCircle } from 'react-icons/bi';
import { FiFilm } from 'react-icons/fi';
import { PlaceHolderImages } from './placeholderImages';

const getImage = (id: string) => PlaceHolderImages.find(img => img.id === id);

interface PricingPackage {
	hours: number | string;
	price: number | string;
	features: string[];
}

interface EventType {
	name: string;
	imageId: string;
	description: string;
}

const PhotoBoothPage = () => {
	const heroImage = getImage('hero');
	const service360Image = getImage('service-360-booth');
	const serviceRedCarpetImage = getImage('service-red-carpet');

	const eventTypes: EventType[] = [
		{
			name: 'Graduations',
			imageId: 'event-graduations',
			description: 'Graduates celebrating at a party.',
		},
		{
			name: 'Weddings',
			imageId: 'event-weddings',
			description: 'A wedding reception with guests dancing.',
		},
		{
			name: 'Baby Showers',
			imageId: 'event-baby-showers',
			description: 'Decorations at a baby shower.',
		},
		{
			name: 'School Events',
			imageId: 'event-school-events',
			description: 'Students at a school dance.',
		},
		{
			name: 'Birthdays',
			imageId: 'event-birthdays',
			description: 'A lively birthday party.',
		},
	];

	const pricingPackages: PricingPackage[] = [
		{
			hours: 2,
			price: 2500,
			features: [
				'2 Hours rental',
				'Unlimited videos',
				'Online gallery',
				'On-site attendant',
			],
		},
		{
			hours: 3,
			price: 3500,
			features: ['3 Hours rental', 'Everything in 2hr', 'Custom overlay', 'Fun props'],
		},
		{
			hours: 4,
			price: 4500,
			features: [
				'4 Hours rental',
				'Everything in 3hr',
				'VIP red carpet',
				'Stanchions',
			],
		},
		{
			hours: '8+',
			price: 'Custom',
			features: ['Full day coverage', 'All features included', 'Custom branding', 'Priority support'],
		},
	];

	return (
		<Main>
			{/* Hero Section */}
			<Section tittle='Capture Every Angle in Style' className='flex flex-col items-center text-center'>
				{heroImage && (
					<div className='relative w-full h-64 md:h-80 mb-6 rounded-lg overflow-hidden'>
						<Image
							src={heroImage.imageUrl}
							alt={heroImage.description}
							fill
							className='object-cover'
							priority
							data-ai-hint={heroImage.imageHint}
						/>
					</div>
				)}
				<p className='mt-4 text-lg max-w-2xl text-white/80'>
					The ultimate 360° photo booth and red carpet experience for unforgettable events.
				</p>
				<Link variant='button' href='#services' className='mt-6 flex items-center gap-2'>
					<BiCamera />
					<span>Explore Our Services</span>
				</Link>
			</Section>

			{/* Services Section */}
			<Section tittle='Our Premium Services' heading='Professional rental services to make your event unforgettable'>
				<div className='grid gap-6 md:grid-cols-2 mt-8'>
					<div className='bg-black/30 border border-yellow-500/20 rounded-md overflow-hidden hover:shadow-lg hover:shadow-yellow-500/10 transition-all duration-300'>
						{service360Image && (
							<div className='relative w-full h-48 md:h-64'>
								<Image
									src={service360Image.imageUrl}
									alt={service360Image.description}
									fill
									className='object-cover'
									data-ai-hint={service360Image.imageHint}
								/>
							</div>
						)}
						<div className='p-6'>
							<h3 className='flex items-center gap-3 text-2xl font-semibold text-yellow-500'>
								<BiCamera className='text-white' /> 360 Photo Booth
							</h3>
							<p className='mt-3 text-white/80'>
								Our state-of-the-art 360 photo booth captures slow-motion videos from every angle. Guests
								stand on a platform while a revolving camera spins around them, creating stunning, shareable
								content.
							</p>
						</div>
					</div>

					<div className='bg-black/30 border border-yellow-500/20 rounded-md overflow-hidden hover:shadow-lg hover:shadow-yellow-500/10 transition-all duration-300'>
						{serviceRedCarpetImage && (
							<div className='relative w-full h-48 md:h-64'>
								<Image
									src={serviceRedCarpetImage.imageUrl}
									alt={serviceRedCarpetImage.description}
									fill
									className='object-cover'
									data-ai-hint={serviceRedCarpetImage.imageHint}
								/>
							</div>
						)}
						<div className='p-6'>
							<h3 className='flex items-center gap-3 text-2xl font-semibold text-yellow-500'>
								<FiFilm className='text-white' /> Red Carpet & Stanchions
							</h3>
							<p className='mt-3 text-white/80'>
								Give your guests the full VIP treatment. Our red carpet and stanchion rentals create a
								glamorous entrance for any event, making everyone feel like a star.
							</p>
						</div>
					</div>
				</div>
			</Section>

			{/* Event Types Section */}
			<Section tittle='Perfect for Any Occasion' heading='From elegant weddings to hype birthday bashes, we bring the fun'>
				<div className='grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 md:gap-4 mt-8'>
					{eventTypes.map(event => {
						const image = getImage(event.imageId);
						return (
							<div
								key={event.name}
								className='relative group overflow-hidden rounded-lg shadow-md h-32 md:h-40'>
								{image && (
									<Image
										src={image.imageUrl}
										alt={event.description}
										fill
										className='object-cover w-full h-full transform transition-transform duration-300 group-hover:scale-110'
										data-ai-hint={image.imageHint}
									/>
								)}
								<div className='absolute inset-0 bg-black/50 group-hover:bg-black/70 transition-colors duration-300 flex items-center justify-center p-2'>
									<h3 className='text-white text-sm md:text-base font-bold text-center'>{event.name}</h3>
								</div>
							</div>
						);
					})}
				</div>
			</Section>

			{/* Pricing Section */}
			<Section tittle='Packages & Pricing' heading='Choose the perfect package for your event. All prices in South African Rand (R)'>
				<div className='grid gap-4 sm:grid-cols-2 lg:grid-cols-4 mt-8'>
					{pricingPackages.map((pkg, index) => (
						<div
							key={index}
							className={`flex flex-col bg-black/30 border rounded-md p-6 transform transition-transform hover:-translate-y-2 ${
								index === 2
									? 'border-yellow-500 shadow-lg shadow-yellow-500/20'
									: 'border-yellow-500/20'
							}`}>
							<div className='text-center mb-6'>
								<h3 className='text-xl font-semibold text-white'>{pkg.hours} Hours</h3>
								<p className='text-3xl font-bold text-yellow-500 pt-2'>
									{typeof pkg.price === 'number' ? `R${pkg.price.toLocaleString()}` : pkg.price}
								</p>
							</div>
							<ul className='space-y-3 text-white/80 flex-grow mb-6'>
								{pkg.features.map(feature => (
									<li key={feature} className='flex items-start gap-3'>
										<BiCheckCircle className='h-5 w-5 text-yellow-500 mt-0.5 shrink-0' />
										<span className='text-sm'>{feature}</span>
									</li>
								))}
							</ul>
							<Button
								className='w-full'
								variant={index === 2 ? 'primary' : 'secondary'}>
								<a href='#contact'>Book Now</a>
							</Button>
						</div>
					))}
				</div>
			</Section>
		</Main>
	);
};

export default PhotoBoothPage;
</file>

<file path="client/src/app/photo/placeholder-images.json">
{
  "placeholderImages": [
    {
      "id": "hero",
      "description": "A glamorous party scene with people celebrating.",
      "imageUrl": "https://images.unsplash.com/photo-1425421598808-4a22ce59cc97?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw2fHxwYXJ0eSUyMGV2ZW50fGVufDB8fHx8MTc2MTE0Mjk4MHww&ixlib=rb-4.1.0&q=80&w=1080",
      "imageHint": "party event"
    },
    {
      "id": "service-360-booth",
      "description": "A 360 photo booth in action at an event.",
      "imageUrl": "https://images.unsplash.com/photo-1727892349109-54d06e3478ee?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw3fHxwaG90byUyMGJvb3RofGVufDB8fHx8MTc2MTEzOTcxOHww&ixlib=rb-4.1.0&q=80&w=1080",
      "imageHint": "photo booth"
    },
    {
      "id": "service-red-carpet",
      "description": "A red carpet entrance with stanchions.",
      "imageUrl": "https://images.unsplash.com/photo-1614115866447-c9a299154650?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwzfHxyZWQlMjBjYXJwZXR8ZW58MHx8fHwxNzYxMTQyOTgwfDA&ixlib=rb-4.1.0&q=80&w=1080",
      "imageHint": "red carpet"
    },
    {
      "id": "event-graduations",
      "description": "Graduates celebrating at a party.",
      "imageUrl": "https://images.unsplash.com/photo-1533120921505-7f40f5237ee1?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw3fHxncmFkdWF0aW9uJTIwcGFydHl8ZW58MHx8fHwxNzYxMTQyOTgwfDA&ixlib=rb-4.1.0&q=80&w=1080",
      "imageHint": "graduation party"
    },
    {
      "id": "event-weddings",
      "description": "A wedding reception with guests dancing.",
      "imageUrl": "https://images.unsplash.com/photo-1723832348105-2e69f948135a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw1fHx3ZWRkaW5nJTIwcmVjZXB0aW9ufGVufDB8fHx8MTc2MTEyMTEyOXww&ixlib=rb-4.1.0&q=80&w=1080",
      "imageHint": "wedding reception"
    },
    {
      "id": "event-baby-showers",
      "description": "Decorations at a baby shower.",
      "imageUrl": "https://images.unsplash.com/photo-1594150878496-a921e5af8907?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw2fHxiYWJ5JTIwc2hvd2VyfGVufDB8fHx8MTc2MTA1NjI3OHww&ixlib=rb-4.1.0&q=80&w=1080",
      "imageHint": "baby shower"
    },
    {
      "id": "event-school-events",
      "description": "Students at a school dance.",
      "imageUrl": "https://images.unsplash.com/photo-1504609813442-a8924e83f76e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHwyfHxzY2hvb2wlMjBkYW5jZXxlbnwwfHx8fDE3NjExNDI5ODN8MA&ixlib=rb-4.1.0&q=80&w=1080",
      "imageHint": "school dance"
    },
    {
      "id": "event-birthdays",
      "description": "A lively birthday party.",
      "imageUrl": "https://images.unsplash.com/photo-1556125574-d7f27ec36a06?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3NDE5ODJ8MHwxfHNlYXJjaHw5fHxiaXJ0aGRheSUyMHBhcnR5fGVufDB8fHx8MTc2MTA0MTM0N3ww&ixlib=rb-4.1.0&q=80&w=1080",
      "imageHint": "birthday party"
    }
  ]
}
</file>

<file path="client/src/app/photo/placeholderImages.ts">
import data from './placeholder-images.json';

export type ImagePlaceholder = {
  id: string;
  description: string;
  imageUrl: string;
  imageHint: string;
};

export const PlaceHolderImages: ImagePlaceholder[] = data.placeholderImages;
</file>

<file path="client/src/app/privacy/components/PrivacyContent.tsx">
import Section from '@/components/shared/layout/Section';

const PrivacyContent: React.FC = () => {
	return (
		<Section tittle='Privacy policy '>
			<article>
				<div className='space-y-4'>
					<p>Privacy policy details will be listed here.</p>
				</div>
			</article>
		</Section>
	);
};

export default PrivacyContent;
</file>

<file path="client/src/app/privacy/loading.tsx">
const Loading: React.FC = () => {
  return (
    <main>
      Loading Privacy Policy...
    </main>
  );
};

export default Loading;
</file>

<file path="client/src/app/profile/components/AccountManagement.tsx">
'use client';

import AppLink from '@/components/shared/Link';
import Button from '@/components/shared/Button';
import Icon from '@/components/shared/Icon';
import { FaShieldAlt, FaFileContract, FaUserSecret, FaKey, FaTrash } from 'react-icons/fa';
import { MouseEventHandler } from 'react';
import Section from '@/components/shared/layout/Section';

const AccountManagement: React.FC = () => {
	const handleDeleteAccount: MouseEventHandler<HTMLButtonElement> = (e) => {
		e.preventDefault();
		// In a real app, this would trigger a confirmation modal.
		if (confirm('Are you sure you want to delete your account? This action cannot be undone.')) {
			console.log('Account deletion initiated...');
			// TODO: Implement Firebase function to delete user account.
		}
	};

	return (
		<Section
			Icon={FaShieldAlt}
			tittle='Account & Security'>
			<div className='mt-6 space-y-4'>
				{/* Legal Links */}
				<article className='bg-black/20 p-4 rounded-md border border-white/10 space-y-3'>
					<Icon
						icon={FaFileContract}
						heading='Legal'
						variant='inlineCircular'
					/>
					<AppLink
						href='/terms'
						variant='secondary'>
						<FaFileContract className='mr-2' /> View Terms and Conditions
					</AppLink>
					<AppLink
						href='/privacy'
						variant='secondary'>
						<FaUserSecret className='mr-2' /> View Privacy Policy
					</AppLink>
				</article>

				{/* Security Actions */}
				<article className='bg-black/20 p-4 rounded-md border border-white/10 space-y-3'>
					<Icon
						icon={FaKey}
						heading='Security'
						variant='inlineCircular'
					/>
					<AppLink
						href='/Authentication/change-password'
						variant='secondary'>
						<FaKey className='mr-2' /> Change Password
					</AppLink>
					<Button
						onClick={handleDeleteAccount}
						variant='danger'
						className='w-full flex items-center justify-center gap-2'>
						<FaTrash /> Delete Account
					</Button>
				</article>
			</div>
		</Section>
	);
};

export default AccountManagement;
</file>

<file path="client/src/app/profile/components/LoyaltyProgramInfo.tsx">
'use client';
import Icon from '@/components/shared/Icon';
import { FaGift } from 'react-icons/fa';
import ReferralCodeCopier from './ReferralCodeCopier';
import FreeWash from '@/components/carwash/FreeWash';
import { useUser } from '@/context/UserContext';
import Section from '@/components/shared/layout/Section';

interface LoyaltyProgramInfoProps {
	loyaltyPoints: number;
	carWashCount: number;
}

const LoyaltyProgramInfo: React.FC = () => {
	const { user } = useUser();
	if (!user) {
		return null;
	}

	return (
		<Section
			Icon={FaGift}
			heading='Loyalty Program'>
			<FreeWash carWashCount={user.carWashCount} />
			<article className='mt-8'>
				<h3 className='text-lg font-semibold text-white mb-4'>Refer a Friend & Earn More!</h3>
				<p className='text-white mb-4'>
					Share your referral code with friends. When they sign up, you both get bonus points!
				</p>
				<ReferralCodeCopier code={user.uid.slice(0, 8)} />
			</article>
		</Section>
	);
};

export default LoyaltyProgramInfo;
</file>

<file path="client/src/app/profile/components/PersonalInformation.tsx">
'use client';

import Icon from '@/components/shared/Icon';
import { FaUserCircle } from 'react-icons/fa';
import UserAddress from './Elements/UserAddress';
import AppLink from '@/components/shared/Link';
import { useRouter } from 'next/navigation';
import { useUser } from '@/context/UserContext';
import Section from '@/components/shared/layout/Section';

interface PersonalInformationProps {
	user: UserProfile;
}

const InfoRow: React.FC<{ label: string; value: string | null | undefined }> = ({
	label,
	value,
}) => (
	<div className='py-3 sm:grid sm:grid-cols-3 sm:gap-4'>
		<dt className='text-sm font-medium text-white/70'>{label}</dt>
		<dd className='mt-1 text-sm text-white sm:mt-0 sm:col-span-2'>{value || 'Not set'}</dd>
	</div>
);

const PersonalInformation: React.FC = () => {
	const { user } = useUser();
	const route = useRouter();
	if (!user) {
		route.replace('/Authentication/login');
		return null;
	}
	return (
		<Section
			Icon={FaUserCircle}
			tittle='Personal Information'>
			<article className='mt-6 border-t border-white/20'>
				<dl className='divide-y divide-white/20'>
					<InfoRow
						label='Full Name'
						value={user.displayName}
					/>
					<InfoRow
						label='Email address'
						value={user.email}
					/>
					<InfoRow
						label='Phone number'
						value={user.phoneNumber}
					/>
					<InfoRow
						label='Role'
						value={user.role}
					/>
				</dl>
			</article>
			<UserAddress />
			<AppLink
				href='/profile/edit'
				className='underline'>
				Edit Profile
			</AppLink>
		</Section>
	);
};

export default PersonalInformation;
</file>

<file path="client/src/app/profile/components/ReferralCodeCopier.tsx">
'use client';

import { useState } from 'react';
import { FaCopy, FaCheck } from 'react-icons/fa';
import Button from '@/components/shared/Button';

interface ReferralCodeCopierProps {
  code: string;
}

const ReferralCodeCopier: React.FC<ReferralCodeCopierProps> = ({ code }) => {
  const [isCopied, setIsCopied] = useState(false);

  const handleCopy = () => {
    navigator.clipboard.writeText(code).then(() => {
      setIsCopied(true);
      setTimeout(() => {
        setIsCopied(false);
      }, 2000); // Reset after 2 seconds
    });
  };

  return (
    <div className='flex items-center gap-4'>
      <p className='font-semibold text-white text-lg bg-black/30 p-2 rounded-md'>{code}</p>
      <Button onClick={handleCopy} variant='secondary' size='sm' className='w-32'>
        {isCopied ? (
          <>
            <FaCheck />
            Copied!
          </>
        ) : (
          <>
            <FaCopy />
            Copy Code
          </>
        )}
      </Button>
    </div>
  );
};

export default ReferralCodeCopier;
</file>

<file path="client/src/app/profile/loading.tsx">
import Loading from '@/components/shared/Loading';

export default function LoadingPage() {
	return <Loading message='Loading Profile...' />;
}
</file>

<file path="client/src/app/terms/components/TermsContent.tsx">
import Section from '@/components/shared/layout/Section';

const TermsContent: React.FC = () => {
	return (
		<Section>
			<div className='bg-yellow-700 p-6 sm:p-8 rounded-md text-white'>
				<header className='text-center mb-8'>
					<h1
						className='text-3xl sm:text-4xl font-bold'
						style={{ filter: 'drop-shadow(0 0 4px #f0b100)' }}>
						Terms and Conditions
					</h1>
					<p className='text-white mt-2'>Last updated: July 24, 2024</p>
				</header>

				<div className='space-y-6'>
					<div className='bg-black/20 p-4 rounded-md'>
						<h2 className='text-xl font-semibold mb-3'>1. Introduction</h2>
						<p className='text-white'>
							Welcome to PA Luxe Creation. These terms and conditions outline the rules and
							regulations for the use of our services. By accessing this website and using our
							services, you accept these terms and conditions in full.
						</p>
					</div>

					<div className='bg-black/20 p-4 rounded-md'>
						<h2 className='text-xl font-semibold mb-3'>2. User Responsibilities</h2>
						<p className='text-white mb-2'>
							You are responsible for ensuring that your account information is accurate and for
							maintaining the confidentiality of your password. You agree to accept responsibility
							for all activities that occur under your account.
						</p>
						<ul className='list-disc list-inside space-y-1 text-white pl-2'>
							<li>You must not misuse our services.</li>
							<li>You must not attempt to gain unauthorized access to our systems.</li>
							<li>You must comply with all applicable laws and regulations.</li>
						</ul>
					</div>

					<div className='bg-black/20 p-4 rounded-md'>
						<h2 className='text-xl font-semibold mb-3'>3. Limitation of Liability</h2>
						<p className='text-white'>
							In no event shall PA Luxe Creation, nor any of its officers, directors, and employees,
							be liable to you for anything arising out of or in any way connected with your use of
							this website, whether such liability is under contract, tort or otherwise.
						</p>
					</div>

					<div className='bg-black/20 p-4 rounded-md'>
						<h2 className='text-xl font-semibold mb-3'>4. Governing Law</h2>
						<p className='text-white'>
							These Terms will be governed by and construed in accordance with the laws of South
							Africa, and you submit to the non-exclusive jurisdiction of the state and federal
							courts located in Limpopo for the resolution of any disputes.
						</p>
					</div>
				</div>
			</div>
		</Section>
	);
};

export default TermsContent;
</file>

<file path="client/src/app/terms/loading.tsx">
const Loading: React.FC = () => {
	return <div>Loading Terms and Conditions...</div>;
};

export default Loading;
</file>

<file path="client/src/app/loading.tsx">
import Loading from '@/components/shared/Loading';

export default function LoadingPage() {
	return <Loading message='Loading Home page...' />;
}
</file>

<file path="client/src/components/Navbar/AuthButton.tsx">
'use client';
import AppLink from '@/components/shared/Link';
import Button from '@/components/shared/Button';
import { useUser } from '@/context/UserContext';
import { FaSignInAlt, FaUserCircle } from 'react-icons/fa';
const AuthButton: React.FC<{ setMenubar: (path: 'mobile' | 'profile') => void }> = ({
	setMenubar,
}) => {
	const { user } = useUser();
	if (user)
		return (
			<Button
				variant='icon'
				onClick={() => setMenubar('profile')}
				aria-label='Open profile menu'>
				<FaUserCircle size={28} />
			</Button>
		);
	return (
		<AppLink
			variant='button'
			className='my-1'
			href='/Authentication/login'>
			<FaSignInAlt /> Log in
		</AppLink>
	);
};

export default AuthButton;
</file>

<file path="client/src/components/Navbar/MobileMenu.tsx">
import AppLink from '../shared/Link';
import { FaHome, FaInfoCircle, FaCar, FaEnvelope, FaImages } from 'react-icons/fa';
import { publicPaths } from '@/context/RouteGuardContext';
import { Dispatch, SetStateAction, useEffect, useRef } from 'react';
const MobileMenu: React.FC<{
	setMenubar: (path: 'mobile' | 'profile') => void;
}> = ({ setMenubar }) => {
	const navRef = useRef<HTMLUListElement>(null);
	// useEffect(() => {
	// 	const handleClickOutside = (event: MouseEvent) => {
	// 		if (navRef.current && !navRef.current.contains(event.target as Node)) {
	// 			setMenubar('mobile');
	// 		}
	// 	};
	// 	document.addEventListener('mousedown', handleClickOutside);
	// 	return () => {
	// 		document.removeEventListener('mousedown', handleClickOutside);
	// 	};
	// }, []);
	return (
		<nav className='md:hidden  top-full m-0 left-0 w-full transition-all duration-300 z-50 h-screen '>
			<ul
				ref={navRef}
				className='flex flex-col items-start p-4 gap-4'>
				{publicPaths.map((path) => (
					<li key={path}>
						<AppLink
							href={path}
							variant='primary'
							onClick={() => setMenubar('mobile')}>
							<span className='flex items-center gap-2'>
								{path === '/' && (
									<span className='flex items-center gap-2'>
										<FaHome /> Home
									</span>
								)}
								{path === '/about' && <FaInfoCircle />}
								{path === '/gallery' && <FaImages />}
								{path === '/carwash' && <FaCar />}
								{path === '/contact' && <FaEnvelope />}
								{path === '/terms' && 'Terms'}
								{path === '/blog' && 'Blog'}
								{path.replace('/', '').charAt(0).toUpperCase() + path.replace('/', '').slice(1)}
							</span>
						</AppLink>
					</li>
				))}
			</ul>
		</nav>
	);
};
export default MobileMenu;
</file>

<file path="client/src/components/Navbar/MobileNavbar.tsx">
'use client';
import React, { useState, useRef, useEffect, Dispatch, SetStateAction } from 'react';
import Button from '@/components/shared/Button';

const MobileNavbar: React.FC<{
	setMenubar: (path: 'mobile' | 'profile') => void;
	mobileOpen: boolean;
}> = ({ mobileOpen, setMenubar }) => {
	return (
		<nav className='md:hidden w-full m-0 z-50 p-0'>
			<div className='flex flex-row items-center justify-between w-full '>
				<Button
					variant='icon'
					onClick={() => {
						setMenubar('mobile');
					}}
					title={mobileOpen ? 'Close menu' : 'Open menu'}
					aria-label={mobileOpen ? 'Close menu' : 'Open menu'}>
					<svg
						className='h-6 w-6'
						fill='none'
						stroke='currentColor'
						viewBox='0 0 24 24'
						xmlns='http://www.w3.org/2000/svg'>
						{mobileOpen ? (
							<path
								strokeLinecap='round'
								strokeLinejoin='round'
								strokeWidth='2'
								d='M6 18L18 6M6 6l12 12'
							/>
						) : (
							<path
								strokeLinecap='round'
								strokeLinejoin='round'
								strokeWidth='2'
								d='M4 6h16M4 12h16m-7 6h7'
							/>
						)}
					</svg>
				</Button>
			</div>
		</nav>
	);
};

export default MobileNavbar;
</file>

<file path="client/src/components/Navbar/Navbar.tsx">
'use client';
import { useState } from 'react';
import DesktopNavbar from './DesktopNavbar';
import MobileNavbar from './MobileNavbar';
import { useUser } from '@/context/UserContext';
import ProfileMenu from './ProfileMenu';
import AuthButton from './AuthButton';
import MobileMenu from './MobileMenu';
import { useMenubarToggle } from './useMenubarToggle';

const Navbar: React.FC = () => {
	const { user } = useUser();
	const { profileOpen, mobileOpen, setMenubar } = useMenubarToggle();

	return (
		<header className='sticky bg-black/50 blur-[0.1px] backdrop-blur-md  top-0 left-0 m-0 p-0  w-full px-2 z-50'>
			<div className='flex justify-between w-full'>
				<MobileNavbar
					setMenubar={setMenubar}
					mobileOpen={mobileOpen}
				/>
				<DesktopNavbar />
				<AuthButton setMenubar={setMenubar} />
			</div>
			{ profileOpen ? <ProfileMenu setMenubar={setMenubar} /> : null}
			{mobileOpen ? <MobileMenu setMenubar={setMenubar} /> : null}
		</header>
	);
};
export default Navbar;
</file>

<file path="client/src/components/Navbar/ProfileMenu.tsx">
import { protectedPaths, adminPaths, roleBasedPaths } from '@/context/RouteGuardContext';
import AppLink from '../shared/Link';
import { FaCar, FaClipboardList, FaSignOutAlt, FaUserCircle, FaUtensils } from 'react-icons/fa';
import Button from '../shared/Button';
import { logout } from '@/firebase/auth/logout';
import { useEffect, useRef } from 'react';
import { useUser } from '@/context/UserContext';

const ProfileMenu: React.FC<{ setMenubar: (path: 'mobile' | 'profile') => void }> = ({
	setMenubar,
}) => {
	const { user } = useUser();
	const navRef = useRef<HTMLUListElement>(null);
	if (!user) return null;
	
	// useEffect(() => {
	// 	const handleClickOutside = (event: MouseEvent) => {
	// 		if (navRef.current && !navRef.current.contains(event.target as Node)) {
	// 			setMenubar('profile');
	// 		}
	// 	};
	// 	document.addEventListener('mousedown', handleClickOutside);
	// 	return () => {
	// 		document.removeEventListener('mousedown', handleClickOutside);
	// 	};
	// }, []);
	return (
		<nav className=' top-full m-0 left-0 w-full transition-all duration-300 z-50 h-screen'>
			<ul
				ref={navRef}
				className='flex flex-col items-start p-4 gap-4'>
				{protectedPaths.map((path) => (
					<li key={path}>
						<AppLink
							href={path}
							variant='primary'
							onClick={() => setMenubar('profile')}>
							<span className='flex items-center gap-2'>
								{path === '/menu' && <FaUtensils />}
								{path === '/profile' && <FaUserCircle />}
								{path === '/orders' && <FaClipboardList />}
								{path === '/carwash/booking' && <FaCar />}
								{path.replace('/', '').charAt(0).toUpperCase() + path.replace('/', '').slice(1)}
							</span>
						</AppLink>
					</li>
				))}
				{user.role !== "Customer" &&
					adminPaths.map((path) => (
						<li key={path}>
							<AppLink
								href={path}
								variant='primary'
								onClick={() => setMenubar('profile')}>
								<span className='flex items-center gap-2'>
									{path === '/menu' && <FaUtensils />}
									{path === '/profile' && <FaUserCircle />}
									{path === '/orders' && <FaClipboardList />}
									{path === '/carwash/booking' && <FaCar />}
									{path.replace('/', '').charAt(0).toUpperCase() + path.replace('/', '').slice(1)}
								</span>
							</AppLink>
						</li>
					))}
			</ul>

			<Button
				variant='primary'
				onClick={async () => {
					await logout();
					setMenubar('profile');
				}}
				className='flex items-center justify-between gap-2 px-4 py-2 w-full text-left'>
				<span className='flex items-center gap-2'>
					<FaSignOutAlt /> Log Out
				</span>
			</Button>
		</nav>
	);
};
export default ProfileMenu;
</file>

<file path="client/src/components/Navbar/useMenubarToggle.ts">
import { useState } from 'react';

type MenuPath = 'mobile' | 'profile';

export const useMenubarToggle = () => {
  const [profileOpen, setProfileOpen] = useState(false);
  const [mobileOpen, setMobileOpen] = useState(false);

  const setMenubar = (path: MenuPath) => {
    if (path === 'mobile') {
      setMobileOpen(prev => !prev);
      setProfileOpen(false);
    } else if (path === 'profile') {
      setProfileOpen(prev => !prev);
      setMobileOpen(false);
    }
  };

  return {
    profileOpen,
    mobileOpen,
    setMenubar,
  };
};
</file>

<file path="client/src/context/UserContext.tsx">
'use client';

import React, { createContext, useContext, ReactNode } from 'react';

import Loading from '@/components/shared/Loading';
import { RouteGuard } from './RouteGuardContext';
import { useAuth } from '@/firebase/auth/useAuth';

/**
 * Defines the shape of the new, simplified user context.
 */
interface UserContextType {
	user: UserProfile | null;
	loading: boolean;
}

// Create the UserContext with an initial undefined value.
const UserContext = createContext<UserContextType | undefined>(undefined);

export const UserProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
	const { user, loading } = useAuth();

	// Display a loading indicator while the user data is being fetched.
	if (loading) {
		return <Loading message='Loading user data...' />;
	}

	// Provide the user data, loading status, and error to the rest of the application.
	return (
		<UserContext.Provider value={{ user, loading }}>
			<RouteGuard>{children}</RouteGuard>
		</UserContext.Provider>
	);
};

/**
 * Custom hook to easily access the user context from anywhere in the app.
 * Throws an error if used outside of a UserProvider.
 */

export const useUser = (): UserContextType => {
	const context = useContext(UserContext);
	if (context === undefined) {
		throw new Error('useUser must be used within a UserProvider');
	}
	return context;
};
</file>

<file path="client/src/firebase/auth/useAuth.ts">
import { useState, useEffect, use } from 'react';
import { onAuthStateChanged } from 'firebase/auth';
import { auth, firestore } from '../firebaseConfig';
import setCookie from '@/hooks/Cookies/setCookie';
import deleteCookie from '@/hooks/Cookies/setdelete';
import { doc, getDoc } from 'firebase/firestore';


/**
 * A custom hook to get the current authenticated user.
 * Listens to Firebase auth state changes and provides the user object.
 * @returns An object containing the user and a loading state.
 */
export const useAuth = () => {
  const [user, setUser] = useState<UserProfile | null>(null);
  const [loading, setLoading] = useState(true);
  const setAuthCookie = (user: UserProfile) => {
    setCookie('userId', user.uid);
    setCookie('userRole', user.role);
  }

  const clearAuthCookie = () => {
    deleteCookie("userId")
    deleteCookie("userRole")
  }

  useEffect(() => {
    const unsubscribe = onAuthStateChanged(auth, async (authUser) => {
      if (authUser) {
        // User is authenticated with Firebase Auth, now get their data from Firestore.
        try {
          const userDocRef = doc(firestore, 'users', authUser.uid);
          const userDocSnap = await getDoc(userDocRef);

          if (userDocSnap.exists()) {
            // User document found, set user state and cookies.
            const userData = userDocSnap.data() as UserProfile;
            setUser(userData);
            setAuthCookie(userData);
          } else {
            // This is an inconsistent state (auth user without a DB record).
            // Clear state and cookies to force a clean login.
            console.warn('User authenticated but no data found in Firestore.');
            setUser(null);
            clearAuthCookie();
          }
        } catch (error) {
          console.error('Error fetching user data:', error);
          setUser(null);
          clearAuthCookie();
        }
      } else {
        // No user is authenticated.
        setUser(null);
        clearAuthCookie();
      }
      // Finished initial check, set loading to false.
      setLoading(false);
    });

    // Cleanup subscription on unmount
    return () => unsubscribe();
  }, []);

  return { user, loading };
};
</file>

<file path="client/src/firebase/carwash/actions.ts">
"use server";

import { revalidatePath } from "next/cache";
import { addCarWashBooking, getAvailableWorkers, getCarWashBooking, deleteCarWashBooking } from "@/firebase/carwash/carwashBookings";
import { getUser, updateUser } from "@/firebase/users/utils";
import GetUser from "@/firebase/users/server/GetServerUser";
import { increment } from 'firebase/firestore';


export interface BookingResult {
  success: boolean;
  message: string;
}

export async function createCarWashBooking(
  prevState: BookingResult,
  formData: FormData
): Promise<BookingResult> {
  const authUser = await GetUser();
  if (!authUser) {
    return { success: false, message: "You must be logged in to book." };
  }

  const user = await getUser(authUser.uid);
  if (!user) {
    return { success: false, message: "Could not find user profile." };
  }

  const service = formData.get("service") as string;
  const date = formData.get("date") as string;
  const time = formData.get("time") as string;
  const worker = formData.get("worker") as string;
  const vehicleDetails = formData.get("vehicleDetails") as string;

  if (!service || !date || !time || !worker || !vehicleDetails) {
    return { success: false, message: "Please fill out all fields." };
  }

  const carWashCount = user.carWashCount || 0;
  const isFreeWash = carWashCount >= 5;

  const bookingData: Omit<CarWashBooking, 'id' | 'addOns'> = {
    userId: user.uid,
    service,
    date: new Date(date),
    time,
    worker,
    vehicleDetails,
    status: "pending",
    isFree: isFreeWash,
    createdAt: new Date(),
  };

  try {
    const { createdAt, ...bookingDataForDb } = bookingData;
    await addCarWashBooking(bookingDataForDb);
    if (isFreeWash) {
      await updateUser(user.uid, { carWashCount: 0 });
    } else {
      await updateUser(user.uid, { carWashCount: increment(1) });
    }

    revalidatePath("/carwash/booking");
    return { success: true, message: "Booking successful!" };
  } catch (error) {
    console.error("Error creating booking:", error);
    return { success: false, message: "Failed to create booking. Please try again." };
  }
}

export async function cancelBookingAndHandleLoyalty(bookingId: string) {
  const authUser = await GetUser();
  if (!authUser) {
    throw new Error("You must be logged in to cancel a booking.");
  }

  const booking = await getCarWashBooking(bookingId);
  if (!booking || booking.userId !== authUser.uid) {
    throw new Error("Booking not found or you do not have permission to cancel it.");
  }

  // Only decrement carWashCount if the wash was not free
  if (!booking.isFree) {
    await updateUser(authUser.uid, { carWashCount: increment(-1) });
  }

  await deleteCarWashBooking(bookingId);

  revalidatePath("/profile");
  revalidatePath("/carwash/booking");
}

export async function fetchAvailableWorkers(date: string, time: string): Promise<string[]> {
  // In a real app, you'd check worker schedules and existing bookings.
  // For now, we'll return a static list and simulate a delay.

  await new Promise(resolve => setTimeout(resolve, 500));
  return await getAvailableWorkers();
}
</file>

<file path="client/src/firebase/carwash/carwashAvailability.ts">
import { collection, query, where, getDocs, doc, setDoc, updateDoc, arrayRemove } from 'firebase/firestore';
import { firestore } from '../firebaseConfig';

// Define interface for car wash availability data
interface CarWashAvailability {
  date: string; // YYYY-MM-DD format
  availableSlots: string[]; // Array of time slots (e.g., ["09:00", "09:30", "10:00"])
  // Add other relevant availability data, e.g., number of bays available, staff on duty
}
/**
 * Fetches car wash availability data for a given date.
 * @param dateString The date in YYYY-MM-DD format.
 * @returns A promise that resolves with the availability data or null if not found.
 */
export const getCarWashAvailabilityForDate = async (dateString: string): Promise<CarWashAvailability | null> => {

  try {
    const q = query(
      collection(firestore, 'carWashAvailability'),
      where('date', '==', dateString)
    );

    const querySnapshot = await getDocs(q);

    if (querySnapshot.empty) {
      return null; // No availability data found for this date
    }

    // Assuming only one document per date

    const docData = querySnapshot.docs[0].data();
    return docData as CarWashAvailability;


  } catch (e) {
    console.error('Error fetching car wash availability: ', e);
    throw new Error('Failed to fetch car wash availability.');
  }
};

/**
 * Sets or updates car wash availability data for a given date.
 * This is likely for admin use.
 * @param availabilityData The availability data to set.
 * @returns A promise that resolves when the data is set.
 */
export const setCarWashAvailabilityForDate = async (availabilityData: CarWashAvailability): Promise<void> => {
  try {
    const docRef = doc(firestore, 'carWashAvailability', availabilityData.date); // Use date as document ID
    await setDoc(docRef, availabilityData, { merge: true }); // Use merge to update existing document
  } catch (e) {
    console.error('Error setting car wash availability: ', e);
    throw new Error('Failed to set car wash availability.');
  }
};

/**
 * Updates car wash availability data for a specific time slot on a given date by removing the booked slot.
 * @param dateString The date in YYYY-MM-DD format.
 * @param date The Date object for the booking date.
 * @param timeSlot The time slot to remove (e.g., "09:00").
 * @returns A promise that resolves when the data is updated.
 */
export const updateCarWashAvailability = async (date: Date, timeSlot: string): Promise<void> => {
  try {
    const docRef = doc(firestore, 'carWashAvailability', date.toISOString().split('T')[0]); // Use YYYY-MM-DD format as document ID
    await updateDoc(docRef, {
      availableSlots: arrayRemove(timeSlot),
    });
  } catch (e) {
    console.error('Error updating car wash availability: ', e);
    throw new Error('Failed to update car wash availability.');
  }
};
</file>

<file path="client/src/firebase/carwash/carwashUtils.ts">
"use server";

import { revalidatePath } from "next/cache";
import { addCarWashBooking, getAvailableWorkers, getCarWashBooking, deleteCarWashBooking } from "@/firebase/carwash/carwashBookings";
import { getUser, updateUser } from "@/firebase/users/utils";
import GetUser from "@/firebase/users/server/GetServerUser";
import { increment } from 'firebase/firestore';


export interface BookingResult {
  success: boolean;
  message: string;
}

export async function createCarWashBooking(
  prevState: BookingResult,
  formData: FormData
): Promise<BookingResult> {
  const authUser = await GetUser();
  if (!authUser) {
    return { success: false, message: "You must be logged in to book." };
  }

  const user = await getUser(authUser.uid);
  if (!user) {
    return { success: false, message: "Could not find user profile." };
  }

  const service = formData.get("service") as string;
  const date = formData.get("date") as string;
  const time = formData.get("time") as string;
  const worker = formData.get("worker") as string;
  const vehicleDetails = formData.get("vehicleDetails") as string;

  if (!service || !date || !time || !worker || !vehicleDetails) {
    return { success: false, message: "Please fill out all fields." };
  }

  const carWashCount = user.carWashCount || 0;
  const isFreeWash = carWashCount >= 5;

  const bookingData: Omit<CarWashBooking, 'id' | 'addOns'> = {
    userId: user.uid,
    service,
    date: new Date(date),
    time,
    worker,
    vehicleDetails,
    status: "pending",
    isFree: isFreeWash,
    createdAt: new Date(),
  };

  try {
    const { createdAt, ...bookingDataForDb } = bookingData;
    await addCarWashBooking(bookingDataForDb);
    if (isFreeWash) {
      await updateUser(user.uid, { carWashCount: 0 });
    } else {
      await updateUser(user.uid, { carWashCount: increment(1) });
    }

    revalidatePath("/carwash/booking");
    return { success: true, message: "Booking successful!" };
  } catch (error) {
    console.error("Error creating booking:", error);
    return { success: false, message: "Failed to create booking. Please try again." };
  }
}

export async function cancelBookingAndHandleLoyalty(bookingId: string) {
  const authUser = await GetUser();
  if (!authUser) {
    throw new Error("You must be logged in to cancel a booking.");
  }

  const booking = await getCarWashBooking(bookingId);
  if (!booking || booking.userId !== authUser.uid) {
    throw new Error("Booking not found or you do not have permission to cancel it.");
  }

  // Only decrement carWashCount if the wash was not free
  if (!booking.isFree) {
    await updateUser(authUser.uid, { carWashCount: increment(-1) });
  }

  await deleteCarWashBooking(bookingId);

  revalidatePath("/profile");
  revalidatePath("/carwash/booking");
}

export async function fetchAvailableWorkers(date: string, time: string): Promise<string[]> {
  // In a real app, you'd check worker schedules and existing bookings.
  // For now, we'll return a static list and simulate a delay.

  await new Promise(resolve => setTimeout(resolve, 500));
  return await getAvailableWorkers();
}
</file>

<file path="client/src/firebase/carwash/updateCarWashBooking.ts">
import { doc, updateDoc } from 'firebase/firestore';
import { firestore } from '@/firebase/firebaseConfig';


const updateCarWashBooking = async (bookingId: string, updatedData: Partial<CarWashBooking>): Promise<void> => {
  try {
    const bookingRef = doc(firestore, 'carwashBookings', bookingId);
    await updateDoc(bookingRef, updatedData);
  } catch (error) {
    console.error('Error updating car wash booking:', error);
    throw new Error('Failed to update car wash booking');
  }
};

export { updateCarWashBooking };
</file>

<file path="client/src/firebase/contact/saveContactMessage.ts">
import { firestore } from '../firebaseConfig';
import { collection, doc, setDoc, serverTimestamp } from 'firebase/firestore';

interface ContactMessage {
  id: string;
  name: string;
  whatsapp: string;
  message: string;
  userId: string | null;
  status: 'new' | 'read' | 'replied';
}

export const saveContactMessage = async (messageData: Omit<ContactMessage, 'id' | 'status'>) => {
  try {
    const newDocRef = doc(collection(firestore, 'contact-messages'));
    
    const fullMessage = {
      ...messageData,
      id: newDocRef.id,
      createdAt: serverTimestamp(),
      status: 'new' as const,
    };

    await setDoc(newDocRef, fullMessage);
    
    return { success: true, docId: newDocRef.id };
  } catch (error) {
    console.error('Error writing document: ', error);
    return { success: false, error };
  }
};
</file>

<file path="client/src/firebase/orders/addOrderToFirestore.ts">
import { collection, doc, setDoc } from 'firebase/firestore';
import { firestore } from '@/firebase/firebaseConfig';
import GetUser from '@/firebase/users/server/GetServerUser';

const addOrderToFirestore = async (orderDetails: CartItem[], totalPrice: number, totalQuantity: number): Promise<void> => {
  const user = await GetUser();
  if (!user) {
    throw new Error("User not found.");
  }
  try {
    const ordersCollection = collection(firestore, 'orders');
    const newOrderRef = doc(ordersCollection); // Get a document reference with an auto-generated ID

    const newOrder: Order = {
      orderId: newOrderRef.id, // Set the orderId to the document's ID
      quantity: totalQuantity,
      products: orderDetails,
      totalAmount: totalPrice,
      shippingAddress: user?.address || '',
      orderDate: new Date(), // Use Date object
      status: "pending",
      userId: user.uid,
      type: 'Takeaway'
    };

    await setDoc(newOrderRef, newOrder); // Use setDoc with the pre-generated reference

  } catch (error) {
    console.error('Error adding order to Firestore:', error);
    throw new Error(`Failed to add order to Firestore ${error}`);
  }
};

export { addOrderToFirestore };
</file>

<file path="client/src/firebase/orders/getOrderFromFirestore.ts">
import { collection, query, where, getDocs, DocumentSnapshot, DocumentData, Timestamp, doc, updateDoc } from "firebase/firestore";
import { firestore } from "@/firebase/firebaseConfig";

const mapDocToOrder = (doc: DocumentSnapshot<DocumentData>): Order => {
  const data = doc.data() as Order;
  return data
};

const getOrdersForUserFromFirestore = async (userId: string): Promise<Order[]> => {
  if (!userId) {
    console.log("No user ID provided, returning empty array.");
    return [];
  }

  try {
    const ordersCollection = collection(firestore, "orders");
    const q = query(ordersCollection, where("userId", "==", userId));
    const querySnapshot = await getDocs(q);
    return querySnapshot.docs.map(mapDocToOrder) as Order[];
  } catch (error) {
    console.error("Error fetching orders from Firestore:", error);
    throw new Error("Failed to fetch orders.");
  }
};

export const updateOrderStatusInFirestore = async (orderId: string, status: 'pending' | 'processing' | 'completed' | 'cancelled') => {
  const orderRef = doc(firestore, 'orders', orderId);
  await updateDoc(orderRef, { status });
};

const getAllOrdersFromFirestore = async (): Promise<Order[]> => {
  try {
    const ordersCollection = collection(firestore, "orders");
    const querySnapshot = await getDocs(ordersCollection);
    return querySnapshot.docs.map(mapDocToOrder) as Order[];
  } catch (error) {
    console.error("Error fetching all orders from Firestore:", error);
    throw new Error("Failed to fetch all orders.");
  }
};

export { getOrdersForUserFromFirestore, getAllOrdersFromFirestore };
</file>

<file path="client/src/firebase/products/seedProducts.ts">
import { collection, writeBatch, getDocs, doc } from 'firebase/firestore';
import { firestore } from '../firebaseConfig';
import Products from '@/constant/Products';

export const seedProductsToFirestore = async () => {
    const productsCollection = collection(firestore, 'products');
    const snapshot = await getDocs(productsCollection);

    if (!snapshot.empty) {
        console.log('Products collection already exists. Seeding skipped.');
        return 'Products collection already exists. Seeding skipped.';
    }

    const batch = writeBatch(firestore);

    Products.forEach((productCategory) => {
        productCategory.Products.forEach((product) => {
            const docRef = doc(firestore, 'products', product.ProductID);
            batch.set(docRef, product);
        });
    });

    await batch.commit();
    console.log('Products have been seeded to Firestore.');
    return 'Products have been seeded successfully.';
};
</file>

<file path="client/src/firebase/seed/products.ts">
import { collection, writeBatch, getDocs, doc } from 'firebase/firestore';
import { firestore } from '../firebaseConfig';
import Products from '@/constant/Products';

export const seedProductsToFirestore = async () => {
    const productsCollection = collection(firestore, 'products');
    const snapshot = await getDocs(productsCollection);

    if (!snapshot.empty) {
        console.log('Products collection already exists. Seeding skipped.');
        return 'Products collection already exists. Seeding skipped.';
    }

    const batch = writeBatch(firestore);

    Products.forEach((productCategory) => {
        productCategory.Products.forEach((product) => {
            const docRef = doc(firestore, 'products', product.ProductID);
            batch.set(docRef, product);
        });
    });

    await batch.commit();
    console.log('Products have been seeded to Firestore.');
    return 'Products have been seeded successfully.';
};
</file>

<file path="client/src/firebase/seed/stock.ts">
import { collection, writeBatch, getDocs, doc } from 'firebase/firestore';
import { firestore } from '../firebaseConfig';
import itemGroups from '@/constant/Stock';

export const seedStockToFirestore = async () => {
    const stockCollection = collection(firestore, 'stock');
    const snapshot = await getDocs(stockCollection);

    if (!snapshot.empty) {
        console.log('Stock collection already exists. Seeding skipped.');
        return 'Stock collection already exists. Seeding skipped.';
    }

    const batch = writeBatch(firestore);

    itemGroups.forEach((group) => {
        group.items.forEach((item) => {
            const docRef = doc(firestore, 'stock', item.id);
            batch.set(docRef, item);
        });
    });

    await batch.commit();
    console.log('Stock has been seeded to Firestore.');
    return 'Stock has been seeded successfully.';
};
</file>

<file path="client/src/firebase/stock/seedStock.ts">
import { collection, writeBatch, getDocs, doc } from 'firebase/firestore';
import { firestore } from '../firebaseConfig';
import itemGroups from '@/constant/Stock';

export const seedStockToFirestore = async () => {
    const stockCollection = collection(firestore, 'stock');
    const snapshot = await getDocs(stockCollection);

    if (!snapshot.empty) {
        console.log('Stock collection already exists. Seeding skipped.');
        return 'Stock collection already exists. Seeding skipped.';
    }

    const batch = writeBatch(firestore);

    itemGroups.forEach((group) => {
        group.items.forEach((item) => {
            const docRef = doc(firestore, 'stock', item.id);
            batch.set(docRef, item);
        });
    });

    await batch.commit();
    console.log('Stock has been seeded to Firestore.');
    return 'Stock has been seeded successfully.';
};
</file>

<file path="client/src/firebase/users/server/GetServerUser.ts">
import { doc, getDoc } from 'firebase/firestore';
import { firestore } from '../../firebaseConfig';
import getCookie from '../../../hooks/Cookies/getdelete';


const GetServerUser = async () => {
  const userIdCookie = await getCookie('userId');

  try {
    if (userIdCookie) {
      const userDocRef = doc(firestore, 'users', userIdCookie);
      const userDocSnap = await getDoc(userDocRef);

      if (userDocSnap.exists()) {
        return userDocSnap.data() as UserProfile;
      } else {
        return null;
      }
    }
    return null;
  } catch (err) {
    if (err && typeof err === 'object' && 'message' in err) {
      console.error('Error fetching user data:', err);
    }
    return null;
  }
};



export default GetServerUser;
</file>

<file path="client/src/firebase/firebaseConfig.ts">
// Import the functions you need from the SDKs you need
import { initializeApp, getApps, FirebaseApp } from 'firebase/app';
import { getAuth, Auth } from 'firebase/auth';
import { getFirestore } from 'firebase/firestore';

// Your web app's Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
// const firebaseConfig = {
// 	apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,
// 	authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,
// 	projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,
// 	storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,
// 	messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,
// 	appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,
// 	measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,
// };

const firebaseConfig = {
  apiKey: "AIzaSyCN0PIXk5rO-R3QdloEqLLscmQYu-Gwcc0",
  authDomain: "central-eatery.firebaseapp.com",
  projectId: "central-eatery",
  storageBucket: "central-eatery.firebasestorage.app",
  messagingSenderId: "735662423815",
  appId: "1:735662423815:web:a00076d1fccd468e800fa2",
  measurementId: "G-M0X0LN7CYB"
};

// Initialize Firebase if it hasn't been initialized
const app: FirebaseApp = getApps().length ? getApps()[0] : initializeApp(firebaseConfig);

// Initialize Auth if it hasn't been initialized
const auth: Auth = getAuth(app);

// Initialize Firestore if it hasn't been initialized
const firestore = getFirestore(app);


export { app, auth, firestore };
</file>

<file path="client/src/hooks/Cookies/getdelete.ts">
'use server'
import { cookies } from "next/headers"
import type { CookieName } from "./setCookie"

export default async function getCookie(Name: CookieName,) {
  try {
    const cookieStore = await cookies()
    return cookieStore.get(Name)?.value
  } catch (error) {
    console.error(`Error setting cookie ${Name}:`, error);
    throw new Error("Authentication failed");
  }
}
</file>

<file path="client/src/hooks/Cookies/setCookie.ts">
'use server'
import { cookies } from "next/headers"
const COOKIE_EXPIRY = 60 * 60 * 24 * 5;
export type CookieName = "userId" | "userRole"

export default async function setCookie(Name: CookieName, Value: string) {
  try {
    const cookieStore = await cookies()
    cookieStore.set(Name, Value, {
      httpOnly: true,
      secure: process.env.NODE_ENV === 'production',
      sameSite: 'lax',
      maxAge: COOKIE_EXPIRY,
      path: '/'
    })

    // Verify the cookie was set
    const verifyValue = cookieStore.get(Name)?.value;
    if (verifyValue !== Value) {
      console.error(`Failed to set cookie ${Name}. Expected: ${Value}, Got: ${verifyValue}`);
      throw new Error("Failed to set cookie");
    }

    return true;
  } catch (error) {
    console.error(`Error setting cookie ${Name}:`, error);
    throw new Error("Authentication failed");
  }
}
</file>

<file path="client/src/hooks/Cookies/setdelete.ts">
'use server'
import { cookies } from "next/headers"
import type { CookieName } from "./setCookie"

export default async function deleteCookie(Name: CookieName,) {
  try {
    const cookieStore = await cookies()
    cookieStore.delete(Name)

  } catch (error) {
    console.error(`Error setting cookie ${Name}:`, error);
    throw new Error("Authentication failed");
  }
}
</file>

<file path="client/src/hooks/useCarWashBookings.ts">
"use client";

import { useState, useEffect, useCallback } from 'react';

import { getAllBookings } from '@/firebase/carwash/carwashBookings';

export const useCarWashBookings = () => {
  const [bookings, setBookings] = useState<CarWashBooking[]>([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  const fetchBookings = async () => {
    setLoading(true);
    try {
      const allBookings = await getAllBookings();
      setBookings(allBookings);
      setError(null);
    } catch (err) {
      setError('Failed to fetch bookings.');
      console.error(err);
    } finally {
      setLoading(false);
    }
  };

  useEffect(() => {
    fetchBookings();
  }, []);

  return { bookings, loading, error, refetch: fetchBookings, setBookings };
};
</file>

<file path="client/src/types/CarWashTypes.d.ts">
declare global {
  interface BookingFormData {
    service: string;
    addOns: string[];
    date: string;
    time: string;
    worker: string;
  }

  interface TimeSlotPickerProps {
    selectedDate: string;
    selectedService: string;
    onSelectTime: (time: string) => void;
  }

  interface CarWashBooking {
    id: string;
    userId: string;
    service: string;
    date: Date;
    time: string;
    worker: string;
    status: 'pending' | 'confirmed' | 'cancelled' | 'completed' | 'deleted';
    createdAt: Date;
    addOns?: string[];
    vehicleDetails?: string;
    isFree?: boolean;
  }

  type BookingStatus = 'pending' | 'loading' | 'success' | 'error';
}
export { };
</file>

<file path="client/src/types/OrderTypes.d.ts">
declare global {

  interface OrderDetails {
    userId: string;
    items: CartItem[];
    totalAmount: number;
    shippingAddress: string;
    paymentMethod: paymentMethod;
  }
 
  interface OrderItem {
    name: string;
    quantity: number;
  }

  type CartItem = ProductType & {
    quantity: number;
  };

  interface Order {
    orderId: string;
    userId?: string;
    orderDate: Date;
    products: CartItem[];
    quantity: number;
    totalAmount: number;
    status: 'pending' | 'processing' | 'completed' | 'cancelled';
    type: 'Takeaway' | 'Car Wash' | 'Laundry';
    location?: string;
    paymentMethod?: paymentMethod;
    deliveryAddress?: string;
    shippingAddress?: string;
  }
}
export { };
</file>

<file path="client/src/types/ProductTypes.d.ts">
declare global {
  interface nutritionalInfo {
    calories: number;
    protein: string;
    carbs: string;
    fat: string;
    fiber: string;
    sugar: string;
  }

  interface ProductType {
    ProductID: string;
    Name: string;
    Description: string[];
    Price: number;
    Image?: string;
    badge?: string;
    rating?: number;
    nutritional?: nutritionalInfo;
    allergens?: string[];
    isVegetarian?: boolean;
    isSpicy?: boolean;
  }

  type ProductsType = {
    id: number;
    Name: string;
    Products: ProductType[];
    Image?: string;
    Description?: string;
  }[];
}
export { };
</file>

<file path="client/src/app/about/loading.tsx">
import Loading from '@/components/shared/Loading';

export default function LoadingPage() {
	return <Loading message='Loading About PA Luxe Creation...' />;
}
</file>

<file path="client/src/app/about/page.tsx">
import OurJourney from './components/OurJourney';
import OurCommitment from './components/OurCommitment';
import WhatMakesUsSpecial from './components/WhatMakesUsSpecial';
import CoreValues from './components/CoreValues';
import OurVision from './components/OurVision';
import KeyLeadership from './components/KeyLeadership';
import CompanyDescription from './components/CompanyDescription';
import KeyHighlights from './components/KeyHighlights';
import StrengthsAndOpportunities from './components/StrengthsAndOpportunities';
import WeaknessesAndThreats from './components/WeaknessesAndThreats';
import MilestonesAndVision from './components/MilestonesAndVision';
import Main from '@/components/shared/layout/Main';
import { IoFastFoodOutline } from 'react-icons/io5';

const AboutPage = () => {
	return (
		<Main
			tittle='About PA Luxe Creation'
			Icon={IoFastFoodOutline}>
			<OurJourney />
			<OurVision />
			<CompanyDescription />
			<OurCommitment />
			<MilestonesAndVision />
			<WhatMakesUsSpecial />
			<KeyHighlights />
			<CoreValues />
			<StrengthsAndOpportunities />
			<WeaknessesAndThreats />
			<KeyLeadership />
		</Main>
	);
};

export default AboutPage;
</file>

<file path="client/src/app/Admin/carwash/page.tsx">
'use client';

import { useState, useMemo } from 'react';
import { useCarWashBookings } from '@/hooks/useCarWashBookings';
import {
	deleteCarWashBooking,
	updateCarWashBookingStatus,
} from '@/firebase/carwash/carwashBookings';
import Alert from '@/components/shared/Alert';
import Loading from '@/components/shared/Loading';
import { BookingsTable } from '@/app/Admin/components/Carwash/BookingsTable';
import { BookingDetailsModal } from '@/app/Admin/components/Carwash/BookingDetailsModal';

export default function CarWashAdmin() {
	const { bookings, loading, error, refetch, setBookings } = useCarWashBookings();
	const [selectedStatus, setSelectedStatus] = useState<string>('all');
	const [selectedBooking, setSelectedBooking] = useState<CarWashBooking | null>(null);
	const [notification, setNotification] = useState<{
		variant: 'success' | 'danger';
		message: string;
	} | null>(null);

	const filteyellowBookings = useMemo(() => {
		if (selectedStatus === 'all') {
			return bookings;
		}
		return bookings.filter((booking) => booking.status === selectedStatus);
	}, [bookings, selectedStatus]);

	const handleStatusChange = async (
		bookingId: string,
		newStatus: 'pending' | 'confirmed' | 'cancelled' | 'completed' | 'deleted'
	) => {
		const originalBookings = [...bookings];
		const updatedBookings = bookings.map((b) =>
			b.id === bookingId ? { ...b, status: newStatus } : b
		);
		setBookings(updatedBookings);

		try {
			await updateCarWashBookingStatus(bookingId, newStatus);
			setNotification({ variant: 'success', message: 'Booking status updated successfully' });
		} catch (error) {
			setBookings(originalBookings);
			setNotification({ variant: 'danger', message: 'Failed to update booking status' });
		}
	};

	if (loading) return <Loading />;
	if (error) return <div className='text-yellow-500 p-4'>{error}</div>;

	return (
		<div className='container mx-auto p-4'>
			<h1 className='text-2xl font-bold mb-6 text-white'>Car Wash Bookings</h1>

			{notification && (
				<Alert
					variant={notification.variant}
					onClose={() => setNotification(null)}
					className='mb-4'>
					{notification.message}
				</Alert>
			)}

			<div className='mb-6'>
				<label
					htmlFor='statusFilter'
					className='block text-sm font-medium text-white mb-2'>
					Filter by Status:
				</label>
				<select
					id='statusFilter'
					value={selectedStatus}
					onChange={(e) => setSelectedStatus(e.target.value)}
					className='bg-gray-800 text-white p-2 rounded w-full md:w-64'>
					<option value='all'>All Bookings</option>
					<option value='pending'>Pending</option>
					<option value='confirmed'>Confirmed</option>
					<option value='cancelled'>Cancelled</option>
					<option value='completed'>Completed</option>
					<option value='deleted'>Deleted</option>
				</select>
			</div>

			<BookingsTable
				bookings={filteyellowBookings}
				onStatusChange={handleStatusChange}
				onView={(booking) => setSelectedBooking(booking)}
			/>

			<BookingDetailsModal
				booking={selectedBooking}
				onClose={() => setSelectedBooking(null)}
			/>
		</div>
	);
}
</file>

<file path="client/src/app/Admin/dashboard/components/CarWashOperations.tsx">
'use client';

import { useCarWashBookings } from '@/hooks/useCarWashBookings';
import Icon from '@/components/shared/Icon';
import Loading from '@/components/shared/Loading';
import { FaCar, FaSprayCan, FaCalendarAlt, FaCogs } from 'react-icons/fa';
import Section from '@/components/shared/layout/Section';

const DataRow = ({ label, value }: { label: string; value: string | number }) => (
	<div className='flex justify-between items-center py-2 border-b border-white/10'>
		<p className='text-white'>{label}</p>
		<p className='font-semibold text-white'>{value}</p>
	</div>
);

const CarWashOperations: React.FC = () => {
	const { bookings, loading, error } = useCarWashBookings();

	if (loading) return <Loading message='Loading Car Wash Data...' />;
	if (error) return <div className='text-yellow-500 bg-yellow-500/10 p-4 rounded-md'>Error: {error}</div>;

	return (
<Section tittle='Car Wash Operations' Icon={FaCar}>	

			<div className='mt-6 space-y-6'>
				{/* Service Data */}
				<article >
					<Icon
						icon={FaSprayCan}
						heading='Service Data'
						variant='inline'
					/>
					<div className='mt-4 space-y-1'>
						<DataRow
							label='Washes by Type'
							value='N/A'
						/>
						<DataRow
							label='Average Service Time'
							value='N/A'
						/>
						<DataRow
							label='Add-On Uptake'
							value='N/A'
						/>
					</div>
				</article>

				{/* Booking Management */}
				<article >
					<Icon
						icon={FaCalendarAlt}
						heading='Booking Management'
						variant='inline'
					/>
					<div className='mt-4 space-y-1'>
						<DataRow
							label='Total Bookings'
							value={bookings.length}
						/>
						<DataRow
							label='Peak Hours'
							value='N/A'
						/>
						<DataRow
							label='No-Show Rate'
							value='N/A'
						/>
					</div>
				</article>

				{/* Resource Utilization */}
				<article >
					<Icon
						icon={FaCogs}
						heading='Resource Utilization'
						variant='inline'
					/>
					<div className='mt-4 space-y-1'>
						<DataRow
							label='Bay Occupancy Rate'
							value='N/A'
						/>
						<DataRow
							label='Staff Productivity'
							value='N/A'
						/>
					</div>
				</article>
			</div>
		</Section>
	);
};

export default CarWashOperations;
</file>

<file path="client/src/app/Admin/dashboard/components/OverallBusinessPerformance.tsx">
import {
	FaChartLine,
	FaBullseye,
	FaChartPie,
	FaDollarSign,
	FaUsers,
	FaShoppingCart,
	FaPercentage,
} from 'react-icons/fa';
import Icon from '@/components/shared/Icon';
import Section from '@/components/shared/layout/Section';

const OverallBusinessPerformance: React.FC = () => {
	const kpis = [
		{ icon: FaDollarSign, label: 'Total Revenue', value: 'N/A' },
		{ icon: FaUsers, label: 'Customer Traffic', value: 'N/A' },
		{ icon: FaShoppingCart, label: 'Average Spend', value: 'N/A' },
		{ icon: FaPercentage, label: 'Profit Margin', value: 'N/A' },
		{ icon: FaShoppingCart, label: 'Order Volume', value: 'N/A' },
		{ icon: FaUsers, label: 'Retention Rate', value: 'N/A' },
	];

	return (
		<Section
			Icon={FaChartLine}
			tittle='Overall Business Performance'>
			<div className='mt-6 bg-black/20 p-4 rounded-md border border-white/10'>
				<Icon
					icon={FaBullseye}
					heading='Key Performance Indicators'
					variant='inline'
				/>
				<div className='grid grid-cols-2 md:grid-cols-2 gap-4 mt-4'>
					{kpis.map((kpi, index) => (
						<div
							key={index}
							className='bg-black/30 p-3 rounded-md text-center border border-white/10'>
							<kpi.icon className='text-yellow-500 text-3xl mx-auto mb-2' />
							<p className='text-sm text-white/70 font-medium'>{kpi.label}</p>
							<p className='text-lg font-bold text-white'>{kpi.value}</p>
						</div>
					))}
				</div>
			</div>

			<div className='mt-6 bg-black/20 p-4 rounded-md border border-white/10'>
				<Icon
					icon={FaChartPie}
					heading='Visualizations'
					variant='inline'
				/>
				<div className='mt-4 space-y-2 text-white/70 italic'>
					<p>Line graph for Revenue Trends: Data not available</p>
					<p>Pie chart for Revenue Breakdown: Data not available</p>
					<p>Bar graph for Performance Comparison: Data not available</p>
				</div>
			</div>
		</Section>
	);
};

export default OverallBusinessPerformance;
</file>

<file path="client/src/app/Admin/order/page.tsx">
'use client';

import { useState, useMemo, useEffect } from 'react';
import { getAllOrdersFromFirestore, updateOrderStatusInFirestore } from '@/firebase/orders/getOrderFromFirestore';
import Alert from '@/components/shared/Alert';
import Loading from '@/components/shared/Loading';
import { OrdersTable } from '@/app/Admin/components/Order/OrdersTable';

export default function OrderAdmin() {
    const [orders, setOrders] = useState<Order[]>([]);
    const [loading, setLoading] = useState<boolean>(true);
    const [error, setError] = useState<string | null>(null);
    const [selectedStatus, setSelectedStatus] = useState<string>('all');
    const [notification, setNotification] = useState<{ variant: 'success' | 'danger'; message: string } | null>(null);

    useEffect(() => {
        const fetchOrders = async () => {
            try {
                const fetchedOrders = await getAllOrdersFromFirestore();
                setOrders(fetchedOrders);
            } catch (err) {
                setError('Failed to fetch orders.');
            } finally {
                setLoading(false);
            }
        };

        fetchOrders();
    }, []);

    const filteyellowOrders = useMemo(() => {
        if (selectedStatus === 'all') {
            return orders;
        }
        return orders.filter((order) => order.status === selectedStatus);
    }, [orders, selectedStatus]);

    const handleStatusChange = async (orderId: string, newStatus: 'pending' | 'processing' | 'completed' | 'cancelled') => {
        const originalOrders = [...orders];
        const updatedOrders = orders.map((o) =>
            o.orderId === orderId ? { ...o, status: newStatus } : o
        );
        setOrders(updatedOrders);

        try {
            await updateOrderStatusInFirestore(orderId, newStatus);
            setNotification({ variant: 'success', message: 'Order status updated successfully' });
        } catch (error) {
            setOrders(originalOrders);
            setNotification({ variant: 'danger', message: 'Failed to update order status' });
        }
    };

    if (loading) return <Loading />;
    if (error) return <div className='text-yellow-500 p-4'>{error}</div>;

    return (
        <div className='container mx-auto p-4'>
            <h1 className='text-2xl font-bold mb-6 text-white'>Orders</h1>

            {notification && (
                <Alert
                    variant={notification.variant}
                    onClose={() => setNotification(null)}
                    className='mb-4'
                >
                    {notification.message}
                </Alert>
            )}

            <div className='mb-6'>
                <label htmlFor='statusFilter' className='block text-sm font-medium text-white mb-2'>
                    Filter by Status:
                </label>
                <select
                    id='statusFilter'
                    value={selectedStatus}
                    onChange={(e) => setSelectedStatus(e.target.value)}
                    className='bg-gray-800 text-white p-2 rounded w-full md:w-64'
                >
                    <option value='all'>All Orders</option>
                    <option value='pending'>Pending</option>
                    <option value='processing'>Processing</option>
                    <option value='completed'>Completed</option>
                    <option value='cancelled'>Cancelled</option>
                </select>
            </div>

            <OrdersTable orders={filteyellowOrders} onStatusChange={handleStatusChange} />
        </div>
    );
}
</file>

<file path="client/src/app/contact/page.tsx">
import ContactForm from '@/components/ContactForm';
import React from 'react';
import { FaMapMarkerAlt, FaClock, FaEnvelope, FaPhone } from 'react-icons/fa';
// import dynamic from 'next/dynamic';

// Dynamically import the ContactForm component to avoid SSR issues with form libraries
// const ContactForm = dynamic(() => import('@/components/ContactForm'), {
//   ssr: false,
// });

const MapEmbed = () => (
  <div className="w-full h-96 rounded-lg overflow-hidden mt-8">
    <iframe
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d387193.3059669869!2d-74.25986773715416!3d40.69767006372085!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c24fa5d33f083b%3A0xc80b8f06e177fe62!2sNew%20York%2C%20NY%2C%20USA!5e0!3m2!1sen!2s!4v1234567890"
      width="100%"
      height="100%"
      style={{ border: 0 }}
      allowFullScreen
      loading="lazy"
      referrerPolicy="no-referrer-when-downgrade"
      className="rounded-lg"
    />
  </div>
);

const ContactInfo = () => (
  <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
    <div className="flex items-start space-x-4 p-4 bg-white/5 rounded-lg">
      <div className="p-2 bg-yellow-500/10 rounded-full">
        <FaMapMarkerAlt className="text-yellow-500/95 text-xl" />
      </div>
      <div>
        <h3 className="text-lg font-semibold text-white mb-1">Our Location</h3>
        <p className="text-gray-300">123 Restaurant Street, Foodie City, FC 12345</p>
      </div>
    </div>
    
    <div className="flex items-start space-x-4 p-4 bg-white/5 rounded-lg">
      <div className="p-2 bg-yellow-500/10 rounded-full">
        <FaPhone className="text-yellow-500/95 text-xl" />
      </div>
      <div>
        <h3 className="text-lg font-semibold text-white mb-1">Phone</h3>
        <p className="text-gray-300">+1 (555) 123-4567</p>
      </div>
    </div>
    
    <div className="flex items-start space-x-4 p-4 bg-white/5 rounded-lg">
      <div className="p-2 bg-yellow-500/10 rounded-full">
        <FaEnvelope className="text-yellow-500/95 text-xl" />
      </div>
      <div>
        <h3 className="text-lg font-semibold text-white mb-1">Email</h3>
        <p className="text-gray-300">info@centraleatery.com</p>
      </div>
    </div>
    
    <div className="flex items-start space-x-4 p-4 bg-white/5 rounded-lg">
      <div className="p-2 bg-yellow-500/10 rounded-full">
        <FaClock className="text-yellow-500/95 text-xl" />
      </div>
      <div>
        <h3 className="text-lg font-semibold text-white mb-1">Opening Hours</h3>
        <p className="text-gray-300">Mon - Fri: 11:00 AM - 10:00 PM</p>
        <p className="text-gray-300">Sat - Sun: 10:00 AM - 11:00 PM</p>
      </div>
    </div>
  </div>
);

export default function ContactPage() {
  return (
    <div className="py-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto">
      <div className="text-center mb-12">
        <h1 className="text-4xl font-bold text-white mb-4">Get In Touch</h1>
        <div className="w-24 h-1 bg-yellow-500/95 mx-auto"></div>
        <p className="mt-6 text-lg text-gray-300 max-w-2xl mx-auto">
          Have questions or feedback? We'd love to hear from you. Fill out the form below or reach out to us directly.
        </p>
      </div>
      
      <ContactInfo />
      
      <div className="mt-16">
        <h2 className="text-3xl font-bold text-white mb-8 text-center">Send Us a Message</h2>
        <ContactForm />
      </div>
      
      <div className="mt-16">
        <h2 className="text-3xl font-bold text-white mb-8 text-center">Find Us on the Map</h2>
        <MapEmbed />
      </div>
    </div>
  );
}
</file>

<file path="client/src/app/menu/[Products]/[product]/components/comments.tsx">
import { collection, getDocs, query, where, Timestamp } from 'firebase/firestore';

import GetUser from '@/firebase/users/server/GetServerUser';
import { firestore } from '@/firebase/firebaseConfig';
import Button from '@/components/shared/Button';
import { BiCommentAdd } from 'react-icons/bi';
import Section from '@/components/shared/layout/Section';

interface CommentsProps {
	product: ProductType;
}

/**
 * Displays comments for a given product and allows the user to add a new comment.
 * Fetches comments for the current user and product from Firestore.
 * @param product The product for which to display comments.
 */
const Comments: React.FC<CommentsProps> = async ({ product }) => {
	const user = await GetUser();
	// In a real app, you'd fetch comments for the specific product.Name
	const commentsRef = collection(firestore, 'products', product.Name, 'Comments');
	const q = query(commentsRef, where('userId', '==', user?.uid));
	const querySnapshot = await getDocs(q);

	const comments = querySnapshot.docs.map((doc) => ({
		id: doc.id,
		...(doc.data() as {
			userId: string;
			userName: string;
			comment: string;
			timestamp: Timestamp;
		}),
	}));

	return (
		<Section tittle='Reviews & Comments'>
			{/* New Comment Form */}
			{user && (
				<article className='sticky top-0 z-10'>
					<div className='flex items-start gap-4'>
						<div className='flex-shrink-0 w-10 h-10 bg-yellow-600 rounded-full flex items-center justify-center text-white font-bold text-lg'>
							{user.displayName?.charAt(0).toUpperCase()}
						</div>
						<div className='flex-1'>
							<textarea
								className='w-full p-3 border border-white/50 rounded-md bg-black/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all duration-200'
								placeholder={`Commenting as ${user.displayName}...`}
								rows={3}></textarea>
							<Button className='mt-3 px-6 py-2 bg-yellow-600 text-white font-semibold rounded-md hover:bg-yellow-500 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-yellow-700 focus:ring-white'>
								<BiCommentAdd size={25} /> Post Comment
							</Button>
						</div>
					</div>
				</article>
			)}

			{/* Existing Comments */}
			<ul className='space-y-6'>
				{comments.length > 0 ? (
					comments.map((comment) => (
						<li
							key={comment.id}
							className='bg-black/20 border border-white/50 rounded-md p-4'>
							<div className='flex items-start gap-4'>
								<div className='flex-shrink-0 w-10 h-10 bg-yellow-600 rounded-full flex items-center justify-center text-white font-bold text-lg'>
									{comment.userName.charAt(0).toUpperCase()}
								</div>
								<div className='flex-1'>
									<div className='flex justify-between items-center mb-1'>
										<span className='font-bold text-white'>{comment.userName}</span>
										<span className='text-xs text-white/70'>
											{comment.timestamp.toDate().toLocaleDateString()}
										</span>
									</div>
									<p className='text-white'>{comment.comment}</p>
									<button className='mt-3 px-3 py-1 bg-yellow-600 text-white text-xs font-semibold rounded-md hover:bg-yellow-600/100 transition-colors duration-200'>
										Reply
									</button>
								</div>
							</div>
						</li>
					))
				) : (
					<li className='text-center text-white/70 py-4'>
						No comments yet. Be the first to review!
					</li>
				)}
			</ul>
		</Section>
	);
};

export default Comments;
</file>

<file path="client/src/app/menu/[Products]/[product]/components/FavoriteButton.tsx">
'use client';

import React, { useState, useEffect } from 'react';
import { FaHeart, FaRegHeart } from 'react-icons/fa';
import { doc, getDoc, setDoc } from 'firebase/firestore';
import { auth, firestore } from '@/firebase/firebaseConfig';

import Button from '@/components/shared/Button';

interface FavoriteButtonProps {
	product: ProductType;
}

const FavoriteButton: React.FC<FavoriteButtonProps> = ({ product }) => {
	const [isFavorite, setIsFavorite] = useState(false);
	const [isLoading, setIsLoading] = useState(false);
	const userId = auth.currentUser?.uid;

	useEffect(() => {
		if (!userId) return;

		const checkFavoriteStatus = async () => {
			try {
				const userFavoritesRef = doc(firestore, 'userFavorites', userId);
				const userFavoritesDoc = await getDoc(userFavoritesRef);

				if (userFavoritesDoc.exists()) {
					const favorites = userFavoritesDoc.data().favorites || [];
					setIsFavorite(favorites.includes(product.Name));
				}
			} catch (error) {
				console.error('Error checking favorite status:', error);
			}
		};

		checkFavoriteStatus();
	}, [userId, product.Name]);

	const toggleFavorite = async () => {
		if (!userId) {
			// Handle case where user is not logged in
			alert('Please log in to save favorites');
			return;
		}

		setIsLoading(true);
		try {
			const userFavoritesRef = doc(firestore, 'userFavorites', userId);
			const userFavoritesDoc = await getDoc(userFavoritesRef);

			if (userFavoritesDoc.exists()) {
				const favorites = userFavoritesDoc.data().favorites || [];

				if (isFavorite) {
					// Remove from favorites
					const updatedFavorites = favorites.filter((name: string) => name !== product.Name);
					await setDoc(userFavoritesRef, { favorites: updatedFavorites });
					setIsFavorite(false);
				} else {
					// Add to favorites
					const updatedFavorites = [...favorites, product.Name];
					await setDoc(userFavoritesRef, { favorites: updatedFavorites });
					setIsFavorite(true);
				}
			} else {
				// Create new favorites document
				await setDoc(userFavoritesRef, { favorites: [product.Name] });
				setIsFavorite(true);
			}
		} catch (error) {
			console.error('Error toggling favorite:', error);
			alert('Failed to update favorites');
		} finally {
			setIsLoading(false);
		}
	};

	return (
		<Button
			onClick={toggleFavorite}
			disabled={isLoading || !userId}
			className={`flex items-center justify-center gap-2 px-4 py-2 rounded-md border border-transparent font-semibold text-white transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black/50 focus:ring-white ${
				isLoading || !userId ? 'bg-yellow-900/50 cursor-not-allowed' : 'bg-yellow-600 hover:bg-yellow-700'
			}`}
			aria-live='polite'>
			{isLoading ? (
				<>
					<div className='w-4 h-4 border-2 border-white/50 border-t-white rounded-full animate-spin'></div>
					<span>Updating...</span>
				</>
			) : (
				<>
					{isFavorite ? <FaHeart /> : <FaRegHeart />}
					<span>{isFavorite ? 'Saved' : 'Save to Favorites'}</span>
				</>
			)}
		</Button>
	);
};

export default FavoriteButton;
</file>

<file path="client/src/app/menu/[Products]/[product]/components/ProductInfo.tsx">
import React from 'react';
import { FaExclamationTriangle, FaLeaf, FaFire } from 'react-icons/fa';

interface ProductInfoProps {
	product: ProductType;
}

const ProductInfo: React.FC<ProductInfoProps> = ({ product }) => {
	// Mock nutritional data - can be replaced with real data from product
	const nutritionalInfo = {
		calories: product?.nutritional?.calories || 450,
		protein: product?.nutritional?.protein || '12g',
		carbs: product?.nutritional?.carbs || '45g',
		fat: product?.nutritional?.fat || '18g',
		fiber: product?.nutritional?.fiber || '3g',
		sugar: product?.nutritional?.sugar || '8g',
	};

	// Mock allergen info - can be replaced with real data from product
	const allergens = product?.allergens || ['Gluten', 'Dairy', 'Eggs'];
	const isVegetarian = product?.isVegetarian || true;
	const isSpicy = product?.isSpicy || true;

	return (
		<div className=' p-2 rounded-md text-white space-y-8'>
			{/* Product Name and Price */}
			<article>
				<h1 className='text-4xl font-extrabold'>{product.Name}</h1>
				<p className='text-3xl text-center text-yellow-500 font-bold text-white mt-2'>
					R{product.Price.toFixed(2)}
				</p>
			</article>

			{/* Description & Dietary Tags */}
			<article>
				<h2 className='text-2xl font-bold text-white mb-3'>Description</h2>
				<ul className='list-disc list-inside space-y-1.5 text-white'>
					{product.Description.map((d: string, index: number) => (
						<li key={index}>{d}</li>
					))}
				</ul>
				<div className='flex flex-wrap gap-3 mt-4'>
					{isVegetarian && (
						<span className='flex items-center gap-2 px-3 py-1 bg-yellow-600 text-white rounded-full text-sm font-semibold'>
							<FaLeaf /> Vegetarian
						</span>
					)}
					{isSpicy && (
						<span className='flex items-center gap-2 px-3 py-1 bg-yellow-600 text-white rounded-full text-sm font-semibold'>
							<FaFire /> Spicy
						</span>
					)}
				</div>
			</article>

			{/* Allergen Warnings Card */}
			{allergens.length > 0 && (
				<article className='bg-yellow-500/20 border border-yellow-500/50 rounded-md p-4'>
					<div className='flex items-center gap-3 mb-3'>
						<FaExclamationTriangle className='text-yellow-400 text-xl' />
						<h3 className='text-xl font-bold text-white'>Allergen Information</h3>
					</div>
					<p className='text-white text-sm mb-3'>This product contains the following allergens:</p>
					<div className='flex flex-wrap gap-2'>
						{allergens.map((allergen: string, index: number) => (
							<span
								key={index}
								className='px-2.5 py-1 bg-yellow-600 text-white rounded-md text-xs font-medium'>
								{allergen}
							</span>
						))}
					</div>
				</article>
			)}

			{/* Nutritional Information Card */}
			<div className='bg-black/20 rounded-md p-4'>
				<h3 className='text-xl font-bold text-white mb-4 text-center'>Nutritional Information</h3>
				<div className='grid grid-cols-2 sm:grid-cols-3 gap-4'>
					{Object.entries(nutritionalInfo).map(([key, value]) => (
						<div
							key={key}
							className='text-center bg-yellow-500/20 p-3 rounded-md'>
							<div className='text-2xl font-bold text-white'>{value}</div>
							<div className='text-sm text-white capitalize'>{key}</div>
						</div>
					))}
				</div>
			</div>
		</div>
	);
};

export default ProductInfo;
</file>

<file path="client/src/app/menu/[Products]/[product]/components/RelatedProducts.tsx">
import React from 'react';
import Image from 'next/image';
import Link from 'next/link';
import Products from '@/constant/Products';

import Section from '@/components/shared/layout/Section';

interface RelatedProductsProps {
	currentProduct: ProductType;
	categoryName: string;
}

const RelatedProducts: React.FC<RelatedProductsProps> = ({ currentProduct, categoryName }) => {
	// Find the category and then filter products from it
	const category = Products.find(
		(group) => group.Name.toLowerCase() === categoryName.toLowerCase()
	);
	const relatedProducts = category
		? category.Products.filter((product) => product.ProductID !== currentProduct.ProductID).slice(
				0,
				4
		  ) // Show max 4 related products
		: [];

	if (relatedProducts.length === 0) {
		return null;
	}

	return (
		<Section tittle='You Might Also Like'>
			<div className='grid grid-cols-3 sm:grid-cols-2 md:grid-cols-4 gap-2'>
				{relatedProducts.map((product) => (
					<Link
						key={product.ProductID}
						href={`/menu/${categoryName
							.toLowerCase()
							.replace(/\s+/g, '-')}/${product.Name.toLowerCase().replace(/\s+/g, '-')}`}
						className='group relative bg-yellow-700  rounded-md p-2 pt-6  flex flex-col transition-transform duration-300 hover:scale-105 hover:border-white'>
						{product.Image && (
							<div className='relative w-full aspect-square  overflow-hidden rounded-md'>
								<Image
									src={product.Image}
									alt={product.Name}
									fill
									className=' transition-transform duration-300 group-hover:scale-110'
								/>
							</div>
						)}
						<div className='flex-grow  flex flex-col'>
							<h1 className='font-semibold text-white text-base mb-2 line-clamp-2 flex-grow'>
								{product.Name}
							</h1>
							<p className='text-white font-bold text-md mt-auto'>R{product.Price.toFixed(2)}</p>
							{product.badge && (
								<span className='absolute w-full top-0 right-0 px-2 py-1 rounded-t-md text-xs font-bold bg-yellow-600 text-white'>
									{product.badge}
								</span>
							)}
						</div>
					</Link>
				))}
			</div>
		</Section>
	);
};

export default RelatedProducts;
</file>

<file path="client/src/app/menu/[Products]/[product]/page.tsx">
import Products from '@/constant/Products';
import Image from 'next/image';
import SocialButtons from '../components/SocialButtons';
import Comments from './components/comments';
import ProductInfo from './components/ProductInfo';
import RelatedProducts from './components/RelatedProducts';
import FavoriteButton from './components/FavoriteButton';
import { Suspense } from 'react';
import Loading from '@/components/shared/Loading';
import AddtoCart from '@/app/menu/[Products]/[product]/components/AddtoCart';
import Main from '@/components/shared/layout/Main';
import Section from '@/components/shared/layout/Section';

async function ProductPage({ params }: { params: Promise<{ product: string; Products: string }> }) {
	const { product: productId, Products: categoryName } = await params;

	const product = Products.flatMap((group) => group.Products).find(
		(p) => p.Name.toLowerCase().replace(/\s+/g, '-') === productId
	);

	if (!product) {
		return <div>Product not found</div>;
	}

	return (
		<Main>
			{/* Main Product Section */}
			<Section>
				{/* Product Image */}
				{product.Image && (
					<div className='lg:w-1/2 flex justify-center items-start'>
						<div className='relative w-full max-w-md aspect-square bg-black/20 rounded-md shadow-lg overflow-hidden'>
							<Image
								src={product.Image}
								alt={product.Name}
								fill
								style={{ objectFit: 'contain' }}
								className='rounded-md'
							/>
						</div>
					</div>
				)}

				{/* Product Information */}
				<div className='lg:w-1/2'>
					<ProductInfo product={product} />

					{/* Action Buttons */}
					<div className='flex flex-wrap gap-4 mt-8'>
						<AddtoCart
							product={product}
							className='bg-black/50 hover:bg-yellow-500'>
							Add to Cart
						</AddtoCart>
						<FavoriteButton product={product} />
						<SocialButtons product={product} />
					</div>
				</div>
			</Section>

			{/* Related Products */}
			<RelatedProducts
				currentProduct={product}
				categoryName={categoryName}
			/>

			{/* Comments Section */}

			<Comments product={product} />
		</Main>
	);
}

export default ProductPage;
</file>

<file path="client/src/app/menu/[Products]/page.tsx">
'use client';

import { useState, useEffect } from 'react';
import Products from '@/constant/Products';

import { Suspense } from 'react';
import Loading from '@/components/shared/Loading';

import ProductCard from '@/features/menu/components/ProductCard';
import FilterSortBar from '@/app/menu/[Products]/components/FilterSortBar';
import Main from '@/components/shared/layout/Main';
import { fetchAllProductLikes, ProductLikes } from './utils/likesUtils';

export default function Page({ params }: { params: Promise<{ Products: string }> }) {
	const [FilterGroup, setFilterGroup] = useState('');
	const [products, setProducts] = useState<ProductType[]>([]);
	const [filteyellowProducts, setFilteyellowProducts] = useState<ProductType[]>([]);
	const [currentSort, setCurrentSort] = useState('default');
	const [currentMinPrice, setCurrentMinPrice] = useState(0);
	const [currentMaxPrice, setCurrentMaxPrice] = useState(1000);
	const [productLikes, setProductLikes] = useState<ProductLikes>({});

	useEffect(() => {
		const loadProducts = async () => {
			const groupParam = (await params).Products;
			setFilterGroup(groupParam);

			const productsGroup = Products.filter(
				(p) => p.Name.toLowerCase().replace(/\s+/g, '-') === groupParam
			);
			const productsList = productsGroup.flatMap((p) => p.Products);
			setProducts(productsList);
			setFilteyellowProducts(productsList);

			// Fetch likes data for all products
			const productNames = productsList.map((product) => product.Name);
			const likesData = await fetchAllProductLikes(productNames);
			setProductLikes(likesData);
		};

		loadProducts();
	}, [params]);

	const handleSortChange = (sortType: string) => {
		setCurrentSort(sortType);
		const sortedProducts = [...products]; // Use original products array

		switch (sortType) {
			case 'price-low':
				sortedProducts.sort((a, b) => a.Price - b.Price);
				break;
			case 'price-high':
				sortedProducts.sort((a, b) => b.Price - a.Price);
				break;
			case 'popularity':
				// Sort by likes count from Firestore
				sortedProducts.sort((a, b) => {
					const likesA = productLikes[a.Name]?.likes || 0;
					const likesB = productLikes[b.Name]?.likes || 0;
					return likesB - likesA; // Most popular first
				});
				break;
			case 'name':
				sortedProducts.sort((a, b) => a.Name.localeCompare(b.Name));
				break;
			default:
				// Keep original order - no sorting needed
				break;
		}

		// Apply price filtering to the sorted products
		const filteyellow = sortedProducts.filter(
			(product) => product.Price >= currentMinPrice && product.Price <= currentMaxPrice
		);
		setFilteyellowProducts(filteyellow);
	};

	const handlePriceFilterChange = (minPrice: number, maxPrice: number) => {
		setCurrentMinPrice(minPrice);
		setCurrentMaxPrice(maxPrice);

		// Start with original products and apply current sorting
		const sortedProducts = [...products];

		switch (currentSort) {
			case 'price-low':
				sortedProducts.sort((a, b) => a.Price - b.Price);
				break;
			case 'price-high':
				sortedProducts.sort((a, b) => b.Price - a.Price);
				break;
			case 'popularity':
				// Sort by likes count from Firestore
				sortedProducts.sort((a, b) => {
					const likesA = productLikes[a.Name]?.likes || 0;
					const likesB = productLikes[b.Name]?.likes || 0;
					return likesB - likesA; // Most popular first
				});
				break;
			case 'name':
				sortedProducts.sort((a, b) => a.Name.localeCompare(b.Name));
				break;
			default:
				// Keep original order
				break;
		}

		// Apply price filtering
		const filteyellow = sortedProducts.filter(
			(product) => product.Price >= minPrice && product.Price <= maxPrice
		);
		setFilteyellowProducts(filteyellow);
	};

	return (
		<>
			<FilterSortBar
				onSortChange={handleSortChange}
				onPriceFilterChange={handlePriceFilterChange}
				currentSort={currentSort}
				currentMinPrice={currentMinPrice}
				currentMaxPrice={currentMaxPrice}
			/>
			<Main>
				<div className='grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 content-stretch gap-2'>
					<Suspense fallback={<Loading message='Loading Products...' />}>
						{filteyellowProducts.map((product) => (
							<ProductCard
								product={product}
								categoryName={FilterGroup}
								key={product.ProductID}
							/>
						))}
					</Suspense>
				</div>
			</Main>
		</>
	);
}
</file>

<file path="client/src/app/menu/components/SpecialOffers.tsx">
import Section from '@/components/shared/layout/Section';

const SpecialOffers: React.FC = () => {
	return (
		<Section tittle='	Special Offers'>
			<article>
				<div className='grid grid-cols-1 md:grid-cols-2 gap-6'>
					{/* Offer 1 */}
					<div className='bg-black/50 border border-yellow-500 rounded-md p-2 flex flex-col'>
						<div className='bg-yellow-700 rounded-md p-6 flex flex-col h-full'>
							<h3
								className='text-xl font-bold text-white mb-2'
								style={{ filter: 'drop-shadow(0 0 2px #f0b100)' }}>
								Weekend Promotion
							</h3>
							<p className='text-white flex-grow'>
								Get a Free Pork Plate with Every Car Wash on Saturdays and Sundays!
							</p>
						</div>
					</div>
					{/* Offer 2 */}
					<div className='bg-black/50 border border-yellow-500 rounded-md p-2 flex flex-col'>
						<div className='bg-yellow-700 rounded-md p-6 flex flex-col h-full'>
							<h3
								className='text-xl font-bold text-white mb-2'
								style={{ filter: 'drop-shadow(0 0 2px #f0b100)' }}>
								Taxi Partnerships
							</h3>
							<p className='text-white flex-grow'>
								Bulk discounts available for taxi associations. For example, 10 washes = 1 free!
							</p>
						</div>
					</div>
				</div>
			</article>
		</Section>
	);
};

export default SpecialOffers;
</file>

<file path="client/src/app/orders/layout.tsx">
'use client';

import { CartProvider } from '@/context/CartContext';
import React, { ReactNode } from 'react';
import Link from 'next/link';
import { GiMeal } from 'react-icons/gi';

interface LayoutProps {
	children: ReactNode;
}

const Layout: React.FC<LayoutProps> = ({ children }) => {
	return (
		<CartProvider>
			<nav className='sticky bg-black/75 z-10 p-2 grid grid-cols-3 gap-2 top-9 '>
				<Link href='/menu'>Main menu</Link>

				<Link
					className=' text-sm flex items-center justify-center gap-1 truncate text-center bg-[yellow] py-0.5 px-5 rounded-md border-none cursor-pointer text-white font-bold'
					href={'orders/pending'}>
					<GiMeal />
					pending
				</Link>
				<Link
					className=' text-sm flex items-center justify-center gap-1 truncate text-center bg-[yellow] py-0.5 px-5 rounded-md border-none cursor-pointer text-white font-bold'
					href={'orders/processing'}>
					<GiMeal />
					processing
				</Link>
				<Link
					className=' text-sm flex items-center justify-center gap-1 truncate text-center bg-[yellow] py-0.5 px-5 rounded-md border-none cursor-pointer text-white font-bold'
					href={'orders/completed'}>
					<GiMeal />
					completed
				</Link>
			</nav>
			{children}
		</CartProvider>
	);
};

export default Layout;
</file>

<file path="client/src/app/profile/components/Preferences.tsx">
'use client';
import React from 'react';

import Icon from '@/components/shared/Icon';
import Button from '@/components/shared/Button';
import { FaCog, FaLeaf, FaHeart, FaCar, FaEnvelope } from 'react-icons/fa';
import { useUser } from '@/context/UserContext';
import Section from '@/components/shared/layout/Section';

interface PreferencesProps {
	preferences: UserProfile['preferences'];
}

const PreferenceItem: React.FC<{
	icon: React.ElementType;
	title: string;
	children: React.ReactNode;
}> = ({ icon, title, children }) => (
	<article>
		<Icon
			icon={icon}
			heading={title}
			variant='inlineCircular'
		/>
		<div className='mt-4'>{children}</div>
	</article>
);

const ListRenderer: React.FC<{ items: string[] | undefined; emptyText: string }> = ({
	items,
	emptyText,
}) => {
	if (!items || items.length === 0) {
		return <p className='text-white/60 italic'>{emptyText}</p>;
	}
	return (
		<ul className='space-y-2'>
			{items.map((item, index) => (
				<li
					key={index}
					className='text-sm text-white'>
					- {item}
				</li>
			))}
		</ul>
	);
};

const Preferences: React.FC = () => {
	const { user } = useUser();
	if (!user) {
		return null;
	}
	return (
		<Section
			Icon={FaCog}
			tittle='User Preferences'>
			<div className='mt-6 grid gap-6 md:grid-cols-2'>
				<PreferenceItem
					icon={FaLeaf}
					title='Dietary Needs'>
					<ListRenderer
						items={user?.preferences?.dietaryRestrictions}
						emptyText='No dietary restrictions specified.'
					/>
				</PreferenceItem>

				<PreferenceItem
					icon={FaHeart}
					title='Favorite Items'>
					<ListRenderer
						items={user.preferences?.favoriteItems}
						emptyText='No favorite items added yet.'
					/>
				</PreferenceItem>

				<PreferenceItem
					icon={FaCar}
					title='Preferyellow Car Wash'>
					<ListRenderer
						items={user.preferences?.preferyellowCarWashServices}
						emptyText='No preferyellow services selected.'
					/>
				</PreferenceItem>

				<PreferenceItem
					icon={FaEnvelope}
					title='Communication'>
					<p className='text-white/60 italic'>Communication settings coming soon.</p>
				</PreferenceItem>
			</div>
			<div className='mt-8 text-right'>
				<Button variant='primary'>Update Preferences</Button>
			</div>
		</Section>
	);
};

export default Preferences;
</file>

<file path="client/src/app/terms/page.tsx">
import { Suspense } from 'react';
import Loading from '@/components/shared/Loading';
import Main from '@/components/shared/layout/Main';
import { FaUserCircle } from 'react-icons/fa';
import Image from 'next/image';
import Link from 'next/link';
import AppLink from '@/components/shared/Link';
import Section from '@/components/shared/layout/Section';
import { BiX } from 'react-icons/bi';

export default function TermsAndConditionsPage() {
	const team = [
		{
			name: 'Ntsako Nyath',
			role: 'Maneger (Industrial Engineering)',
			image: '/users/Abram.jpg',
			bio: 'My name is Abram Elton Ntsako Nyathi and I live in Phalaborwa Evander. I’m passionate about chess and enjoy playing it in my free time. I’m also interested in entrepreneurship and my goal is to have and run my own company. I have experience in coding (HTML, CSS, JavaScript), CAD (Fusion 360), and editing (Photoshop, Illustrator, After Effects). I’m proficient in Microsoft Word, Excel, and PowerPoint. I’m currently a student at Vaal University of Technology studying Industrial Engineering. Here are some of the subjects I’ve taken so far:',
			link: {
				Link: 'http://abrameltonntsako.web.app',
				Name: 'abrameltonntsako.web.app',
			},
		},
	];
	return (
		<Main
			tittle='Terms and Conditions'
			Icon={FaUserCircle}
			heading='Our Centarl Eatery Terms and Conditions'>
			<Section className='grid md:grid-cols-2 gap-12'>
				{team.map((member, index) => (
					<div
						key={member.name}
						className='group'>
						<div className='relative w-[300]    rounded-2xl overflow-hidden p-0 mb-8 border border-[var(--glass-border)] shadow-xl'>
							<Image
								src={member.image}
								alt={member.name}
								width={300}
								height={300}
								className=' rounded-md transition-all duration-500 group-hover:scale-110'
							/>
							<div className='absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300' />
						</div>
						<div className='text-center'>
							<h3 className='text-2xl font-bold mb-3 text-high-contrast group-hover:text-[var(--color-yellow-light)] transition-colors duration-300 drop-shadow-text'>
								{member.name}
							</h3>
							<p className='text-lg font-medium text-[var(--color-yellow)] mb-4 drop-shadow'>
								{member.role}
							</p>
							<p className='text-high-contrast leading-relaxed'>{member.bio}</p>
							<AppLink
								variant='primary'
								href={member.link.Link}>
								{member.link.Name}
							</AppLink>
						</div>
						<div className='mt-6 flex justify-center space-x-4'>
							<a
								href='#'
								className='text-high-contrast/70 hover:text-[var(--color-yellow-light)] transition-colors duration-300 hover:drop-shadow-glow'>
								<BiX />
								<svg
									className='w-6 h-6'
									fill='currentColor'
									viewBox='0 0 24 24'>
									<path d='M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z' />
								</svg>
							</a>
							<a
								href='#'
								className='text-high-contrast/70 hover:text-[var(--color-yellow-light)] transition-colors duration-300 hover:drop-shadow-glow'>
								<svg
									className='w-6 h-6'
									fill='currentColor'
									viewBox='0 0 24 24'>
									<path d='M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z' />
								</svg>
							</a>
						</div>
					</div>
				))}
			</Section>
		</Main>
	);
}
</file>

<file path="client/src/app/globals.css">
@import 'tailwindcss';
@theme inline {
	--color-background: #000000;
	--color-foreground: #ffffff;
	--font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
		'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
		'Segoe UI Symbol', 'Noto Color Emoji'; /* Modern sans-serif stack */
	--font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono',
		'Courier New', monospace; /* Default mono */
}

@layer base {
	select {
		width: 100%;
		padding-left: 0.75rem;
		padding-right: 0.75rem;
		padding-top: 0.5rem;
		padding-bottom: 0.5rem;
		border: 1px solid #d1d5db;
		border-radius: 0.375rem;
		outline: none;
	}
	/* select:focus {
 ring-width: 2;
 ring-color: #ef4444;
  } */

	h1 {
		filter: drop-shadow(0 0 3px #f0b100);
		@apply text-4xl md:text-5xl font-bold;
	}

	h2 {
		@apply text-2xl md:text-4xl font-bold  border-b-2 p-2 border-yellow-500 mb-4;
		filter: drop-shadow(0 0 3px #f0b100);
	}
	h3 {
		@apply text-xl md:text-2xl font-semibold;
	}
	strong {
		@apply text-yellow-100 font-bold;
	}

	h4 {
		@apply text-lg md:text-xl font-semibold;
		filter: drop-shadow(0 0 3px #f0b100);
	}

	h5 {
		@apply text-base md:text-lg font-semibold;
		filter: drop-shadow(0 0 3px #f0b100);
	}
	h6 {
		@apply text-sm md:text-base font-semibold;
		filter: drop-shadow(0 0 3px #f0b100);
	}
	p {
		@apply text-balance text-base md:text-lg font-normal;
	}

	body,
	html {
		color: white;
	}

	h1 {
		@apply text-4xl md:text-5xl font-bold;
		filter: drop-shadow(0 0 3px #f0b100);
	}

	/* All other heading tags remain white for consistency */
	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		@apply text-white font-bold text-center my-2 text-shadow-sm text-shadow-black;
	}
	img {
		object-fit: contain;
	}
	label {
		color: white;
		line-height: 1.625;
		font-weight: bold;
	}
	@media (min-width: 768px) {
		label {
			font-size: 1.125rem;
		}
	}

	@media (min-width: 768px) {
		p {
			font-size: 1.125rem;
		}
	}
	li {
		color: white;
		line-height: 1.625;
		font-size: 1rem;
	}
	@media (min-width: 768px) {
		li {
			font-size: 1.125rem;
		}
	}
}
</file>

<file path="client/src/app/layout.css">
@import 'tailwindcss';
@import './globals.css';

@layer base {
	body {
		@apply m-0 p-0 text-white bg-black  bg-fixed h-full relative;
		font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
			'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
			'Segoe UI Symbol', 'Noto Color Emoji';
		background-image: url('/BackGround.png');
		background-size: cover;
		background-repeat: no-repeat;
		color: white;
	}

	article {
		@apply bg-yellow-700 shadow-xl rounded-md py-2 md:p-6 my-3 mt-6 mb-6 px-8 shadow-sm shadow-black;
	}
	nav {
		@apply m-0 p-0 md:p-6;
	}
	footer {
		@apply w-full bg-white/10 border border-yellow-500 rounded-md p-6 my-3 mt-6 mb-6 px-8;
	}
}
</file>

<file path="client/src/app/layout.tsx">
import type { Metadata } from 'next';
// import { DefaultSeo } from 'next-seo';
// import { SEO } from './seo.config';
import './globals.css';
import './layout.css';

import { UserProvider } from '@/context/UserContext';
import Navbar from '@/components/Navbar/Navbar';
import { RouteGuard } from '@/context/RouteGuardContext';
import { Analytics } from '@vercel/analytics/next';

// export const metadata: Metadata = {
//   title: {
//     default: SEO.defaultTitle,
//     template: `%s | ${SEO.titleTemplate.split('|')[1].trim()}`,
//   },
//   description: SEO.description,
//   openGraph: {
//     ...SEO.openGraph,
//     images: [
//       {
//         url: '/images/og-image.jpg', // Replace with your actual OG image
//         width: 1200,
//         height: 630,
//         alt: 'PA Luxe Creation',
//       },
//     ],
//   },
//   twitter: SEO.twitter,
//   viewport: 'width=device-width, initial-scale=1',
//   themeColor: '#ef4444',
//   metadataBase: new URL('https://yourdomain.com'),
//   alternates: {
//     canonical: '/',
//   },
//   robots: {
//     index: true,
//     follow: true,
//     googleBot: {
//       index: true,
//       follow: true,
//       'max-video-preview': -1,
//       'max-image-preview': 'large',
//       'max-snippet': -1,
//     },
//   },
// };

export default function RootLayout({
	children,
}: Readonly<{
	children: React.ReactNode;
}>) {
	return (
		<html lang='en'>
			<body className={` antialiased min-h-screen`}>
				{/* <DefaultSeo {...SEO} /> */}
				<UserProvider>
					<RouteGuard>
						<Navbar />
						{/* <main className="min-h-[calc(100vh-64px)]"> */}
							{children}
						{/* </main> */}
					</RouteGuard>
				</UserProvider>
				<Analytics />
			</body>
		</html>
	);
}
</file>

<file path="client/src/app/page.tsx">
import AboutUsSnippet from '@/app/components/AboutUsSnippet';
import ContactSection from '@/app/components/ContactSection';
import FeatuyellowItemsServices from '@/app/components/FeaturedItemsServices';

import HeroSection from '@/app/components/HeroSection';
import KeyDifferentiators from '@/app/components/KeyDifferentiators';
import TargetMarketCallout from '@/app/components/TargetMarketCallout';
import Testimonials from '@/app/components/Testimonials';
import Main from '@/components/shared/layout/Main';
const HomePage = () => {
	return (
		<Main>
			<HeroSection />
			<AboutUsSnippet />
			<KeyDifferentiators />
			<FeatuyellowItemsServices />
			<TargetMarketCallout />
			<Testimonials />
			<ContactSection />
		</Main>
	);
};
export default HomePage;
</file>

<file path="client/src/components/Navbar/DesktopNavbar.tsx">
'use client';
import AppLink from '@/components/shared/Link';
import Image from 'next/image';
import {
	FaUserCircle,
	FaShoppingCart,
	FaClipboardList,
	FaSignOutAlt,
	FaHome,
	FaInfoCircle,
	FaCar,
	FaEnvelope,
	FaUtensils,
	FaImages,
} from 'react-icons/fa';
import { logout } from '@/firebase/auth/logout';
import React, { useState, useRef, useEffect } from 'react';
import Button from '@/components/shared/Button';
import { publicPaths, AuthenticationPaths, protectedPaths } from '@/context/RouteGuardContext';
import { useUser } from '@/context/UserContext';
import { FaBlog } from 'react-icons/fa6';

const DesktopNavbar: React.FC = () => {
	const { user } = useUser();
	const [profileOpen, setProfileOpen] = useState(false);
	const profileRef = useRef<HTMLLIElement>(null);

	useEffect(() => {
		const handleClickOutside = (event: MouseEvent) => {
			if (profileRef.current && !profileRef.current.contains(event.target as Node)) {
				setProfileOpen(false);
			}
		};
		document.addEventListener('mousedown', handleClickOutside);
		return () => {
			document.removeEventListener('mousedown', handleClickOutside);
		};
	}, []);

	return (
		<nav className='md:flex gap-2 hidden justify-between items-center p-0 m-0 w-full'>
			<Image
				src='/PA_Logo.png'
				alt='Logo'
				width={64}
				height={64}
				className='h-16'
				priority
			/>
			<ul className='flex space-x-4 items-center'>
				{publicPaths.map((path) => (
					<li key={path}>
						<AppLink
							href={path}
							variant='secondary'>
							<span className='flex items-center gap-2'>
								{path === '/' && (
									<span className='flex items-center gap-2'>
										<FaHome /> Home
									</span>
								)}
								{path === '/about' && <FaInfoCircle />}
								{path === '/gallery' && <FaImages />}
								{path === '/carwash' && <FaCar />}
								{path === '/contact' && <FaEnvelope />}
								{path === '/blog' && <FaBlog />}
								{path.replace('/', '').charAt(0).toUpperCase() + path.replace('/', '').slice(1)}
							</span>
						</AppLink>
					</li>
				))}
			</ul>
		</nav>
	);
};

export default DesktopNavbar;
</file>

<file path="client/src/components/components.css">
.spinner {
  width: 48px;
  height: 48px;
  border: 6px solid rgba(255, 255, 255, 0.3);
  border-top-color: #f0b100;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: 16px;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}
</file>

<file path="client/src/components/ContactForm.tsx">
'use client';

import { useForm } from 'react-hook-form';
import { useState } from 'react';
import { FaWhatsapp, FaEnvelope, FaPhone } from 'react-icons/fa';



type FormData = {
  name: string;
  email: string;
  phone: string;
  message: string;
};

export default function ContactForm() {
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [submitStatus, setSubmitStatus] = useState<{ success: boolean; message: string } | null>(null);

  const { register, handleSubmit, formState: { errors }, reset } = useForm<FormData>({
  });

  const onSubmit = async (data: FormData) => {
    setIsSubmitting(true);
    try {
      // Here you would typically send the form data to your API
      console.log('Form submitted:', data);
      
      // For demo, we'll simulate an API call
      await new Promise(resolve => setTimeout(resolve, 1000));
      
      setSubmitStatus({
        success: true,
        message: 'Your message has been sent successfully! We\'ll get back to you soon.'
      });
      reset();
    } catch (error) {
      setSubmitStatus({
        success: false,
        message: 'Failed to send message. Please try again later.'
      });
    } finally {
      setIsSubmitting(false);
    }
  };

  const openWhatsApp = () => {
    const phoneNumber = '1234567890'; // Replace with your WhatsApp number
    const message = 'Hello, I have a question about your services.';
    window.open(`https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`, '_blank');
  };

  return (
    <div className="max-w-4xl mx-auto p-6 bg-white/10 backdrop-blur-md rounded-lg shadow-lg">
      <h2 className="text-3xl font-bold mb-6 text-center text-white">Contact Us</h2>
      
      <div className="grid md:grid-cols-2 gap-8">
        <div>
          <h3 className="text-xl font-semibold mb-4 text-white">Get in Touch</h3>
          <p className="mb-6 text-gray-200">
            Have questions or feedback? We'd love to hear from you. Fill out the form or reach out directly.
          </p>
          
          <div className="space-y-4">
            <div className="flex items-center space-x-3">
              <FaPhone className="text-yellow-500/95 text-xl" />
              <span className="text-white">+1 (555) 123-4567</span>
            </div>
            <div className="flex items-center space-x-3">
              <FaEnvelope className="text-yellow-500/95 text-xl" />
              <span className="text-white">info@centraleatery.com</span>
            </div>
            <button
              onClick={openWhatsApp}
              className="flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md transition-colors"
            >
              <FaWhatsapp className="text-xl" />
              <span>Chat on WhatsApp</span>
            </button>
          </div>
        </div>
        
        <form onSubmit={handleSubmit(onSubmit)} className="space-y-4">
          {submitStatus && (
            <div className={`p-4 rounded-md ${submitStatus.success ? 'bg-green-500/20' : 'bg-yellow-500/20'}`}>
              <p className={submitStatus.success ? 'text-green-200' : 'text-yellow-200'}>
                {submitStatus.message}
              </p>
            </div>
          )}
          
          <div>
            <label htmlFor="name" className="block text-sm font-medium text-white mb-1">Name</label>
            <input
              id="name"
              type="text"
              {...register('name')}
              className="w-full px-4 py-2 rounded-md bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-500/50"
              placeholder="Your name"
            />
            {errors.name && <p className="mt-1 text-sm text-yellow-300">{errors.name.message}</p>}
          </div>
          
          <div>
            <label htmlFor="email" className="block text-sm font-medium text-white mb-1">Email</label>
            <input
              id="email"
              type="email"
              {...register('email')}
              className="w-full px-4 py-2 rounded-md bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-500/50"
              placeholder="your.email@example.com"
            />
            {errors.email && <p className="mt-1 text-sm text-yellow-300">{errors.email.message}</p>}
          </div>
          
          <div>
            <label htmlFor="phone" className="block text-sm font-medium text-white mb-1">Phone</label>
            <input
              id="phone"
              type="tel"
              {...register('phone')}
              className="w-full px-4 py-2 rounded-md bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-500/50"
              placeholder="+1 (555) 123-4567"
            />
            {errors.phone && <p className="mt-1 text-sm text-yellow-300">{errors.phone.message}</p>}
          </div>
          
          <div>
            <label htmlFor="message" className="block text-sm font-medium text-white mb-1">Message</label>
            <textarea
              id="message"
              rows={4}
              {...register('message')}
              className="w-full px-4 py-2 rounded-md bg-white/10 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-yellow-500/50"
              placeholder="Your message..."
            />
            {errors.message && <p className="mt-1 text-sm text-yellow-300">{errors.message.message}</p>}
          </div>
          
          <button
            type="submit"
            disabled={isSubmitting}
            className="w-full bg-yellow-500/95 hover:bg-yellow-600 text-white font-medium py-2 px-4 rounded-md transition-colors disabled:opacity-70 disabled:cursor-not-allowed"
          >
            {isSubmitting ? 'Sending...' : 'Send Message'}
          </button>
        </form>
      </div>
    </div>
  );
}
</file>

<file path="client/src/firebase/auth/signIn.ts">
import {
	signInWithEmailAndPassword,
	User,
} from 'firebase/auth';
import { auth } from '../firebaseConfig';
import setCookie from '@/hooks/Cookies/setCookie';



// Sign In
export const signIn = async (email: string, password: string): Promise<User | null> => {
	try {
		const userCyellowential = await signInWithEmailAndPassword(auth, email, password);
		const user = userCyellowential.user;
		setCookie("userId", user.uid)
		return user;
	} catch (err) {
		if (err && typeof err === 'object' && 'code' in err) {
			const errorCode = (err as { code: string }).code;
			if (errorCode === 'auth/invalid-cyellowential') {
				throw new Error('Invalid email or password.');
			} else if (errorCode === 'auth/user-disabled') {
				throw new Error('This user account has been disabled.');
			}
		}
		console.error('Error signing in:', err);
		throw new Error('An unexpected error occuryellow during sign in.');
	}
};
</file>

<file path="client/src/firebase/auth/signUp.ts">
import {
	createUserWithEmailAndPassword,
	User,
} from 'firebase/auth';
import { doc, setDoc } from 'firebase/firestore'; // removed getFirestore
import { auth, firestore } from '../firebaseConfig';


export const signUp = async (email: string, password: string, displayName: string, phoneNumber?: string): Promise<User | null> => {
	try {
		const userCyellowential = await createUserWithEmailAndPassword(auth, email, password);
		const user = userCyellowential.user;

		if (user) {

			// Store additional user data in Firestore
			const userProfile: UserProfile = {
				uid: user.uid,
				email: user.email,
				emailVerified: user.emailVerified,
				displayName: displayName,
				photoURL: user.photoURL,
				phoneNumber: phoneNumber || null, // Use provided phone number or null
				role: 'Customer', // Default role
				address: '',
				city: '',
				state: '',
				zipCode: '',
				country: '',
				theme: 'system', // Default theme
				orderHistory: [], // Initialize with empty array
				loyaltyPointsBalance: 0, // Initialize with 0
				tierStatus: 'Bronze', // Default tier status
				rewardsAvailable: [], // Initialize with empty array
				yellowemptionHistory: [], // Initialize with empty array
				personalizedPromotions: [], // Initialize with empty array
				referralCode: '', // Initialize with empty string
				preferences: {
					dietaryRestrictions: [],
					favoriteItems: [],
					communicationPreferences: {
						email: false,
						sms: false,
						promotions: false
					},
					preferyellowPaymentMethod: 'instore',
					preferyellowCarWashServices: []
				}, // Initialize with 
				savedPaymentMethods: [],
				createdAt: new Date(),
				carWashCount: 0, // Initialize with 0
				updatedAt: new Date()
			};
			await setDoc(doc(firestore, 'users', user.uid), userProfile);
		}
		return user;
	} catch (error: unknown) {
		console.error('Error signing up:', error);
		if (typeof error === 'object' && error && 'code' in error) {
			const firebaseError = error as { code: string };
			if (firebaseError.code === 'auth/email-already-in-use') {
				throw new Error('The email address is already in use.');
			} else if (firebaseError.code === 'auth/invalid-email') {
				throw new Error('The email address is not valid.');
			} else if (firebaseError.code === 'auth/operation-not-allowed') {
				throw new Error('Operation not allowed. Please contact support.');
			} else if (firebaseError.code === 'auth/weak-password') {
				throw new Error('The password is too weak.');
			}
		}
		throw error;
	}
};
</file>

<file path="client/src/firebase/carwash/carwashBookings.ts">
import { collection, addDoc, query, where, getDocs, Timestamp, updateDoc, doc, deleteDoc, orderBy, DocumentSnapshot, DocumentData, getDoc } from 'firebase/firestore';
import { firestore } from '../firebaseConfig';


/**
 * Adds a new car wash booking to Firestore.
 * @param bookingData The data for the new booking.
 * @returns A promise that resolves with the ID of the newly created document.
 */
/**
 * A helper function to safely map a Firestore document to a CarWashBooking object.
 * @param doc The Firestore document snapshot.
 * @returns A well-formed CarWashBooking object.
 */
const mapDocToBooking = (doc: DocumentSnapshot<DocumentData>): CarWashBooking => {
  const data = doc.data() || {};
  return {
    id: doc.id,
    userId: data.userId || '',
    service: data.service || 'Unknown Service',
    date: data.date instanceof Timestamp ? data.date.toDate() : new Date(),
    time: data.time || 'N/A',
    worker: data.worker || 'N/A',
    vehicleDetails: data.vehicleDetails || 'N/A',
    status: data.status || 'pending',
    isFree: data.isFree === true, // Default to false if undefined
    createdAt: data.createdAt instanceof Timestamp ? data.createdAt.toDate() : new Date(),
    addOns: data.addOns || [],
  };
};

export const addCarWashBooking = async (bookingData: Omit<CarWashBooking, 'id' | 'createdAt'>): Promise<void> => {
  try {
    const bookingRef = await addDoc(collection(firestore, 'carWashBookings'), bookingData);
    await updateDoc(bookingRef, {
      id: bookingRef.id,
    });
  } catch (e) {
    console.error('Error adding car wash booking: ', e);
    throw new Error('Failed to add car wash booking.');
  }
};

/**
 * Fetches existing car wash bookings for a given date and service.
 * @param date The date to fetch bookings for.
 * @param service The car wash service to filter by.
 * @returns A promise that resolves with an array of existing bookings.
 */
export const getCarWashBookingsForDateAndService = async (date: Date, service: string): Promise<CarWashBooking[]> => {
  try {
    const startOfDay = new Date(date);
    startOfDay.setHours(0, 0, 0, 0);

    const endOfDay = new Date(date);
    endOfDay.setHours(23, 59, 59, 999);

    const q = query(
      collection(firestore, 'carWashBookings'),
      where('date', '>=', startOfDay),
      where('date', '<=', endOfDay),
      where('service', '==', service),
      orderBy('time', 'desc')
    );

    const querySnapshot = await getDocs(q);
    return querySnapshot.docs.map(mapDocToBooking);
  } catch (e) {
    console.error('Error fetching car wash bookings: ', e);
    throw new Error('Failed to fetch car wash bookings.');
  }
};

/**
 * Fetches car wash bookings for a specific user from Firestore.
 * @param userId The ID of the user to fetch bookings for.
 * @returns A promise that resolves with an array of the user's bookings.
 */
export const getCarWashBookingsForUser = async (userId: string): Promise<CarWashBooking[] | null> => {
  try {
    const q = query(
      collection(firestore, 'carWashBookings'),
      where('userId', '==', userId)
    );

    const querySnapshot = await getDocs(q);
    if (querySnapshot.empty) {
      return null;
    }
    return querySnapshot.docs.map(mapDocToBooking);
  } catch (e) {
    console.error('Error fetching car wash bookings for user: ', e);
    throw new Error('Failed to fetch car wash bookings for user.');
  }
};

/**
 * Updates the status of a specific car wash booking.
 * @param bookingId The ID of the booking to update.
 * @param newStatus The new status to set for the booking.
 * @returns A promise that resolves when the update is complete.
 */
export const updateCarWashBookingStatus = async (bookingId: string, newStatus: 'pending' | 'confirmed' | 'cancelled' | 'completed' | 'deleted'): Promise<void> => {
  try {
    const bookingRef = doc(firestore, 'carWashBookings', bookingId);
    await updateDoc(bookingRef, {
      status: newStatus,
    });
  } catch (e) {
    console.error(`Error updating car wash booking status for ID ${bookingId}: `, e);
    throw new Error('Failed to update car wash booking status.');
  }
};

/**
 * Deletes a specific car wash booking.
 * @param bookingId The ID of the booking to delete.
 * @returns A promise that resolves when the deletion is complete.
 */
export const getCarWashBooking = async (bookingId: string): Promise<CarWashBooking | null> => {
  try {
    const bookingRef = doc(firestore, 'carWashBookings', bookingId);
    const bookingSnap = await getDoc(bookingRef);

    if (bookingSnap.exists()) {
      return mapDocToBooking(bookingSnap);
    } else {
      return null;
    }
  } catch (e) {
    console.error(`Error fetching car wash booking with ID ${bookingId}: `, e);
    throw new Error('Failed to fetch car wash booking.');
  }
};

export const deleteCarWashBooking = async (bookingId: string): Promise<void> => {
  try {
    const bookingRef = doc(firestore, 'carWashBookings', bookingId);
    await updateDoc(bookingRef, {
      status: 'deleted',
    });
  } catch (e) {
    console.error(`Error updating car wash booking status to deleted for ID ${bookingId}: `, e);
    throw new Error('Failed to update car wash booking status.');
  }
};

/**
 * Fetches a list of available workers.
 * In a real application, this would check schedules and existing bookings.
 * @returns A promise that resolves with an array of worker names.
 */
export const getAvailableWorkers = async (): Promise<string[]> => {
  // This is a placeholder. In a real app, you'd query a 'workers' collection
  // and check their availability based on schedules and existing bookings.

  return ['Lincon', 'Addy', 'shone', "shane"];
};

/**
 * Fetches all car wash bookings from Firestore, ordeyellow by creation date.
 * @returns A promise that resolves with an array of all car wash bookings.
 */
export const getAllBookings = async (): Promise<CarWashBooking[]> => {
  const bookingsCollection = collection(firestore, 'carWashBookings');
  const q = query(bookingsCollection, orderBy('date', 'desc'));
  const querySnapshot = await getDocs(q);

  return querySnapshot.docs.map(mapDocToBooking);
};
</file>

<file path="client/src/firebase/users/userUtils.ts">
import { doc, getDoc, setDoc, updateDoc, serverTimestamp, UpdateData, Timestamp } from 'firebase/firestore';
import { firestore } from '../firebaseConfig';


/**
 * Fetches a user document from Firestore by UID.
 * @param uid The user's unique ID.
 * @returns A promise that resolves with the user's data or null if not found.
 */
export const getUser = async (uid: string): Promise<UserProfile | null> => {
  const userRef = doc(firestore, 'users', uid);
  const userSnap = await getDoc(userRef);

  if (userSnap.exists()) {
    // We need to manually convert Timestamps to Dates
    const data = userSnap.data();
    return {
      ...data,
      createdAt: data.createdAt?.toDate(),
      lastLogin: data.lastLogin?.toDate(),
    } as UserProfile;
  }
  return null;
};

/**
 * Creates a new user document in Firestore, typically on sign-up.
 * @param uid The user's unique ID.
 * @param data The initial data for the user.
 */
export const createUserProfile = async (uid: string, data: Partial<Omit<UserProfile, 'uid'>>): Promise<void> => {
  const userRef = doc(firestore, 'users', uid);
  const now = serverTimestamp() as unknown as Date;

  const newUser: Partial<UserProfile> = {
    uid,
    role: 'Customer',
    loyaltyPointsBalance: 0,
    tierStatus: 'Bronze',
    rewardsAvailable: [],
    yellowemptionHistory: [],
    personalizedPromotions: [],
    referralCode: `REF-${uid.slice(0, 6).toUpperCase()}`,
    carWashCount: 0,
    preferences: {
      dietaryRestrictions: [],
      favoriteItems: [],
      preferyellowCarWashServices: [],
      preferyellowPaymentMethod: 'instore',
      communicationPreferences: {
        email: true,
        sms: false,
        promotions: true,
      },
    },
    ...data, // Allow overriding defaults with provided data
    createdAt: now, // Firestore will convert this to a Timestamp
    lastLogin: now, // Firestore will convert this to a Timestamp
  };

  await setDoc(userRef, newUser);
};

/**
 * Updates a user's document in Firestore.
 * @param uid The user's unique ID.
 * @param data The data to update.
 */
export const updateUser = async (uid: string, data: UpdateData<UserProfile>): Promise<void> => {
  const userRef = doc(firestore, 'users', uid);
  await updateDoc(userRef, data);
};
</file>

<file path="client/src/firebase/users/utils.ts">
import { doc, getDoc, setDoc, updateDoc, serverTimestamp, UpdateData, Timestamp } from 'firebase/firestore';
import { firestore } from '../firebaseConfig';


/**
 * Fetches a user document from Firestore by UID.
 * @param uid The user's unique ID.
 * @returns A promise that resolves with the user's data or null if not found.
 */
export const getUser = async (uid: string): Promise<UserProfile | null> => {
  const userRef = doc(firestore, 'users', uid);
  const userSnap = await getDoc(userRef);

  if (userSnap.exists()) {
    // We need to manually convert Timestamps to Dates
    const data = userSnap.data();
    return {
      ...data,
      createdAt: data.createdAt?.toDate(),
      lastLogin: data.lastLogin?.toDate(),
    } as UserProfile;
  }
  return null;
};

/**
 * Creates a new user document in Firestore, typically on sign-up.
 * @param uid The user's unique ID.
 * @param data The initial data for the user.
 */
export const createUserProfile = async (uid: string, data: Partial<Omit<UserProfile, 'uid'>>): Promise<void> => {
  const userRef = doc(firestore, 'users', uid);
  const now = serverTimestamp() as unknown as Date;

  const newUser: Partial<UserProfile> = {
    uid,
    role: 'Customer',
    loyaltyPointsBalance: 0,
    tierStatus: 'Bronze',
    rewardsAvailable: [],
    yellowemptionHistory: [],
    personalizedPromotions: [],
    referralCode: `REF-${uid.slice(0, 6).toUpperCase()}`,
    carWashCount: 0,
    preferences: {
      dietaryRestrictions: [],
      favoriteItems: [],
      preferyellowCarWashServices: [],
      preferyellowPaymentMethod: 'instore',
      communicationPreferences: {
        email: true,
        sms: false,
        promotions: true,
      },
    },
    ...data, // Allow overriding defaults with provided data
    createdAt: now, // Firestore will convert this to a Timestamp
    lastLogin: now, // Firestore will convert this to a Timestamp
  };

  await setDoc(userRef, newUser);
};

/**
 * Updates a user's document in Firestore.
 * @param uid The user's unique ID.
 * @param data The data to update.
 */
export const updateUser = async (uid: string, data: UpdateData<UserProfile>): Promise<void> => {
  const userRef = doc(firestore, 'users', uid);
  await updateDoc(userRef, data);
};
</file>

<file path="client/src/types/UserTypes.d.ts">
import { Reward, yellowemption, paymentMethod } from './index';
declare global {
  type UserRole =
    | 'coFounder'
    | 'Ceo'
    | 'Manager'
    | 'kitchenStaff'
    | 'carWashStaff'
    | 'Cashier'
    | 'Customer'
    | 'admin';

  interface UserPreferences {
    dietaryRestrictions: string[];
    favoriteItems: string[];
    preferyellowCarWashServices: string[];
    preferyellowPaymentMethod: paymentMethod
    communicationPreferences: {
      email: boolean;
      sms: boolean;
      promotions: boolean;
    };
  }

  interface UserProfile {
    uid: string;
    displayName: string | null;
    email: string | null;
    emailVerified: boolean;
    photoURL: string | null;
    phoneNumber: string | null;
    role: UserRole;
    address: string;
    city: string;
    state: string;
    zipCode: string;
    country: string;
    theme: 'system' | 'light' | 'dark';
    orderHistory: Order[];
    loyaltyPointsBalance?: number;
    tierStatus: string;
    rewardsAvailable: Reward[];
    yellowemptionHistory: yellowemption[];
    personalizedPromotions: string[];
    referralCode: string;
    carWashCount?: number;
    preferences: UserPreferences;
    savedPaymentMethods?: PaymentMethod[];
    createdAt: Date;
    updatedAt: Date;
    lastLogin?: Date;
  }
}
export { };
</file>

<file path="client/src/utils/dateUtils.ts">
export const formatDate = (date: Date | string): string => {
  const dateObj = date instanceof Date ? date : new Date(date);
  return dateObj.toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  });
};

export const generateTimeSlots = (start = 9, end = 17, interval = 60): string[] => {
  const slots: string[] = [];
  for (let hour = start; hour < end; hour++) {
    slots.push(
      `${hour.toString().padStart(2, '0')}:00`
    );
  }
  return slots;
};

export const isDateInPast = (date: Date | string): boolean => {
  const today = new Date();
  today.setHours(0, 0, 0, 0);
  const compayellowate = new Date(date);
  compayellowate.setHours(0, 0, 0, 0);
  return compayellowate < today;
};
</file>

<file path="client/src/app/Authentication/login/page.tsx">
'use client';

import { useState } from 'react';
import { signIn } from '@/firebase/auth/signIn';
import Loading from '@/components/shared/Loading';
import { useRouter } from 'next/navigation';

import Button from '@/components/shared/Button';
import TextInput from '@/components/shared/TextInput';
import AppLink from '@/components/shared/Link';
import { FaSignInAlt } from 'react-icons/fa';
import Main from '@/components/shared/layout/Main';
import Section from '@/components/shared/layout/Section';

export default function LoginPage() {
	const router = useRouter();
	const [email, setEmail] = useState('');
	const [password, setPassword] = useState('');
	const [error, setError] = useState<string | null>(null);
	const [loading, setLoading] = useState<string | null>(null); // To manage initial user check

	const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {
		event.preventDefault(); // Prevent default form submission
		setLoading('Signing in...'); // Set loading state to indicate sign-in process
		setError(null); // Clear previous errors

		try {
			const userCyellowential = await signIn(email, password);
			if (userCyellowential) {
				// The UserProvider will detect the auth change and handle data fetching.
				// We just need to navigate to the user's profile page.
				router.push('/profile');
			} else {
				// This case may not be hit if signIn throws an error, but it's a safe fallback.
				setError('Sign in failed. Please check your cyellowentials.');
			}
		} catch (err: unknown) {
			if (err instanceof Error) {
				setError(err.message);
			} else {
				setError('An unexpected error occuryellow during sign in.');
			}
		} finally {
			setLoading(null);
		}
	};

	if (loading) {
		return <Loading message={loading} />;
	}

	return (
		<Main>
			<Section>
				{error && (
					<div className='text-yellow-500 mb-4 mt-4 bg-yellow-900/20 p-3 rounded-md'>{error}</div>
				)}
				<form
					onSubmit={handleSubmit}
					className='space-y-6 mt-6'>
					<TextInput
						label='Email:'
						type='email'
						id='email'
						name='email'
						value={email}
						onChange={(e) => setEmail(e.target.value)}
						required
					/>
					<TextInput
						label='Password:'
						type='password'
						id='password'
						name='password'
						value={password}
						onChange={(e) => setPassword(e.target.value)}
						required
					/>
					<Button
						type='submit'
						variant='primary'
						className='w-full'
						size='lg'
						loading={!!loading}>
						Sign In
					</Button>
				</form>
				<p className='mt-6 text-white/70'>
					Don&apos;t have an account? <AppLink href='/Authentication/register'>Sign Up</AppLink>
				</p>
			</Section>
		</Main>
	);
}
</file>

<file path="client/src/app/menu/[Products]/[product]/comments/page.tsx">
import { collection, getDocs, query, where, Timestamp } from 'firebase/firestore';
import { Suspense } from 'react';

import GetUser from '@/firebase/users/server/GetServerUser';
import { redirect } from 'next/navigation';
import { firestore } from '@/firebase/firebaseConfig';
import Loading from '@/components/shared/Loading';
import Section from '@/components/shared/layout/Section';
import Button from '@/components/shared/Button';

interface CommentsProps {
	params: Promise<{ product: string }>;
}

const Comments: React.FC<CommentsProps> = async ({ params }) => {
	const user = await GetUser();
	if (!user?.uid) {
		return redirect('/Authentication/login');
	}
	const ProductName = (await params).product;
	const commentsRef = collection(firestore, 'products', ProductName, 'Comments');
	const q = query(commentsRef, where('userId', '==', user?.uid));
	const querySnapshot = await getDocs(q);

	const comments = querySnapshot.docs.map((doc) => ({
		id: doc.id,
		...(doc.data() as {
			userId: string;
			userName: string;
			comment: string;
			timestamp: Timestamp;
		}),
	}));

	return (
		<Section>
			<h2>Comments</h2>
			<ul className='space-y-4'>
				{comments.map((comment) => (
					<li
						key={comment.id}
						className='border-b border-white/20 pb-4'>
						<div className='flex items-start space-x-3'>
							<div className='flex-shrink-0 w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center text-white font-bold'>
								{comment.userName.charAt(0).toUpperCase()}
							</div>
							<div className='flex-1'>
								<div className='flex justify-between items-center'>
									<span className='font-semibold '>{comment.userName}</span>
									<span className='text-xs '>{comment.timestamp.toDate().toLocaleString()}</span>
								</div>
								<p className='mt-1'>{comment.comment}</p>
								<button className='mt-2 text-sm text-yellow-400 hover:underline'>REPLY</button>
							</div>
						</div>
					</li>
				))}
			</ul>
			<div className='mt-6 flex space-x-3'>
				<div className='flex-shrink-0 w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center text-white font-bold'>
					{user?.displayName?.charAt(0).toUpperCase()}
				</div>
				<div className='flex-1'>
					<textarea
						className='w-full p-3 border border-white/50 rounded-md bg-black/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all duration-200'
						placeholder={`What are your thoughts on ${ProductName}?`}
						rows={2}></textarea>
					<Button>Send</Button>
				</div>
			</div>
		</Section>
	);
};

export default Comments;
</file>

<file path="client/src/app/privacy/page.tsx">
import Main from '@/components/shared/layout/Main';
import Section from '@/components/shared/layout/Section';

const PrivacyPolicyPage: React.FC = () => {
	return (
		<Main tittle='Privacy Policy'>
			<Section>
				<div className='space-y-6'>
					<p>Effective Date: 26 July 2024</p>

					<article>
						<h2 className='text-2xl font-semibold mb-2'>1. Introduction</h2>
						<p>
							Welcome to PA Luxe Creation PTY Ltd. We are committed to protecting your privacy and
							ensuring that your personal information is handled in a safe and responsible manner.
							This Privacy Policy outlines how we collect, use, disclose, and safeguard your
							information when you use our services, including our website and digital booking
							system.
						</p>
					</article>

					<article>
						<h2 className='text-2xl font-semibold mb-2'>2. Information We Collect</h2>
						<p>
							We may collect information about you in a variety of ways. The information we may
							collect includes:
						</p>
						<h3 className='text-xl font-semibold mt-4 mb-2'>Personal Data</h3>
						<p>
							Personally identifiable information, such as your name, email address, and telephone
							number, that you voluntarily give to us when you use our digital booking system or
							contact us.
						</p>
						<h3 className='text-xl font-semibold mt-4 mb-2'>Usage Data</h3>
						<p>
							Information that our servers automatically collect when you access our website, such
							as your IP address, browser type, operating system, access times, and the pages you
							have viewed directly before and after accessing the site.
						</p>
					</article>

					<article>
						<h2 className='text-2xl font-semibold mb-2'>3. How We Use Your Information</h2>
						<p>
							Having accurate information about you permits us to provide you with a smooth,
							efficient, and customized experience. Specifically, we may use information collected
							about you to:
						</p>
						<ul className='list-disc list-inside ml-4 mt-2'>
							<li>Manage your bookings and appointments for our car wash services.</li>
							<li>Send you confirmations, reminders, and updates regarding your bookings.</li>
							<li>Respond to your comments and questions and provide customer service.</li>
							<li>
								Monitor and analyze usage and trends to improve your experience with our services.
							</li>
							<li>Notify you of updates to our services.</li>
						</ul>
					</article>

					<article>
						<h2 className='text-2xl font-semibold mb-2'>4. Data Sharing and Disclosure</h2>
						<p>
							We do not share, sell, rent, or trade your personal information with third parties for
							their commercial purposes. We may share information we have collected about you in
							certain situations, such as:
						</p>
						<ul className='list-disc list-inside ml-4 mt-2'>
							<li>
								<strong>By Law or to Protect Rights:</strong> If we believe the release of
								information about you is necessary to respond to legal process, to investigate or
								remedy potential violations of our policies, or to protect the rights, property, and
								safety of others, we may share your information as permitted or required by any
								applicable law, rule, or regulation.
							</li>
							<li>
								<strong>Service Providers:</strong> We may share your information with third parties
								that perform services for us or on our behalf, including payment processing, data
								analysis, email delivery, hosting services, and customer service.
							</li>
						</ul>
					</article>

					<article>
						<h2 className='text-2xl font-semibold mb-2'>5. Data Security</h2>
						<p>
							We use administrative, technical, and physical security measures to help protect your
							personal information. While we have taken reasonable steps to secure the personal
							information you provide to us, please be aware that despite our efforts, no security
							measures are perfect or impenetrable, and no method of data transmission can be
							guaranteed against any interception or other type of misuse.
						</p>
					</article>

					<article>
						<h2 className='text-2xl font-semibold mb-2'>6. Your Rights</h2>
						<p>
							You have the right to access, correct, or delete your personal information. You may
							also have the right to object to or restrict certain processing of your data. To
							exercise these rights, please contact us using the contact information provided below.
						</p>
					</article>

					<article>
						<h2 className='text-2xl font-semibold mb-2'>7. Changes to This Privacy Policy</h2>
						<p>
							We may update this Privacy Policy from time to time in order to reflect, for example,
							changes to our practices or for other operational, legal, or regulatory reasons. We
							will notify you of any changes by posting the new Privacy Policy on this page.
						</p>
					</article>

					<article>
						<h2 className='text-2xl font-semibold mb-2'>8. Contact Us</h2>
						<p>
							If you have questions or comments about this Privacy Policy, please contact us at:
							<br />
							PA Luxe Creation PTY Ltd
							<br />
							[Your Address Here]
							<br />
							Email: [Your Email Here]
							<br />
							Phone: [Your Phone Number Here]
						</p>
					</article>
				</div>
			</Section>
		</Main>
	);
};
export default PrivacyPolicyPage;
</file>

<file path="client/src/app/profile/components/Elements/UserAddress.tsx">
'use client';

import React, { useState, useEffect } from 'react';
import TextInput from '@/components/shared/TextInput';
import Button from '@/components/shared/Button';
import { FaMapMarkerAlt, FaSave } from 'react-icons/fa';
import { TbAccessPoint } from 'react-icons/tb';
import { updateUserDocument } from '@/firebase/users/updateUser';
import Loading from '@/components/shared/Loading';
import Alert from '@/components/shared/Alert';
import { useUser } from '@/context/UserContext';

const UserAddress: React.FC = () => {
	const { user, loading } = useUser();
	const [showAddressInput, setShowAddressInput] = useState(false);

	const [addressData, setAddressData] = useState({
		address: '',
		city: 'Phalaborwa',
		state: 'Limpopo',
		zipCode: '1392',
		country: 'South Africa',
	});

	const [errors, setErrors] = useState({
		address: false,
		city: false,
		state: false,
		zipCode: false,
		country: false,
	});

	useEffect(() => {
		if (user) {
			setAddressData({
				address: user.address || '',
				city: user.city || 'Phalaborwa',
				state: user.state || 'Limpopo',
				zipCode: user.zipCode || '1392',
				country: user.country || 'South Africa',
			});
		}
	}, [user]);

	const validateFields = () => {
		const newErrors = {
			address: !addressData.address.trim(),
			city: !addressData.city.trim(),
			state: !addressData.state.trim(),
			zipCode: !addressData.zipCode.trim(),
			country: !addressData.country.trim(),
		};
		setErrors(newErrors);
		return !Object.values(newErrors).some(Boolean);
	};

	const handleSave = async () => {
		if (!validateFields() || !user?.uid) {
			console.error('Validation failed or user not logged in.');
			return;
		}

		try {
			await updateUserDocument(user.uid, addressData);
			setShowAddressInput(false);
		} catch (error) {
			console.error('Failed to save address:', error);
		}
	};

	const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {
		const { name, value } = e.target;
		setAddressData((prev) => ({ ...prev, [name]: value }));
		setErrors((prev) => ({ ...prev, [name]: false }));
	};

	if (loading) return <Loading />;
	if (!user) return null;

	const fullAddress = `${user.address}, ${user.city}, ${user.state}, ${user.zipCode}, ${user.country}`;

	return (
		<article>
			<h3 className='flex items-center gap-2 text-xl font-bold mb-3'>
				<FaMapMarkerAlt /> Shipping Address
			</h3>

			{user.address && !showAddressInput ? <p className='text-white'>{fullAddress}</p> : null}

			{showAddressInput ? (
				<div className='mt-4 flex flex-col gap-3'>
					<TextInput
						type='text'
						name='address'
						placeholder='e.g., 123 Main St, Apt 4B'
						label='Street Address'
						value={addressData.address}
						onChange={handleInputChange}
						className={errors.address ? 'border-yellow-500 ring-yellow-500' : ''}
						required
					/>
					{errors.address && <p className='text-white text-sm mt-1'>Street address is required.</p>}

					<TextInput
						type='text'
						name='city'
						placeholder='e.g., Phalaborwa'
						label='City'
						value={addressData.city}
						onChange={handleInputChange}
						className={errors.city ? 'border-yellow-500 ring-yellow-500' : ''}
						required
					/>
					{errors.city && <p className='text-white text-sm mt-1'>City is required.</p>}

					<TextInput
						type='text'
						name='state'
						placeholder='e.g., Limpopo'
						label='State'
						value={addressData.state}
						onChange={handleInputChange}
						className={errors.state ? 'border-yellow-500 ring-yellow-500' : ''}
						required
					/>
					{errors.state && <p className='text-white text-sm mt-1'>State is required.</p>}

					<div className='flex gap-2'>
						<TextInput
							type='text'
							name='zipCode'
							placeholder='e.g., 1390'
							label='Zip Code'
							value={addressData.zipCode}
							onChange={handleInputChange}
							className={`flex-grow ${errors.zipCode ? 'border-yellow-500 ring-yellow-500' : ''}`}
							required
						/>
						<TextInput
							type='text'
							name='country'
							placeholder='e.g., South Africa'
							label='Country'
							value={addressData.country}
							onChange={handleInputChange}
							className={`flex-grow ${errors.country ? 'border-yellow-500 ring-yellow-500' : ''}`}
							required
						/>
					</div>
					{(errors.zipCode || errors.country) && (
						<p className='text-white text-sm mt-1'>
							{errors.zipCode && 'Zip code is required.'}
							{errors.zipCode && errors.country && ' '}
							{errors.country && 'Country is required.'}
						</p>
					)}

					<Button
						onClick={handleSave}
						className='h-10 px-4 py-2 inline-flex items-center justify-center gap-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-white transition duration-200 mt-2'>
						<FaSave /> Save Address
					</Button>
				</div>
			) : (
				<button
					onClick={() => setShowAddressInput(true)}
					className='inline-flex items-center gap-2 px-4 py-2 bg-black/50 text-white rounded-md hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-opacity-50 transition duration-200'>
					<TbAccessPoint /> {user.address ? 'Edit Address' : 'Add Address'}
				</button>
			)}
		</article>
	);
};

export default UserAddress;
</file>

<file path="client/src/app/profile/components/PaymentInformation.tsx">
'use client';
import React from 'react';
import Icon from '@/components/shared/Icon';
import Button from '@/components/shared/Button';
import { FaCreditCard, FaPlus } from 'react-icons/fa';

import { useUser } from '@/context/UserContext';
import { useRouter } from 'next/navigation';
import Section from '@/components/shared/layout/Section';

const PaymentInformation: React.FC = () => {
	const { user } = useUser();
	if (!user) {
		return null;
	}
	return (
		<Section
			Icon={FaCreditCard}
			tittle='Payment Information'>
			<article className='mt-6 space-y-4'>
				{user.savedPaymentMethods?.length === 0 ? (
					<p className='text-white/60 italic'>No saved payment methods.</p>
				) : (
					user.savedPaymentMethods?.map((method, index) => (
						<div
							key={index}
							className='bg-black/30 p-4 rounded-md flex justify-between items-center'>
							<div>
								<p className='font-semibold'>
									{method.type} **** {method.last4}
								</p>
								<p className='text-sm text-white/70'>Expires {method.expiry}</p>
							</div>
							{/* <Button variant="secondary" size="sm">Remove</Button> */}
						</div>
					))
				)}
				<Button
					variant='primary'
					className='w-full flex items-center justify-center'>
					<FaPlus className='mr-2' />
					Add New Card
				</Button>
			</article>
		</Section>
	);
};

export default PaymentInformation;
</file>

<file path="client/src/app/profile/page.tsx">
import PersonalInformation from './components/PersonalInformation';
import LoyaltyProgramInfo from './components/LoyaltyProgramInfo';
import Preferences from './components/Preferences';
import PaymentInformation from './components/PaymentInformation';
import AccountManagement from './components/AccountManagement';
import { FaUserCircle } from 'react-icons/fa';
import GetUser from '@/firebase/users/server/GetServerUser';
import { redirect } from 'next/navigation';
import Main from '@/components/shared/layout/Main';

const CustomerProfilePage: React.FC = async () => {
	return (
		<Main
			tittle='Profile'
			Icon={FaUserCircle}
			heading='Manage your personal information, preferences, and account security.'>
			<div className='grid grid-cols-1  gap-8'>
				<div className='lg:col-span-2 space-y-8'>
					<PersonalInformation />
					<PaymentInformation />
				</div>

				<div className='space-y-8'>
					<LoyaltyProgramInfo />
					<Preferences />
					<AccountManagement />
				</div>
			</div>
		</Main>
	);
};

export default CustomerProfilePage;
</file>

<file path="client/src/firebase/auth/logout.ts">
import { signOut } from "firebase/auth";
import deleteCookie from "@/hooks/Cookies/setdelete";
import { redirect } from "next/navigation";
import { auth } from "../firebaseConfig";

export const logout = async () => {
	try {
		await signOut(auth);
		await deleteCookie("userId");
		await deleteCookie("userRole");
		redirect('/Authentication/login');
	} catch (error) {
		console.error('Logout error:', error);
		throw error;
	}
};
</file>

<file path="client/src/firebase/users/updateUser.ts">
import { doc, updateDoc } from 'firebase/firestore';
import { firestore } from '../firebaseConfig';


/**
 * Updates a user's document in the Firestore 'users' collection.
 * @param uid The user's unique ID.
 * @param data A partial object of the user's data to update.
 */
export const updateUserDocument = async (uid: string, data: Partial<UserProfile>): Promise<void> => {
  if (!uid) {
    throw new Error('User ID is required to update the document.');
  }
  try {
    const userDocRef = doc(firestore, 'users', uid);
    await updateDoc(userDocRef, {
      ...data,
      updatedAt: new Date(),
    });
  } catch (error) {
    console.error('Error updating user document:', error);
    throw new Error('Failed to update user profile.');
  }
};
</file>

<file path="client/src/types/index.ts">
export interface Reward {
  name: string;
  pointsrequired: number;
}
export type paymentMethod = "instore" | "Cepitec transfer";

export interface yellowemption {
  name: string;
  date: string;
}
</file>

<file path="client/src/app/Authentication/register/page.tsx">
'use client';

import { useState } from 'react';
import { useRouter } from 'next/navigation';
import { signUp } from '@/firebase/auth/signUp';
import Button from '@/components/shared/Button';
import TextInput from '@/components/shared/TextInput';
import AppLink from '@/components/shared/Link';
import { FaUserPlus } from 'react-icons/fa';
import Icon from '@/components/shared/Icon';
import Main from '@/components/shared/layout/Main';
import Section from '@/components/shared/layout/Section';

const RegisterPage = () => {
	const [email, setEmail] = useState('');
	const [displayName, setDisplayName] = useState('');
	const [phoneNumber, setPhoneNumber] = useState('');
	const [password, setPassword] = useState('');
	const [error, setError] = useState<string | null>(null);
	const router = useRouter();

	const handleSubmit = async (e: React.FormEvent) => {
		e.preventDefault();
		setError(null); // Clear previous errors

		try {
			await signUp(email, password, displayName, phoneNumber);
			// redirect to profile page on successful registration
			router.push('/profile');
		} catch (err: unknown) {
			if (typeof err === 'object' && err !== null && 'message' in err) {
				console.error('Registration error:', err);
				setError((err.message as string) || 'An unexpected error occuryellow during registration.');
			} else {
				console.error('Registration error:', err);
				setError('An unexpected error occuryellow during registration.');
			}
		}
	};

	return (
		<Main tittle='Register'>
			<Section>
				{error && (
					<div className='text-yellow-500 mb-4 mt-4 bg-yellow-900/20 p-3 rounded-md'>{error}</div>
				)}
				<form
					onSubmit={handleSubmit}
					className='space-y-6 mt-6'>
					<TextInput
						label='Email'
						id='email'
						type='email'
						placeholder='Email'
						value={email}
						onChange={(e) => setEmail(e.target.value)}
						required
					/>
					<TextInput
						label='Display Name'
						id='displayName'
						type='text'
						placeholder='Display Name'
						value={displayName}
						onChange={(e) => setDisplayName(e.target.value)}
						required
					/>
					<TextInput
						label='Phone Number'
						id='phoneNumber'
						type='tel'
						placeholder='Phone Number'
						value={phoneNumber}
						onChange={(e) => setPhoneNumber(e.target.value)}
						required
					/>
					<TextInput
						label='Password'
						id='password'
						type='password'
						placeholder='******************'
						value={password}
						onChange={(e) => setPassword(e.target.value)}
						required
					/>
					<Button
						type='submit'
						variant='primary'
						className='w-full'
						size='lg'>
						Register
					</Button>
				</form>
				<p className='text-center text-sm mt-6 text-white/70'>
					Already have an account? <AppLink href='/Authentication/login'>Login</AppLink>
				</p>
			</Section>
		</Main>
	);
};

export default RegisterPage;
</file>

<file path="client/src/app/profile/edit/page.tsx">
'use client';

import React, { useState, useEffect } from 'react';
import { useRouter } from 'next/navigation';
import { FaSave, FaTimes } from 'react-icons/fa'; // Added FaImage for photo URL
import TextInput from '@/components/shared/TextInput';
import Button from '@/components/shared/Button';
import Avatar from '@/components/shared/Avatar';
import Loading from '@/components/shared/Loading'; // Assuming you have a Loading component
import { useUser } from '@/context/UserContext';
import { updateUser } from '@/firebase/users/utils';

import Section from '@/components/shared/layout/Section';

const EditProfilePage: React.FC = () => {
	const { user, loading } = useUser();
	const router = useRouter();

	// State for form fields
	const [displayName, setDisplayName] = useState('');
	const [phoneNumber, setPhoneNumber] = useState('');
	const [photoURL, setPhotoURL] = useState('');
	const [isSaving, setIsSaving] = useState(false);
	const [saveSuccess, setSaveSuccess] = useState<boolean | null>(null); // null, true, or false

	// Validation states
	const [displayNameError, setDisplayNameError] = useState(false);
	const [phoneNumberError, setPhoneNumberError] = useState(false);

	// Effect to initialize form fields when user data loads or changes
	useEffect(() => {
		if (user) {
			setDisplayName(user.displayName || '');
			setPhoneNumber(user.phoneNumber || '');
			setPhotoURL(user.photoURL || '');
		}
	}, [user]);

	// Handle redirection if user is not logged in after loading
	useEffect(() => {
		if (!loading && !user) {
			router.replace('/Authentication/login');
		}
	}, [user, loading, router]);

	// Show loading state while user data is being fetched by context
	if (loading) {
		return <Loading message='Loading profile data...' />;
	}

	// If user is null after loading, it means redirection is happening
	if (!user) {
		return null;
	}

	const validateForm = () => {
		let isValid = true;

		if (!displayName.trim()) {
			setDisplayNameError(true);
			isValid = false;
		} else {
			setDisplayNameError(false);
		}

		// Basic phone number validation (e.g., if it's not empty, check format)
		// You might want a more robust regex for real phone numbers
		if (phoneNumber.trim() && !/^\+?[0-9\s-()]{7,20}$/.test(phoneNumber.trim())) {
			setPhoneNumberError(true);
			isValid = false;
		} else {
			setPhoneNumberError(false);
		}

		return isValid;
	};

	const handleSave = async (e: React.FormEvent) => {
		e.preventDefault(); // Prevent default form submission

		if (!validateForm()) {
			return; // Stop if validation fails
		}

		setIsSaving(true);
		setSaveSuccess(null); // Reset feedback

		const updatedFields: Partial<UserProfile> = {
			displayName: displayName.trim(),
			phoneNumber: phoneNumber.trim() || null, // Store null if empty
			photoURL: photoURL.trim() || null, // Store null if empty
		};

		try {
			await updateUser(user.uid, updatedFields);
			setSaveSuccess(true);
			// Optionally, redirect back to the profile page after successful save
			router.push('/profile');
		} catch (error) {
			console.error('Error saving profile:', error);
			setSaveSuccess(false);
		} finally {
			setIsSaving(false);
		}
	};

	const handleCancel = () => {
		router.back(); // Go back to the previous page (e.g., PersonalInformation)
	};

	return (
		<Section>
			<div className='flex flex-col items-center mb-8'>
				<Avatar
					src={photoURL || user.photoURL} // Show current input photoURL if available, else user's
					alt={displayName || user.displayName || 'User'}
					size='large'
					className='mb-4 shadow-md'
				/>
				<h2 className='text-yellow-500 text-3xl font-bold mb-2'>Edit Personal Information</h2>
				<p className='text-yellow-500 text-lg'>Update your profile details below.</p>
			</div>

			<form
				onSubmit={handleSave}
				className='space-y-6'>
				{/* Display Name */}
				<div>
					<TextInput
						type='text'
						label='Display Name'
						placeholder='Your Name'
						value={displayName}
						onChange={(e) => {
							setDisplayName(e.target.value);
							setDisplayNameError(false);
						}}
						variant={displayNameError ? 'error' : 'default'}
						required
					/>
					{displayNameError && (
						<p className='text-yellow-500 text-sm mt-1'>Display Name is required.</p>
					)}
				</div>

				{/* Email (Read-only) */}
				<div>
					<TextInput
						type='email'
						label='Email (Cannot be changed here)'
						value={user.email || ''}
						disabled
						className='cursor-not-allowed bg-black/50'
					/>
					<p className='text-sm mt-1'>
						To change your email, please visit your account settings or contact support.
					</p>
				</div>

				{/* Phone Number */}
				<div>
					<TextInput
						type='tel' // Use 'tel' for phone numbers
						label='Phone Number'
						placeholder='e.g., +27 12 345 6789'
						value={phoneNumber}
						onChange={(e) => {
							setPhoneNumber(e.target.value);
							setPhoneNumberError(false);
						}}
						variant={phoneNumberError ? 'error' : 'default'}
					/>
					{phoneNumberError && (
						<p className='text-yellow-500 text-sm mt-1'>
							Please enter a valid phone number (optional).
						</p>
					)}
				</div>

				{/* Photo URL */}
				<div>
					<TextInput
						type='url' // Use 'url' for photo URLs
						label='Profile Photo URL'
						placeholder='https://example.com/your-photo.jpg'
						value={photoURL}
						onChange={(e) => setPhotoURL(e.target.value)}
						// No specific error state for URL unless you want to validate it's a valid image URL
					/>
					<p className='text-sm mt-1'>Enter a direct link to your profile picture.</p>
				</div>

				{/* Feedback Messages */}
				{saveSuccess === true && (
					<p className='text-white font-semibold text-center'>Profile updated successfully!</p>
				)}
				{saveSuccess === false && (
					<p className='text-yellow-600 font-semibold text-center'>
						Failed to update profile. Please try again.
					</p>
				)}

				{/* Action Buttons */}
				<div className='flex flex-col sm:flex-row gap-4 justify-end pt-4'>
					<Button
						type='button' // Important for non-submit buttons inside a form
						onClick={handleCancel}
						variant='secondary'
						size='md'
						className='w-full sm:w-auto'>
						<FaTimes className='mr-2' /> Cancel
					</Button>
					<Button
						type='submit'
						variant='primary'
						size='md'
						loading={isSaving}
						disabled={isSaving}
						className='w-full sm:w-auto'>
						<FaSave className='mr-2' /> {isSaving ? 'Saving...' : 'Save Changes'}
					</Button>
				</div>
			</form>
		</Section>
	);
};

export default EditProfilePage;
</file>

<file path="client/src/context/CartContext.tsx">
'use client';

import { createContext, useContext, useState, ReactNode, SetStateAction, Dispatch } from 'react';
import Products from '@/constant/Products';


interface CartContextType {
	products: ProductsType;
	setProducts: Dispatch<SetStateAction<ProductsType>>;
	setSearch: Dispatch<SetStateAction<string>>;
	search: string;
	matchingProductsByCategory: ProductType[];
	matchingCategories: ProductsType[number][];
	cartItems: CartItem[];
	addItem: (item: ProductType) => void;
	removeFromCart: (ProductID: ProductType['ProductID']) => void;
	clearCart: () => void;
	minisItemQuantity: (item: ProductType) => void;
	totalPrice: number;
	totalQuantity: number;
}

const CartContext = createContext<CartContextType | undefined>(undefined);

export const CartProvider = ({ children }: { children: ReactNode }) => {
	const [cartItems, setCartItems] = useState<CartItem[]>([]);
	const [products, setProducts] = useState<ProductsType>(Products);
	const [search, setSearch] = useState('');
	const searchTerm = search.trim().toLowerCase();

	// Find categories that match the search
	const matchingCategories = products.filter((group: ProductsType[number]) =>
		group.Name.toLowerCase().includes(searchTerm)
	);
	// Find products that match the search, grouped by category
	const matchingProductsByCategory = products.flatMap((group: ProductsType[number]) =>
		group.Products.filter((product: ProductType) => product.Name.toLowerCase().includes(searchTerm))
	);

	const addItem = (item: ProductType) => {
		setCartItems((prevItems) => {
			const existingItem = prevItems.find((cartItem) => cartItem.ProductID === item.ProductID);
			if (existingItem) {
				return prevItems.map((cartItem) =>
					cartItem.ProductID === item.ProductID
						? { ...cartItem, quantity: cartItem.quantity + 1 }
						: cartItem
				);
			} else {
				const newItem: CartItem = { ...item, quantity: 1 };
				return [...prevItems, newItem];
			}
		});
		// router.push('/menu/cart'); // Removed automatic redirect
	};
	const removeFromCart = (ProductID: ProductType['ProductID']) => {
		const updatedItems = cartItems.filter((item) => item.ProductID !== ProductID);
		setCartItems(updatedItems);
	};

	const minisItemQuantity = (item: ProductType) => {
		setCartItems((prevItems) => {
			return prevItems.map((cartItem) =>
				cartItem.Name === item.Name ? { ...cartItem, quantity: cartItem.quantity - 1 } : cartItem
			);
		});
	};

	const clearCart = () => {
		setCartItems([]);
	};

	const totalPrice = cartItems.reduce((sum, item) => sum + item.Price * item.quantity, 0);
	const totalQuantity = cartItems.reduce((sum, item) => sum + item.quantity, 0);

	return (
		<CartContext.Provider
			value={{
				cartItems,
				totalPrice,
				totalQuantity,
				addItem,
				removeFromCart,
				minisItemQuantity,
				clearCart,
				products,
				setProducts,
				matchingCategories,
				matchingProductsByCategory,
				search,
				setSearch,
			}}>
			{children}
		</CartContext.Provider>
	);
};

export const useCart = () => {
	const context = useContext(CartContext);
	if (context === undefined) {
		throw new Error('useCart must be used within a CartProvider');
	}
	return context;
};

// Ensure CartItem has ProductID, Name, Price, quantity, and Image properties

// Toast Context for notifications
interface ToastContextType {
	showToast: (message: string) => void;
}
const ToastContext = createContext<ToastContextType | undefined>(undefined);

export const ToastProvider = ({ children }: { children: ReactNode }) => {
	const [toast, setToast] = useState<string | null>(null);
	const showToast = (message: string) => {
		setToast(message);
		setTimeout(() => setToast(null), 2500); // 4 seconds
	};
	return (
		<ToastContext.Provider value={{ showToast }}>
			{children}
			{toast && (
				<div className='fixed bottom-8 right-8 z-50 bg-black border-2 border-yellow-500  font-bold text-lg px-6 py-3 rounded-md shadow-2xl animate-fadein min-w-[180px] text-center'>
					{toast}
				</div>
			)}
		</ToastContext.Provider>
	);
};

export const useToast = () => {
	const context = useContext(ToastContext);
	if (!context) throw new Error('useToast must be used within a ToastProvider');
	return context;
};
</file>

<file path="client/src/context/RouteGuardContext.tsx">
'use client';

import React, { ReactNode, useEffect } from 'react';
import { usePathname, useRouter } from 'next/navigation';
import { useUser } from './UserContext';
import Loading from '@/components/shared/Loading';

// --- Route Protection Logic --- //
export const publicPaths = ['/', '/contact', '/about', '/gallery', '/terms', '/blog','/photo'];
export const AuthenticationPaths = ['/Authentication/login', '/Authentication/register'];
export const protectedPaths = ['/profile', '/orders', '/carwash/booking', '/menu'];
export const adminPaths = [
	'/Admin/menu',
	'/Admin/order',
	'/Admin/carwash',
	'/Admin/inventory',
	'/Admin/dashboard',
	'/Admin/seed',
];

export const roleBasedPaths: Record<UserRole, string[]> = {
	coFounder: ['*'],
	Ceo: ['*'],
	Manager: ['*'],
	Cashier: [...publicPaths, ...protectedPaths, '/Admin/menu'],
	carWashStaff: [...publicPaths, ...protectedPaths, '/Admin/carwash'],
	kitchenStaff: [...publicPaths, ...protectedPaths, '/Admin/inventory', '/Admin/order'],
	Customer: [...publicPaths, ...protectedPaths],
	admin: ['*'],
};

export function normalizePath(path: string) {
	// Always start with '/'; remove trailing slash except root
	if (!path.startsWith('/')) path = '/' + path;
	if (path.length > 1 && path.endsWith('/')) path = path.slice(0, -1);
	return path;
}

export const RouteGuard: React.FC<{ children: ReactNode }> = ({ children }) => {
	const { user, loading } = useUser();
	const router = useRouter();
	const pathname = normalizePath(usePathname());

	useEffect(() => {
		if (loading) return; // Wait until user data is loaded

		const isPublic = publicPaths.some(
			(path) => pathname === normalizePath(path) || pathname.startsWith(normalizePath(path) + '/')
		);
		const isProtected = protectedPaths.some(
			(path) => pathname === normalizePath(path) || pathname.startsWith(normalizePath(path) + '/')
		);
		const isAuthentication = AuthenticationPaths.some(
			(path) => pathname === normalizePath(path) || pathname.startsWith(normalizePath(path) + '/')
		);

		if (!user && isProtected) {
			router.push('/Authentication/login');
			return;
		}

		if (user) {
			if (isAuthentication) {
				router.push('/profile');
				return;
			}

			const allowedPaths = roleBasedPaths[user.role];
			if (allowedPaths && !allowedPaths.includes('*')) {
				const isPathAllowed = allowedPaths.some(
					(path) =>
						pathname === normalizePath(path) || pathname.startsWith(normalizePath(path) + '/')
				);
				if (!isPathAllowed) {
					router.push('/profile'); // redirect to a default safe page
				}
			}
		}
	}, [user, loading, pathname, router]);

	if (loading) {
		return <Loading message='Checking cyellowentials...' />;
	}

	return <>{children}</>;
};
</file>

</files>
